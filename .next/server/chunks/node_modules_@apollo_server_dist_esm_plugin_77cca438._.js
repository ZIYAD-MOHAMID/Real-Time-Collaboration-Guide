module.exports=[42144,e=>{"use strict";var r=e.i(54509);function n(e){let n=e.getType("_Service");if(!(0,r.isObjectType)(n))return!1;let i=n.getFields().sdl;if(!i)return!1;let t=i.type;return(0,r.isNonNullType)(t)&&(t=t.ofType),!!(0,r.isScalarType)(t)&&"String"==t.name}e.s(["schemaIsSubgraph",()=>n])},10428,e=>{"use strict";var r=e.i(64626),n=e.i(14658),i=e.i(62984),t=e.i(42144);function l(e=Object.create(null)){let s=!e.__onlyIfSchemaIsSubgraph||null;return(0,i.internalPlugin)({__internal_plugin_id__:"InlineTrace",__is_disabled_plugin__:!1,async serverWillStart({schema:e,logger:r}){null===s&&(s=(0,t.schemaIsSubgraph)(e))&&r.info("Enabling inline tracing for this subgraph. To disable, use ApolloServerPluginInlineTraceDisabled.")},async requestDidStart({request:{http:i},metrics:t}){if(!s)return;let l=new n.TraceTreeBuilder({maskedBy:"ApolloServerPluginInlineTrace",sendErrors:e.includeErrors});if(i?.headers.get("apollo-federation-include-trace")==="ftv1"&&!1!==t.captureTraces)return t.captureTraces=!0,l.startTiming(),{executionDidStart:async()=>({willResolveField:({info:e})=>l.willResolveField(e)}),async didEncounterErrors({errors:e}){l.didEncounterErrors(e)},async willSendResponse({response:e}){if(l.stopTiming(),"incremental"===e.body.kind)return;t.queryPlanTrace&&(l.trace.queryPlan=t.queryPlanTrace);let n=r.Trace.encode(l.trace).finish(),i=Buffer.from(n,n.byteOffset,n.byteLength),s=e.body.singleResult.extensions||(e.body.singleResult.extensions=Object.create(null));if(void 0!==s.ftv1)throw Error("The `ftv1` extension was already present.");s.ftv1=i.toString("base64")}}}})}e.s(["ApolloServerPluginInlineTrace",()=>l])}];

//# sourceMappingURL=node_modules_%40apollo_server_dist_esm_plugin_77cca438._.js.map