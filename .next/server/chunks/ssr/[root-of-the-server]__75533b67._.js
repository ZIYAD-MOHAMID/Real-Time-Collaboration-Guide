module.exports=[18161,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isFunction=void 0,c.isFunction=function(a){return"function"==typeof a}},3195,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.createErrorClass=void 0,c.createErrorClass=function(a){var b=a(function(a){Error.call(a),a.stack=Error().stack});return b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,b}},90157,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.UnsubscriptionError=void 0,c.UnsubscriptionError=a.r(3195).createErrorClass(function(a){return function(b){a(this),this.message=b?b.length+" errors occurred during unsubscription:\n"+b.map(function(a,b){return b+1+") "+a.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=b}})},58395,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.arrRemove=void 0,c.arrRemove=function(a,b){if(a){var c=a.indexOf(b);0<=c&&a.splice(c,1)}}},78298,(a,b,c)=>{"use strict";var d=a.e&&a.e.__values||function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},e=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},f=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.isSubscription=c.EMPTY_SUBSCRIPTION=c.Subscription=void 0;var g=a.r(18161),h=a.r(90157),i=a.r(58395),j=function(){var a;function b(a){this.initialTeardown=a,this.closed=!1,this._parentage=null,this._finalizers=null}return b.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a,b,c,i,j,l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var m=d(l),n=m.next();!n.done;n=m.next())n.value.remove(this)}catch(b){a={error:b}}finally{try{n&&!n.done&&(b=m.return)&&b.call(m)}finally{if(a)throw a.error}}else l.remove(this);var o=this.initialTeardown;if(g.isFunction(o))try{o()}catch(a){j=a instanceof h.UnsubscriptionError?a.errors:[a]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var q=d(p),r=q.next();!r.done;r=q.next()){var s=r.value;try{k(s)}catch(a){j=null!=j?j:[],a instanceof h.UnsubscriptionError?j=f(f([],e(j)),e(a.errors)):j.push(a)}}}catch(a){c={error:a}}finally{try{r&&!r.done&&(i=q.return)&&i.call(q)}finally{if(c)throw c.error}}}if(j)throw new h.UnsubscriptionError(j)}},b.prototype.add=function(a){var c;if(a&&a!==this)if(this.closed)k(a);else{if(a instanceof b){if(a.closed||a._hasParent(this))return;a._addParent(this)}(this._finalizers=null!=(c=this._finalizers)?c:[]).push(a)}},b.prototype._hasParent=function(a){var b=this._parentage;return b===a||Array.isArray(b)&&b.includes(a)},b.prototype._addParent=function(a){var b=this._parentage;this._parentage=Array.isArray(b)?(b.push(a),b):b?[b,a]:a},b.prototype._removeParent=function(a){var b=this._parentage;b===a?this._parentage=null:Array.isArray(b)&&i.arrRemove(b,a)},b.prototype.remove=function(a){var c=this._finalizers;c&&i.arrRemove(c,a),a instanceof b&&a._removeParent(this)},(a=new b).closed=!0,b.EMPTY=a,b}();function k(a){g.isFunction(a)?a():a.unsubscribe()}c.Subscription=j,c.EMPTY_SUBSCRIPTION=j.EMPTY,c.isSubscription=function(a){return a instanceof j||a&&"closed"in a&&g.isFunction(a.remove)&&g.isFunction(a.add)&&g.isFunction(a.unsubscribe)}},29945,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.config=void 0,c.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},73856,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.timeoutProvider=void 0,c.timeoutProvider={setTimeout:function(a,b){for(var f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];var h=c.timeoutProvider.delegate;return(null==h?void 0:h.setTimeout)?h.setTimeout.apply(h,e([a,b],d(f))):setTimeout.apply(void 0,e([a,b],d(f)))},clearTimeout:function(a){var b=c.timeoutProvider.delegate;return((null==b?void 0:b.clearTimeout)||clearTimeout)(a)},delegate:void 0}},1647,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.reportUnhandledError=void 0;var d=a.r(29945),e=a.r(73856);c.reportUnhandledError=function(a){e.timeoutProvider.setTimeout(function(){var b=d.config.onUnhandledError;if(b)b(a);else throw a})}},40621,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.noop=void 0,c.noop=function(){}},96479,(a,b,c)=>{"use strict";function d(a,b,c){return{kind:a,value:b,error:c}}Object.defineProperty(c,"__esModule",{value:!0}),c.createNotification=c.nextNotification=c.errorNotification=c.COMPLETE_NOTIFICATION=void 0,c.COMPLETE_NOTIFICATION=d("C",void 0,void 0),c.errorNotification=function(a){return d("E",void 0,a)},c.nextNotification=function(a){return d("N",a,void 0)},c.createNotification=d},72830,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.captureError=c.errorContext=void 0;var d=a.r(29945),e=null;c.errorContext=function(a){if(d.config.useDeprecatedSynchronousErrorHandling){var b=!e;if(b&&(e={errorThrown:!1,error:null}),a(),b){var c=e,f=c.errorThrown,g=c.error;if(e=null,f)throw g}}else a()},c.captureError=function(a){d.config.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=a)}},73322,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.EMPTY_OBSERVER=c.SafeSubscriber=c.Subscriber=void 0;var f=a.r(18161),g=a.r(78298),h=a.r(29945),i=a.r(1647),j=a.r(40621),k=a.r(96479),l=a.r(73856),m=a.r(72830),n=function(a){function b(b){var d=a.call(this)||this;return d.isStopped=!1,b?(d.destination=b,g.isSubscription(b)&&b.add(d)):d.destination=c.EMPTY_OBSERVER,d}return e(b,a),b.create=function(a,b,c){return new r(a,b,c)},b.prototype.next=function(a){this.isStopped?t(k.nextNotification(a),this):this._next(a)},b.prototype.error=function(a){this.isStopped?t(k.errorNotification(a),this):(this.isStopped=!0,this._error(a))},b.prototype.complete=function(){this.isStopped?t(k.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},b.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this),this.destination=null)},b.prototype._next=function(a){this.destination.next(a)},b.prototype._error=function(a){try{this.destination.error(a)}finally{this.unsubscribe()}},b.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},b}(g.Subscription);c.Subscriber=n;var o=Function.prototype.bind;function p(a,b){return o.call(a,b)}var q=function(){function a(a){this.partialObserver=a}return a.prototype.next=function(a){var b=this.partialObserver;if(b.next)try{b.next(a)}catch(a){s(a)}},a.prototype.error=function(a){var b=this.partialObserver;if(b.error)try{b.error(a)}catch(a){s(a)}else s(a)},a.prototype.complete=function(){var a=this.partialObserver;if(a.complete)try{a.complete()}catch(a){s(a)}},a}(),r=function(a){function b(b,c,d){var e,g,i=a.call(this)||this;return f.isFunction(b)||!b?e={next:null!=b?b:void 0,error:null!=c?c:void 0,complete:null!=d?d:void 0}:i&&h.config.useDeprecatedNextContext?((g=Object.create(b)).unsubscribe=function(){return i.unsubscribe()},e={next:b.next&&p(b.next,g),error:b.error&&p(b.error,g),complete:b.complete&&p(b.complete,g)}):e=b,i.destination=new q(e),i}return e(b,a),b}(n);function s(a){h.config.useDeprecatedSynchronousErrorHandling?m.captureError(a):i.reportUnhandledError(a)}function t(a,b){var c=h.config.onStoppedNotification;c&&l.timeoutProvider.setTimeout(function(){return c(a,b)})}c.SafeSubscriber=r,c.EMPTY_OBSERVER={closed:!0,next:j.noop,error:function(a){throw a},complete:j.noop}},62585,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.observable=void 0,c.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},68666,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.identity=void 0,c.identity=function(a){return a}},36377,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.pipeFromArray=c.pipe=void 0;var d=a.r(68666);function e(a){return 0===a.length?d.identity:1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a)},b)}}c.pipe=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return e(a)},c.pipeFromArray=e},39415,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Observable=void 0;var d=a.r(73322),e=a.r(78298),f=a.r(62585),g=a.r(36377),h=a.r(29945),i=a.r(18161),j=a.r(72830);function k(a){var b;return null!=(b=null!=a?a:h.config.Promise)?b:Promise}c.Observable=function(){function a(a){a&&(this._subscribe=a)}return a.prototype.lift=function(b){var c=new a;return c.source=this,c.operator=b,c},a.prototype.subscribe=function(a,b,c){var f=this,g=!function(a){return a&&a instanceof d.Subscriber||a&&i.isFunction(a.next)&&i.isFunction(a.error)&&i.isFunction(a.complete)&&e.isSubscription(a)}(a)?new d.SafeSubscriber(a,b,c):a;return j.errorContext(function(){var a=f.operator,b=f.source;g.add(a?a.call(g,b):b?f._subscribe(g):f._trySubscribe(g))}),g},a.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch(b){a.error(b)}},a.prototype.forEach=function(a,b){var c=this;return new(b=k(b))(function(b,e){var f=new d.SafeSubscriber({next:function(b){try{a(b)}catch(a){e(a),f.unsubscribe()}},error:e,complete:b});c.subscribe(f)})},a.prototype._subscribe=function(a){var b;return null==(b=this.source)?void 0:b.subscribe(a)},a.prototype[f.observable]=function(){return this},a.prototype.pipe=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return g.pipeFromArray(a)(this)},a.prototype.toPromise=function(a){var b=this;return new(a=k(a))(function(a,c){var d;b.subscribe(function(a){return d=a},function(a){return c(a)},function(){return a(d)})})},a.create=function(b){return new a(b)},a}()},92321,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.operate=c.hasLift=void 0;var d=a.r(18161);function e(a){return d.isFunction(null==a?void 0:a.lift)}c.hasLift=e,c.operate=function(a){return function(b){if(e(b))return b.lift(function(b){try{return a(b,this)}catch(a){this.error(a)}});throw TypeError("Unable to lift unknown Observable type")}}},77407,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.OperatorSubscriber=c.createOperatorSubscriber=void 0;var f=a.r(73322);c.createOperatorSubscriber=function(a,b,c,d,e){return new g(a,b,c,d,e)};var g=function(a){function b(b,c,d,e,f,g){var h=a.call(this,b)||this;return h.onFinalize=f,h.shouldUnsubscribe=g,h._next=c?function(a){try{c(a)}catch(a){b.error(a)}}:a.prototype._next,h._error=e?function(a){try{e(a)}catch(a){b.error(a)}finally{this.unsubscribe()}}:a.prototype._error,h._complete=d?function(){try{d()}catch(a){b.error(a)}finally{this.unsubscribe()}}:a.prototype._complete,h}return e(b,a),b.prototype.unsubscribe=function(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var c=this.closed;a.prototype.unsubscribe.call(this),c||null==(b=this.onFinalize)||b.call(this)}},b}(f.Subscriber);c.OperatorSubscriber=g},5306,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.refCount=void 0;var d=a.r(92321),e=a.r(77407);c.refCount=function(){return d.operate(function(a,b){var c=null;a._refCount++;var d=e.createOperatorSubscriber(b,void 0,void 0,void 0,function(){if(!a||a._refCount<=0||0<--a._refCount){c=null;return}var d=a._connection,e=c;c=null,d&&(!e||d===e)&&d.unsubscribe(),b.unsubscribe()});a.subscribe(d),d.closed||(c=a.connect())})}},67361,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.ConnectableObservable=void 0;var f=a.r(39415),g=a.r(78298),h=a.r(5306),i=a.r(77407),j=a.r(92321);c.ConnectableObservable=function(a){function b(b,c){var d=a.call(this)||this;return d.source=b,d.subjectFactory=c,d._subject=null,d._refCount=0,d._connection=null,j.hasLift(b)&&(d.lift=b.lift),d}return e(b,a),b.prototype._subscribe=function(a){return this.getSubject().subscribe(a)},b.prototype.getSubject=function(){var a=this._subject;return(!a||a.isStopped)&&(this._subject=this.subjectFactory()),this._subject},b.prototype._teardown=function(){this._refCount=0;var a=this._connection;this._subject=this._connection=null,null==a||a.unsubscribe()},b.prototype.connect=function(){var a=this,b=this._connection;if(!b){b=this._connection=new g.Subscription;var c=this.getSubject();b.add(this.source.subscribe(i.createOperatorSubscriber(c,void 0,function(){a._teardown(),c.complete()},function(b){a._teardown(),c.error(b)},function(){return a._teardown()}))),b.closed&&(this._connection=null,b=g.Subscription.EMPTY)}return b},b.prototype.refCount=function(){return h.refCount()(this)},b}(f.Observable)},42356,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.performanceTimestampProvider=void 0,c.performanceTimestampProvider={now:function(){return(c.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},51319,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.animationFrameProvider=void 0;var f=a.r(78298);c.animationFrameProvider={schedule:function(a){var b=requestAnimationFrame,d=cancelAnimationFrame,e=c.animationFrameProvider.delegate;e&&(b=e.requestAnimationFrame,d=e.cancelAnimationFrame);var g=b(function(b){d=void 0,a(b)});return new f.Subscription(function(){return null==d?void 0:d(g)})},requestAnimationFrame:function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var f=c.animationFrameProvider.delegate;return((null==f?void 0:f.requestAnimationFrame)||requestAnimationFrame).apply(void 0,e([],d(a)))},cancelAnimationFrame:function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var f=c.animationFrameProvider.delegate;return((null==f?void 0:f.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,e([],d(a)))},delegate:void 0}},82272,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.animationFrames=void 0;var d=a.r(39415),e=a.r(42356),f=a.r(51319);function g(a){return new d.Observable(function(b){var c=a||e.performanceTimestampProvider,d=c.now(),g=0,h=function(){b.closed||(g=f.animationFrameProvider.requestAnimationFrame(function(e){g=0;var f=c.now();b.next({timestamp:a?f:e,elapsed:f-d}),h()}))};return h(),function(){g&&f.animationFrameProvider.cancelAnimationFrame(g)}})}c.animationFrames=function(a){return a?g(a):h};var h=g()},35279,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ObjectUnsubscribedError=void 0,c.ObjectUnsubscribedError=a.r(3195).createErrorClass(function(a){return function(){a(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},1493,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),f=a.e&&a.e.__values||function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.AnonymousSubject=c.Subject=void 0;var g=a.r(39415),h=a.r(78298),i=a.r(35279),j=a.r(58395),k=a.r(72830),l=function(a){function b(){var b=a.call(this)||this;return b.closed=!1,b.currentObservers=null,b.observers=[],b.isStopped=!1,b.hasError=!1,b.thrownError=null,b}return e(b,a),b.prototype.lift=function(a){var b=new m(this,this);return b.operator=a,b},b.prototype._throwIfClosed=function(){if(this.closed)throw new i.ObjectUnsubscribedError},b.prototype.next=function(a){var b=this;k.errorContext(function(){var c,d;if(b._throwIfClosed(),!b.isStopped){b.currentObservers||(b.currentObservers=Array.from(b.observers));try{for(var e=f(b.currentObservers),g=e.next();!g.done;g=e.next())g.value.next(a)}catch(a){c={error:a}}finally{try{g&&!g.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}}})},b.prototype.error=function(a){var b=this;k.errorContext(function(){if(b._throwIfClosed(),!b.isStopped){b.hasError=b.isStopped=!0,b.thrownError=a;for(var c=b.observers;c.length;)c.shift().error(a)}})},b.prototype.complete=function(){var a=this;k.errorContext(function(){if(a._throwIfClosed(),!a.isStopped){a.isStopped=!0;for(var b=a.observers;b.length;)b.shift().complete()}})},b.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(b.prototype,"observed",{get:function(){var a;return(null==(a=this.observers)?void 0:a.length)>0},enumerable:!1,configurable:!0}),b.prototype._trySubscribe=function(b){return this._throwIfClosed(),a.prototype._trySubscribe.call(this,b)},b.prototype._subscribe=function(a){return this._throwIfClosed(),this._checkFinalizedStatuses(a),this._innerSubscribe(a)},b.prototype._innerSubscribe=function(a){var b=this,c=this.hasError,d=this.isStopped,e=this.observers;return c||d?h.EMPTY_SUBSCRIPTION:(this.currentObservers=null,e.push(a),new h.Subscription(function(){b.currentObservers=null,j.arrRemove(e,a)}))},b.prototype._checkFinalizedStatuses=function(a){var b=this.hasError,c=this.thrownError,d=this.isStopped;b?a.error(c):d&&a.complete()},b.prototype.asObservable=function(){var a=new g.Observable;return a.source=this,a},b.create=function(a,b){return new m(a,b)},b}(g.Observable);c.Subject=l;var m=function(a){function b(b,c){var d=a.call(this)||this;return d.destination=b,d.source=c,d}return e(b,a),b.prototype.next=function(a){var b,c;null==(c=null==(b=this.destination)?void 0:b.next)||c.call(b,a)},b.prototype.error=function(a){var b,c;null==(c=null==(b=this.destination)?void 0:b.error)||c.call(b,a)},b.prototype.complete=function(){var a,b;null==(b=null==(a=this.destination)?void 0:a.complete)||b.call(a)},b.prototype._subscribe=function(a){var b,c;return null!=(c=null==(b=this.source)?void 0:b.subscribe(a))?c:h.EMPTY_SUBSCRIPTION},b}(l);c.AnonymousSubject=m},461,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.BehaviorSubject=void 0,c.BehaviorSubject=function(a){function b(b){var c=a.call(this)||this;return c._value=b,c}return e(b,a),Object.defineProperty(b.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),b.prototype._subscribe=function(b){var c=a.prototype._subscribe.call(this,b);return c.closed||b.next(this._value),c},b.prototype.getValue=function(){var a=this.hasError,b=this.thrownError,c=this._value;if(a)throw b;return this._throwIfClosed(),c},b.prototype.next=function(b){a.prototype.next.call(this,this._value=b)},b}(a.r(1493).Subject)},95916,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.dateTimestampProvider=void 0,c.dateTimestampProvider={now:function(){return(c.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},25737,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.ReplaySubject=void 0;var f=a.r(1493),g=a.r(95916);c.ReplaySubject=function(a){function b(b,c,d){void 0===b&&(b=1/0),void 0===c&&(c=1/0),void 0===d&&(d=g.dateTimestampProvider);var e=a.call(this)||this;return e._bufferSize=b,e._windowTime=c,e._timestampProvider=d,e._buffer=[],e._infiniteTimeWindow=!0,e._infiniteTimeWindow=c===1/0,e._bufferSize=Math.max(1,b),e._windowTime=Math.max(1,c),e}return e(b,a),b.prototype.next=function(b){var c=this.isStopped,d=this._buffer,e=this._infiniteTimeWindow,f=this._timestampProvider,g=this._windowTime;!c&&(d.push(b),e||d.push(f.now()+g)),this._trimBuffer(),a.prototype.next.call(this,b)},b.prototype._subscribe=function(a){this._throwIfClosed(),this._trimBuffer();for(var b=this._innerSubscribe(a),c=this._infiniteTimeWindow,d=this._buffer.slice(),e=0;e<d.length&&!a.closed;e+=c?1:2)a.next(d[e]);return this._checkFinalizedStatuses(a),b},b.prototype._trimBuffer=function(){var a=this._bufferSize,b=this._timestampProvider,c=this._buffer,d=this._infiniteTimeWindow,e=(d?1:2)*a;if(a<1/0&&e<c.length&&c.splice(0,c.length-e),!d){for(var f=b.now(),g=0,h=1;h<c.length&&c[h]<=f;h+=2)g=h;g&&c.splice(0,g+1)}},b}(f.Subject)},17987,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.AsyncSubject=void 0,c.AsyncSubject=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b._value=null,b._hasValue=!1,b._isComplete=!1,b}return e(b,a),b.prototype._checkFinalizedStatuses=function(a){var b=this.hasError,c=this._hasValue,d=this._value,e=this.thrownError,f=this.isStopped,g=this._isComplete;b?a.error(e):(f||g)&&(c&&a.next(d),a.complete())},b.prototype.next=function(a){this.isStopped||(this._value=a,this._hasValue=!0)},b.prototype.complete=function(){var b=this._hasValue,c=this._value;this._isComplete||(this._isComplete=!0,b&&a.prototype.next.call(this,c),a.prototype.complete.call(this))},b}(a.r(1493).Subject)},25860,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.Action=void 0,c.Action=function(a){function b(b,c){return a.call(this)||this}return e(b,a),b.prototype.schedule=function(a,b){return void 0===b&&(b=0),this},b}(a.r(78298).Subscription)},16204,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.intervalProvider=void 0,c.intervalProvider={setInterval:function(a,b){for(var f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];var h=c.intervalProvider.delegate;return(null==h?void 0:h.setInterval)?h.setInterval.apply(h,e([a,b],d(f))):setInterval.apply(void 0,e([a,b],d(f)))},clearInterval:function(a){var b=c.intervalProvider.delegate;return((null==b?void 0:b.clearInterval)||clearInterval)(a)},delegate:void 0}},24253,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.AsyncAction=void 0;var f=a.r(25860),g=a.r(16204),h=a.r(58395);c.AsyncAction=function(a){function b(b,c){var d=a.call(this,b,c)||this;return d.scheduler=b,d.work=c,d.pending=!1,d}return e(b,a),b.prototype.schedule=function(a,b){if(void 0===b&&(b=0),this.closed)return this;this.state=a;var c,d=this.id,e=this.scheduler;return null!=d&&(this.id=this.recycleAsyncId(e,d,b)),this.pending=!0,this.delay=b,this.id=null!=(c=this.id)?c:this.requestAsyncId(e,this.id,b),this},b.prototype.requestAsyncId=function(a,b,c){return void 0===c&&(c=0),g.intervalProvider.setInterval(a.flush.bind(a,this),c)},b.prototype.recycleAsyncId=function(a,b,c){if(void 0===c&&(c=0),null!=c&&this.delay===c&&!1===this.pending)return b;null!=b&&g.intervalProvider.clearInterval(b)},b.prototype.execute=function(a,b){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var c=this._execute(a,b);if(c)return c;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},b.prototype._execute=function(a,b){var c,d=!1;try{this.work(a)}catch(a){d=!0,c=a||Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),c},b.prototype.unsubscribe=function(){if(!this.closed){var b=this.id,c=this.scheduler,d=c.actions;this.work=this.state=this.scheduler=null,this.pending=!1,h.arrRemove(d,this),null!=b&&(this.id=this.recycleAsyncId(c,b,null)),this.delay=null,a.prototype.unsubscribe.call(this)}},b}(f.Action)},57753,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TestTools=c.Immediate=void 0;var d,e=1,f={};function g(a){return a in f&&(delete f[a],!0)}c.Immediate={setImmediate:function(a){var b=e++;return f[b]=!0,d||(d=Promise.resolve()),d.then(function(){return g(b)&&a()}),b},clearImmediate:function(a){g(a)}},c.TestTools={pending:function(){return Object.keys(f).length}}},56439,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.immediateProvider=void 0;var f=a.r(57753),g=f.Immediate.setImmediate,h=f.Immediate.clearImmediate;c.immediateProvider={setImmediate:function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var f=c.immediateProvider.delegate;return((null==f?void 0:f.setImmediate)||g).apply(void 0,e([],d(a)))},clearImmediate:function(a){var b=c.immediateProvider.delegate;return((null==b?void 0:b.clearImmediate)||h)(a)},delegate:void 0}},43298,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.AsapAction=void 0;var f=a.r(24253),g=a.r(56439);c.AsapAction=function(a){function b(b,c){var d=a.call(this,b,c)||this;return d.scheduler=b,d.work=c,d}return e(b,a),b.prototype.requestAsyncId=function(b,c,d){return(void 0===d&&(d=0),null!==d&&d>0)?a.prototype.requestAsyncId.call(this,b,c,d):(b.actions.push(this),b._scheduled||(b._scheduled=g.immediateProvider.setImmediate(b.flush.bind(b,void 0))))},b.prototype.recycleAsyncId=function(b,c,d){if(void 0===d&&(d=0),null!=d?d>0:this.delay>0)return a.prototype.recycleAsyncId.call(this,b,c,d);var e,f=b.actions;null!=c&&(null==(e=f[f.length-1])?void 0:e.id)!==c&&(g.immediateProvider.clearImmediate(c),b._scheduled===c&&(b._scheduled=void 0))},b}(f.AsyncAction)},17102,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Scheduler=void 0;var d=a.r(95916);c.Scheduler=function(){function a(b,c){void 0===c&&(c=a.now),this.schedulerActionCtor=b,this.now=c}return a.prototype.schedule=function(a,b,c){return void 0===b&&(b=0),new this.schedulerActionCtor(this,a).schedule(c,b)},a.now=d.dateTimestampProvider.now,a}()},2380,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.AsyncScheduler=void 0;var f=a.r(17102);c.AsyncScheduler=function(a){function b(b,c){void 0===c&&(c=f.Scheduler.now);var d=a.call(this,b,c)||this;return d.actions=[],d._active=!1,d}return e(b,a),b.prototype.flush=function(a){var b,c=this.actions;if(this._active)return void c.push(a);this._active=!0;do if(b=a.execute(a.state,a.delay))break;while(a=c.shift())if(this._active=!1,b){for(;a=c.shift();)a.unsubscribe();throw b}},b}(f.Scheduler)},3475,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.AsapScheduler=void 0,c.AsapScheduler=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.flush=function(a){this._active=!0;var b,c=this._scheduled;this._scheduled=void 0;var d=this.actions;a=a||d.shift();do if(b=a.execute(a.state,a.delay))break;while((a=d[0])&&a.id===c&&d.shift())if(this._active=!1,b){for(;(a=d[0])&&a.id===c&&d.shift();)a.unsubscribe();throw b}},b}(a.r(2380).AsyncScheduler)},70821,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.asap=c.asapScheduler=void 0;var d=a.r(43298);c.asapScheduler=new(a.r(3475)).AsapScheduler(d.AsapAction),c.asap=c.asapScheduler},52832,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.async=c.asyncScheduler=void 0;var d=a.r(24253);c.asyncScheduler=new(a.r(2380)).AsyncScheduler(d.AsyncAction),c.async=c.asyncScheduler},42514,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.QueueAction=void 0,c.QueueAction=function(a){function b(b,c){var d=a.call(this,b,c)||this;return d.scheduler=b,d.work=c,d}return e(b,a),b.prototype.schedule=function(b,c){return(void 0===c&&(c=0),c>0)?a.prototype.schedule.call(this,b,c):(this.delay=c,this.state=b,this.scheduler.flush(this),this)},b.prototype.execute=function(b,c){return c>0||this.closed?a.prototype.execute.call(this,b,c):this._execute(b,c)},b.prototype.requestAsyncId=function(b,c,d){return(void 0===d&&(d=0),null!=d&&d>0||null==d&&this.delay>0)?a.prototype.requestAsyncId.call(this,b,c,d):(b.flush(this),0)},b}(a.r(24253).AsyncAction)},99064,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.QueueScheduler=void 0,c.QueueScheduler=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b}(a.r(2380).AsyncScheduler)},42529,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.queue=c.queueScheduler=void 0;var d=a.r(42514);c.queueScheduler=new(a.r(99064)).QueueScheduler(d.QueueAction),c.queue=c.queueScheduler},49591,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.AnimationFrameAction=void 0;var f=a.r(24253),g=a.r(51319);c.AnimationFrameAction=function(a){function b(b,c){var d=a.call(this,b,c)||this;return d.scheduler=b,d.work=c,d}return e(b,a),b.prototype.requestAsyncId=function(b,c,d){return(void 0===d&&(d=0),null!==d&&d>0)?a.prototype.requestAsyncId.call(this,b,c,d):(b.actions.push(this),b._scheduled||(b._scheduled=g.animationFrameProvider.requestAnimationFrame(function(){return b.flush(void 0)})))},b.prototype.recycleAsyncId=function(b,c,d){if(void 0===d&&(d=0),null!=d?d>0:this.delay>0)return a.prototype.recycleAsyncId.call(this,b,c,d);var e,f=b.actions;null!=c&&c===b._scheduled&&(null==(e=f[f.length-1])?void 0:e.id)!==c&&(g.animationFrameProvider.cancelAnimationFrame(c),b._scheduled=void 0)},b}(f.AsyncAction)},15400,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.AnimationFrameScheduler=void 0,c.AnimationFrameScheduler=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.flush=function(a){this._active=!0,a?b=a.id:(b=this._scheduled,this._scheduled=void 0);var b,c,d=this.actions;a=a||d.shift();do if(c=a.execute(a.state,a.delay))break;while((a=d[0])&&a.id===b&&d.shift())if(this._active=!1,c){for(;(a=d[0])&&a.id===b&&d.shift();)a.unsubscribe();throw c}},b}(a.r(2380).AsyncScheduler)},10937,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.animationFrame=c.animationFrameScheduler=void 0;var d=a.r(49591);c.animationFrameScheduler=new(a.r(15400)).AnimationFrameScheduler(d.AnimationFrameAction),c.animationFrame=c.animationFrameScheduler},93774,(a,b,c)=>{"use strict";var d,e=a.e&&a.e.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)});Object.defineProperty(c,"__esModule",{value:!0}),c.VirtualAction=c.VirtualTimeScheduler=void 0;var f=a.r(24253),g=a.r(78298);c.VirtualTimeScheduler=function(a){function b(b,c){void 0===b&&(b=h),void 0===c&&(c=1/0);var d=a.call(this,b,function(){return d.frame})||this;return d.maxFrames=c,d.frame=0,d.index=-1,d}return e(b,a),b.prototype.flush=function(){for(var a,b,c=this.actions,d=this.maxFrames;(b=c[0])&&b.delay<=d&&(c.shift(),this.frame=b.delay,!(a=b.execute(b.state,b.delay))););if(a){for(;b=c.shift();)b.unsubscribe();throw a}},b.frameTimeFactor=10,b}(a.r(2380).AsyncScheduler);var h=function(a){function b(b,c,d){void 0===d&&(d=b.index+=1);var e=a.call(this,b,c)||this;return e.scheduler=b,e.work=c,e.index=d,e.active=!0,e.index=b.index=d,e}return e(b,a),b.prototype.schedule=function(c,d){if(void 0===d&&(d=0),!Number.isFinite(d))return g.Subscription.EMPTY;if(!this.id)return a.prototype.schedule.call(this,c,d);this.active=!1;var e=new b(this.scheduler,this.work);return this.add(e),e.schedule(c,d)},b.prototype.requestAsyncId=function(a,c,d){void 0===d&&(d=0),this.delay=a.frame+d;var e=a.actions;return e.push(this),e.sort(b.sortActions),1},b.prototype.recycleAsyncId=function(a,b,c){void 0===c&&(c=0)},b.prototype._execute=function(b,c){if(!0===this.active)return a.prototype._execute.call(this,b,c)},b.sortActions=function(a,b){if(a.delay===b.delay)if(a.index===b.index)return 0;else if(a.index>b.index)return 1;else return -1;return a.delay>b.delay?1:-1},b}(f.AsyncAction);c.VirtualAction=h},1223,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.empty=c.EMPTY=void 0;var d=a.r(39415);c.EMPTY=new d.Observable(function(a){return a.complete()}),c.empty=function(a){var b;return a?(b=a,new d.Observable(function(a){return b.schedule(function(){return a.complete()})})):c.EMPTY}},13054,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isScheduler=void 0;var d=a.r(18161);c.isScheduler=function(a){return a&&d.isFunction(a.schedule)}},44924,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.popNumber=c.popScheduler=c.popResultSelector=void 0;var d=a.r(18161),e=a.r(13054);function f(a){return a[a.length-1]}c.popResultSelector=function(a){return d.isFunction(f(a))?a.pop():void 0},c.popScheduler=function(a){return e.isScheduler(f(a))?a.pop():void 0},c.popNumber=function(a,b){return"number"==typeof f(a)?a.pop():b}},35556,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isArrayLike=void 0,c.isArrayLike=function(a){return a&&"number"==typeof a.length&&"function"!=typeof a}},3745,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isPromise=void 0;var d=a.r(18161);c.isPromise=function(a){return d.isFunction(null==a?void 0:a.then)}},47092,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isInteropObservable=void 0;var d=a.r(62585),e=a.r(18161);c.isInteropObservable=function(a){return e.isFunction(a[d.observable])}},21636,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isAsyncIterable=void 0;var d=a.r(18161);c.isAsyncIterable=function(a){return Symbol.asyncIterator&&d.isFunction(null==a?void 0:a[Symbol.asyncIterator])}},86178,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.createInvalidObservableTypeError=void 0,c.createInvalidObservableTypeError=function(a){return TypeError("You provided "+(null!==a&&"object"==typeof a?"an invalid object":"'"+a+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},40947,(a,b,c)=>{"use strict";function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(c,"__esModule",{value:!0}),c.iterator=c.getSymbolIterator=void 0,c.getSymbolIterator=d,c.iterator=d()},30593,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isIterable=void 0;var d=a.r(40947),e=a.r(18161);c.isIterable=function(a){return e.isFunction(null==a?void 0:a[d.iterator])}},87723,(a,b,c)=>{"use strict";var d=a.e&&a.e.__generator||function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},e=a.e&&a.e.__await||function(a){return this instanceof e?(this.v=a,this):new e(a)},f=a.e&&a.e.__asyncGenerator||function(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,f=c.apply(a,b||[]),g=[];return d={},h("next"),h("throw"),h("return"),d[Symbol.asyncIterator]=function(){return this},d;function h(a){f[a]&&(d[a]=function(b){return new Promise(function(c,d){g.push([a,b,c,d])>1||i(a,b)})})}function i(a,b){try{var c;(c=f[a](b)).value instanceof e?Promise.resolve(c.value.v).then(j,k):l(g[0][2],c)}catch(a){l(g[0][3],a)}}function j(a){i("next",a)}function k(a){i("throw",a)}function l(a,b){a(b),g.shift(),g.length&&i(g[0][0],g[0][1])}};Object.defineProperty(c,"__esModule",{value:!0}),c.isReadableStreamLike=c.readableStreamLikeToAsyncGenerator=void 0;var g=a.r(18161);c.readableStreamLikeToAsyncGenerator=function(a){return f(this,arguments,function(){var b,c,f;return d(this,function(d){switch(d.label){case 0:b=a.getReader(),d.label=1;case 1:d.trys.push([1,,9,10]),d.label=2;case 2:return[4,e(b.read())];case 3:if(f=(c=d.sent()).value,!c.done)return[3,5];return[4,e(void 0)];case 4:return[2,d.sent()];case 5:return[4,e(f)];case 6:return[4,d.sent()];case 7:return d.sent(),[3,2];case 8:return[3,10];case 9:return b.releaseLock(),[7];case 10:return[2]}})})},c.isReadableStreamLike=function(a){return g.isFunction(null==a?void 0:a.getReader)}},87341,(a,b,c)=>{"use strict";var d=a.e&&a.e.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},e=a.e&&a.e.__generator||function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},f=a.e&&a.e.__asyncValues||function(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a="function"==typeof g?g(a):a[Symbol.iterator](),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,e){var f,g,h;f=d,g=e,h=(b=a[c](b)).done,Promise.resolve(b.value).then(function(a){f({value:a,done:h})},g)})}}},g=a.e&&a.e.__values||function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.fromReadableStreamLike=c.fromAsyncIterable=c.fromIterable=c.fromPromise=c.fromArrayLike=c.fromInteropObservable=c.innerFrom=void 0;var h=a.r(35556),i=a.r(3745),j=a.r(39415),k=a.r(47092),l=a.r(21636),m=a.r(86178),n=a.r(30593),o=a.r(87723),p=a.r(18161),q=a.r(1647),r=a.r(62585);function s(a){return new j.Observable(function(b){var c=a[r.observable]();if(p.isFunction(c.subscribe))return c.subscribe(b);throw TypeError("Provided object does not correctly implement Symbol.observable")})}function t(a){return new j.Observable(function(b){for(var c=0;c<a.length&&!b.closed;c++)b.next(a[c]);b.complete()})}function u(a){return new j.Observable(function(b){a.then(function(a){b.closed||(b.next(a),b.complete())},function(a){return b.error(a)}).then(null,q.reportUnhandledError)})}function v(a){return new j.Observable(function(b){var c,d;try{for(var e=g(a),f=e.next();!f.done;f=e.next()){var h=f.value;if(b.next(h),b.closed)return}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}b.complete()})}function w(a){return new j.Observable(function(b){(function(a,b){var c,g,h,i;return d(this,void 0,void 0,function(){var d;return e(this,function(e){switch(e.label){case 0:e.trys.push([0,5,6,11]),c=f(a),e.label=1;case 1:return[4,c.next()];case 2:if((g=e.sent()).done)return[3,4];if(d=g.value,b.next(d),b.closed)return[2];e.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return h={error:e.sent()},[3,11];case 6:if(e.trys.push([6,,9,10]),!(g&&!g.done&&(i=c.return)))return[3,8];return[4,i.call(c)];case 7:e.sent(),e.label=8;case 8:return[3,10];case 9:if(h)throw h.error;return[7];case 10:return[7];case 11:return b.complete(),[2]}})})})(a,b).catch(function(a){return b.error(a)})})}function x(a){return w(o.readableStreamLikeToAsyncGenerator(a))}c.innerFrom=function(a){if(a instanceof j.Observable)return a;if(null!=a){if(k.isInteropObservable(a))return s(a);if(h.isArrayLike(a))return t(a);if(i.isPromise(a))return u(a);if(l.isAsyncIterable(a))return w(a);if(n.isIterable(a))return v(a);if(o.isReadableStreamLike(a))return x(a)}throw m.createInvalidObservableTypeError(a)},c.fromInteropObservable=s,c.fromArrayLike=t,c.fromPromise=u,c.fromIterable=v,c.fromAsyncIterable=w,c.fromReadableStreamLike=x},64910,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.executeSchedule=void 0,c.executeSchedule=function(a,b,c,d,e){void 0===d&&(d=0),void 0===e&&(e=!1);var f=b.schedule(function(){c(),e?a.add(this.schedule(null,d)):this.unsubscribe()},d);if(a.add(f),!e)return f}},72273,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.observeOn=void 0;var d=a.r(64910),e=a.r(92321),f=a.r(77407);c.observeOn=function(a,b){return void 0===b&&(b=0),e.operate(function(c,e){c.subscribe(f.createOperatorSubscriber(e,function(c){return d.executeSchedule(e,a,function(){return e.next(c)},b)},function(){return d.executeSchedule(e,a,function(){return e.complete()},b)},function(c){return d.executeSchedule(e,a,function(){return e.error(c)},b)}))})}},61103,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.subscribeOn=void 0;var d=a.r(92321);c.subscribeOn=function(a,b){return void 0===b&&(b=0),d.operate(function(c,d){d.add(a.schedule(function(){return c.subscribe(d)},b))})}},93887,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduleObservable=void 0;var d=a.r(87341),e=a.r(72273),f=a.r(61103);c.scheduleObservable=function(a,b){return d.innerFrom(a).pipe(f.subscribeOn(b),e.observeOn(b))}},44470,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.schedulePromise=void 0;var d=a.r(87341),e=a.r(72273),f=a.r(61103);c.schedulePromise=function(a,b){return d.innerFrom(a).pipe(f.subscribeOn(b),e.observeOn(b))}},74523,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduleArray=void 0;var d=a.r(39415);c.scheduleArray=function(a,b){return new d.Observable(function(c){var d=0;return b.schedule(function(){d===a.length?c.complete():(c.next(a[d++]),c.closed||this.schedule())})})}},66993,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduleIterable=void 0;var d=a.r(39415),e=a.r(40947),f=a.r(18161),g=a.r(64910);c.scheduleIterable=function(a,b){return new d.Observable(function(c){var d;return g.executeSchedule(c,b,function(){d=a[e.iterator](),g.executeSchedule(c,b,function(){var a,b,e;try{b=(a=d.next()).value,e=a.done}catch(a){c.error(a);return}e?c.complete():c.next(b)},0,!0)}),function(){return f.isFunction(null==d?void 0:d.return)&&d.return()}})}},97154,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduleAsyncIterable=void 0;var d=a.r(39415),e=a.r(64910);c.scheduleAsyncIterable=function(a,b){if(!a)throw Error("Iterable cannot be null");return new d.Observable(function(c){e.executeSchedule(c,b,function(){var d=a[Symbol.asyncIterator]();e.executeSchedule(c,b,function(){d.next().then(function(a){a.done?c.complete():c.next(a.value)})},0,!0)})})}},96472,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduleReadableStreamLike=void 0;var d=a.r(97154),e=a.r(87723);c.scheduleReadableStreamLike=function(a,b){return d.scheduleAsyncIterable(e.readableStreamLikeToAsyncGenerator(a),b)}},75122,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scheduled=void 0;var d=a.r(93887),e=a.r(44470),f=a.r(74523),g=a.r(66993),h=a.r(97154),i=a.r(47092),j=a.r(3745),k=a.r(35556),l=a.r(30593),m=a.r(21636),n=a.r(86178),o=a.r(87723),p=a.r(96472);c.scheduled=function(a,b){if(null!=a){if(i.isInteropObservable(a))return d.scheduleObservable(a,b);if(k.isArrayLike(a))return f.scheduleArray(a,b);if(j.isPromise(a))return e.schedulePromise(a,b);if(m.isAsyncIterable(a))return h.scheduleAsyncIterable(a,b);if(l.isIterable(a))return g.scheduleIterable(a,b);if(o.isReadableStreamLike(a))return p.scheduleReadableStreamLike(a,b)}throw n.createInvalidObservableTypeError(a)}},48726,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.from=void 0;var d=a.r(75122),e=a.r(87341);c.from=function(a,b){return b?d.scheduled(a,b):e.innerFrom(a)}},68597,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.of=void 0;var d=a.r(44924),e=a.r(48726);c.of=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=d.popScheduler(a);return e.from(a,c)}},75109,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.throwError=void 0;var d=a.r(39415),e=a.r(18161);c.throwError=function(a,b){var c=e.isFunction(a)?a:function(){return a},f=function(a){return a.error(c())};return new d.Observable(b?function(a){return b.schedule(f,0,a)}:f)}},27284,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.observeNotification=c.Notification=c.NotificationKind=void 0;var d,e=a.r(1223),f=a.r(68597),g=a.r(75109),h=a.r(18161);function i(a,b){var c,d,e,f=a.kind,g=a.value,h=a.error;if("string"!=typeof f)throw TypeError('Invalid notification, missing "kind"');"N"===f?null==(c=b.next)||c.call(b,g):"E"===f?null==(d=b.error)||d.call(b,h):null==(e=b.complete)||e.call(b)}(d=c.NotificationKind||(c.NotificationKind={})).NEXT="N",d.ERROR="E",d.COMPLETE="C",c.Notification=function(){function a(a,b,c){this.kind=a,this.value=b,this.error=c,this.hasValue="N"===a}return a.prototype.observe=function(a){return i(this,a)},a.prototype.do=function(a,b,c){var d=this.kind,e=this.value,f=this.error;return"N"===d?null==a?void 0:a(e):"E"===d?null==b?void 0:b(f):null==c?void 0:c()},a.prototype.accept=function(a,b,c){return h.isFunction(null==a?void 0:a.next)?this.observe(a):this.do(a,b,c)},a.prototype.toObservable=function(){var a=this.kind,b=this.value,c=this.error,d="N"===a?f.of(b):"E"===a?g.throwError(function(){return c}):"C"===a?e.EMPTY:0;if(!d)throw TypeError("Unexpected notification kind "+a);return d},a.createNext=function(b){return new a("N",b)},a.createError=function(b){return new a("E",void 0,b)},a.createComplete=function(){return a.completeNotification},a.completeNotification=new a("C"),a}(),c.observeNotification=i},26057,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isObservable=void 0;var d=a.r(39415),e=a.r(18161);c.isObservable=function(a){return!!a&&(a instanceof d.Observable||e.isFunction(a.lift)&&e.isFunction(a.subscribe))}},7275,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.EmptyError=void 0,c.EmptyError=a.r(3195).createErrorClass(function(a){return function(){a(this),this.name="EmptyError",this.message="no elements in sequence"}})},25217,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.lastValueFrom=void 0;var d=a.r(7275);c.lastValueFrom=function(a,b){var c="object"==typeof b;return new Promise(function(e,f){var g,h=!1;a.subscribe({next:function(a){g=a,h=!0},error:f,complete:function(){h?e(g):c?e(b.defaultValue):f(new d.EmptyError)}})})}},8217,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.firstValueFrom=void 0;var d=a.r(7275),e=a.r(73322);c.firstValueFrom=function(a,b){var c="object"==typeof b;return new Promise(function(f,g){var h=new e.SafeSubscriber({next:function(a){f(a),h.unsubscribe()},error:g,complete:function(){c?f(b.defaultValue):g(new d.EmptyError)}});a.subscribe(h)})}},82487,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ArgumentOutOfRangeError=void 0,c.ArgumentOutOfRangeError=a.r(3195).createErrorClass(function(a){return function(){a(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},58692,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.NotFoundError=void 0,c.NotFoundError=a.r(3195).createErrorClass(function(a){return function(b){a(this),this.name="NotFoundError",this.message=b}})},16928,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SequenceError=void 0,c.SequenceError=a.r(3195).createErrorClass(function(a){return function(b){a(this),this.name="SequenceError",this.message=b}})},4301,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isValidDate=void 0,c.isValidDate=function(a){return a instanceof Date&&!isNaN(a)}},54835,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.timeout=c.TimeoutError=void 0;var d=a.r(52832),e=a.r(4301),f=a.r(92321),g=a.r(87341),h=a.r(3195),i=a.r(77407),j=a.r(64910);function k(a){throw new c.TimeoutError(a)}c.TimeoutError=h.createErrorClass(function(a){return function(b){void 0===b&&(b=null),a(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=b}}),c.timeout=function(a,b){var c=e.isValidDate(a)?{first:a}:"number"==typeof a?{each:a}:a,h=c.first,l=c.each,m=c.with,n=void 0===m?k:m,o=c.scheduler,p=void 0===o?null!=b?b:d.asyncScheduler:o,q=c.meta,r=void 0===q?null:q;if(null==h&&null==l)throw TypeError("No timeout provided.");return f.operate(function(a,b){var c,d,e=null,f=0,k=function(a){d=j.executeSchedule(b,p,function(){try{c.unsubscribe(),g.innerFrom(n({meta:r,lastValue:e,seen:f})).subscribe(b)}catch(a){b.error(a)}},a)};c=a.subscribe(i.createOperatorSubscriber(b,function(a){null==d||d.unsubscribe(),f++,b.next(e=a),l>0&&k(l)},void 0,void 0,function(){(null==d?void 0:d.closed)||null==d||d.unsubscribe(),e=null})),f||k(null!=h?"number"==typeof h?h:h-p.now():l)})}},29029,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.map=void 0;var d=a.r(92321),e=a.r(77407);c.map=function(a,b){return d.operate(function(c,d){var f=0;c.subscribe(e.createOperatorSubscriber(d,function(c){d.next(a.call(b,c,f++))}))})}},20055,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.mapOneOrManyArgs=void 0;var f=a.r(29029),g=Array.isArray;c.mapOneOrManyArgs=function(a){return f.map(function(b){return g(b)?a.apply(void 0,e([],d(b))):a(b)})}},54521,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.bindCallbackInternals=void 0;var f=a.r(13054),g=a.r(39415),h=a.r(61103),i=a.r(20055),j=a.r(72273),k=a.r(17987);c.bindCallbackInternals=function a(b,c,l,m){if(l)if(!f.isScheduler(l))return function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return a(b,c,m).apply(this,d).pipe(i.mapOneOrManyArgs(l))};else m=l;return m?function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return a(b,c).apply(this,d).pipe(h.subscribeOn(m),j.observeOn(m))}:function(){for(var a=this,f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var i=new k.AsyncSubject,j=!0;return new g.Observable(function(g){var h=i.subscribe(g);if(j){j=!1;var k=!1,l=!1;c.apply(a,e(e([],d(f)),[function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(b){var d=a.shift();if(null!=d)return void i.error(d)}i.next(1<a.length?a:a[0]),l=!0,k&&i.complete()}])),l&&i.complete(),k=!0}return h})}}},69994,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.bindCallback=void 0;var d=a.r(54521);c.bindCallback=function(a,b,c){return d.bindCallbackInternals(!1,a,b,c)}},7438,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.bindNodeCallback=void 0;var d=a.r(54521);c.bindNodeCallback=function(a,b,c){return d.bindCallbackInternals(!0,a,b,c)}},69134,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.argsArgArrayOrObject=void 0;var d=Array.isArray,e=Object.getPrototypeOf,f=Object.prototype,g=Object.keys;c.argsArgArrayOrObject=function(a){if(1===a.length){var b,c=a[0];if(d(c))return{args:c,keys:null};if((b=c)&&"object"==typeof b&&e(b)===f){var h=g(c);return{args:h.map(function(a){return c[a]}),keys:h}}}return{args:a,keys:null}}},95150,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.createObject=void 0,c.createObject=function(a,b){return a.reduce(function(a,c,d){return a[c]=b[d],a},{})}},21643,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.combineLatestInit=c.combineLatest=void 0;var d=a.r(39415),e=a.r(69134),f=a.r(48726),g=a.r(68666),h=a.r(20055),i=a.r(44924),j=a.r(95150),k=a.r(77407),l=a.r(64910);function m(a,b,c){return void 0===c&&(c=g.identity),function(d){n(b,function(){for(var e=a.length,g=Array(e),h=e,i=e,j=function(e){n(b,function(){var j=f.from(a[e],b),l=!1;j.subscribe(k.createOperatorSubscriber(d,function(a){g[e]=a,!l&&(l=!0,i--),i||d.next(c(g.slice()))},function(){--h||d.complete()}))},d)},l=0;l<e;l++)j(l)},d)}}function n(a,b,c){a?l.executeSchedule(c,a,b):b()}c.combineLatest=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=i.popScheduler(a),k=i.popResultSelector(a),l=e.argsArgArrayOrObject(a),n=l.args,o=l.keys;if(0===n.length)return f.from([],c);var p=new d.Observable(m(n,c,o?function(a){return j.createObject(o,a)}:g.identity));return k?p.pipe(h.mapOneOrManyArgs(k)):p},c.combineLatestInit=m},85230,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mergeInternals=void 0;var d=a.r(87341),e=a.r(64910),f=a.r(77407);c.mergeInternals=function(a,b,c,g,h,i,j,k){var l=[],m=0,n=0,o=!1,p=function(){!o||l.length||m||b.complete()},q=function(a){return m<g?r(a):l.push(a)},r=function(a){i&&b.next(a),m++;var k=!1;d.innerFrom(c(a,n++)).subscribe(f.createOperatorSubscriber(b,function(a){null==h||h(a),i?q(a):b.next(a)},function(){k=!0},void 0,function(){if(k)try{for(m--;l.length&&m<g;)!function(){var a=l.shift();j?e.executeSchedule(b,j,function(){return r(a)}):r(a)}();p()}catch(a){b.error(a)}}))};return a.subscribe(f.createOperatorSubscriber(b,q,function(){o=!0,p()})),function(){null==k||k()}}},39104,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mergeMap=void 0;var d=a.r(29029),e=a.r(87341),f=a.r(92321),g=a.r(85230),h=a.r(18161);c.mergeMap=function a(b,c,i){return(void 0===i&&(i=1/0),h.isFunction(c))?a(function(a,f){return d.map(function(b,d){return c(a,b,f,d)})(e.innerFrom(b(a,f)))},i):("number"==typeof c&&(i=c),f.operate(function(a,c){return g.mergeInternals(a,c,b,i)}))}},31720,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mergeAll=void 0;var d=a.r(39104),e=a.r(68666);c.mergeAll=function(a){return void 0===a&&(a=1/0),d.mergeMap(e.identity,a)}},48841,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.concatAll=void 0;var d=a.r(31720);c.concatAll=function(){return d.mergeAll(1)}},77271,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.concat=void 0;var d=a.r(48841),e=a.r(44924),f=a.r(48726);c.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return d.concatAll()(f.from(a,e.popScheduler(a)))}},48344,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.defer=void 0;var d=a.r(39415),e=a.r(87341);c.defer=function(a){return new d.Observable(function(b){e.innerFrom(a()).subscribe(b)})}},35672,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.connectable=void 0;var d=a.r(1493),e=a.r(39415),f=a.r(48344),g={connector:function(){return new d.Subject},resetOnDisconnect:!0};c.connectable=function(a,b){void 0===b&&(b=g);var c=null,d=b.connector,h=b.resetOnDisconnect,i=void 0===h||h,j=d(),k=new e.Observable(function(a){return j.subscribe(a)});return k.connect=function(){return(!c||c.closed)&&(c=f.defer(function(){return a}).subscribe(j),i&&c.add(function(){return j=d()})),c},k}},22890,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.forkJoin=void 0;var d=a.r(39415),e=a.r(69134),f=a.r(87341),g=a.r(44924),h=a.r(77407),i=a.r(20055),j=a.r(95150);c.forkJoin=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=g.popResultSelector(a),k=e.argsArgArrayOrObject(a),l=k.args,m=k.keys,n=new d.Observable(function(a){var b=l.length;if(!b)return void a.complete();for(var c=Array(b),d=b,e=b,g=function(b){var g=!1;f.innerFrom(l[b]).subscribe(h.createOperatorSubscriber(a,function(a){!g&&(g=!0,e--),c[b]=a},function(){return d--},void 0,function(){d&&g||(e||a.next(m?j.createObject(m,c):c),a.complete())}))},i=0;i<b;i++)g(i)});return c?n.pipe(i.mapOneOrManyArgs(c)):n}},54370,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};Object.defineProperty(c,"__esModule",{value:!0}),c.fromEvent=void 0;var e=a.r(87341),f=a.r(39415),g=a.r(39104),h=a.r(35556),i=a.r(18161),j=a.r(20055),k=["addListener","removeListener"],l=["addEventListener","removeEventListener"],m=["on","off"];function n(a,b){return function(c){return function(d){return a[c](b,d)}}}c.fromEvent=function a(b,c,o,p){if(i.isFunction(o)&&(p=o,o=void 0),p)return a(b,c,o).pipe(j.mapOneOrManyArgs(p));var q,r,s,t=d((q=b,i.isFunction(q.addEventListener)&&i.isFunction(q.removeEventListener))?l.map(function(a){return function(d){return b[a](c,d,o)}}):(r=b,i.isFunction(r.addListener)&&i.isFunction(r.removeListener))?k.map(n(b,c)):(s=b,i.isFunction(s.on)&&i.isFunction(s.off))?m.map(n(b,c)):[],2),u=t[0],v=t[1];if(!u&&h.isArrayLike(b))return g.mergeMap(function(b){return a(b,c,o)})(e.innerFrom(b));if(!u)throw TypeError("Invalid event target");return new f.Observable(function(a){var b=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return a.next(1<b.length?b:b[0])};return u(b),function(){return v(b)}})}},78083,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.fromEventPattern=void 0;var d=a.r(39415),e=a.r(18161),f=a.r(20055);c.fromEventPattern=function a(b,c,g){return g?a(b,c).pipe(f.mapOneOrManyArgs(g)):new d.Observable(function(a){var d=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return a.next(1===b.length?b[0]:b)},f=b(d);return e.isFunction(c)?function(){return c(d,f)}:void 0})}},3457,(a,b,c)=>{"use strict";var d=a.e&&a.e.__generator||function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}};Object.defineProperty(c,"__esModule",{value:!0}),c.generate=void 0;var e=a.r(68666),f=a.r(13054),g=a.r(48344),h=a.r(66993);c.generate=function(a,b,c,i,j){var k,l,m;function n(){var a;return d(this,function(d){switch(d.label){case 0:a=m,d.label=1;case 1:if(!(!b||b(a)))return[3,4];return[4,l(a)];case 2:d.sent(),d.label=3;case 3:return a=c(a),[3,1];case 4:return[2]}})}return 1==arguments.length?(m=a.initialState,b=a.condition,c=a.iterate,l=void 0===(k=a.resultSelector)?e.identity:k,j=a.scheduler):(m=a,!i||f.isScheduler(i)?(l=e.identity,j=i):l=i),g.defer(j?function(){return h.scheduleIterable(n(),j)}:n)}},32997,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.iif=void 0;var d=a.r(48344);c.iif=function(a,b,c){return d.defer(function(){return a()?b:c})}},57847,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.timer=void 0;var d=a.r(39415),e=a.r(52832),f=a.r(13054),g=a.r(4301);c.timer=function(a,b,c){void 0===a&&(a=0),void 0===c&&(c=e.async);var h=-1;return null!=b&&(f.isScheduler(b)?c=b:h=b),new d.Observable(function(b){var d=g.isValidDate(a)?a-c.now():a;d<0&&(d=0);var e=0;return c.schedule(function(){b.closed||(b.next(e++),0<=h?this.schedule(void 0,h):b.complete())},d)})}},84358,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.interval=void 0;var d=a.r(52832),e=a.r(57847);c.interval=function(a,b){return void 0===a&&(a=0),void 0===b&&(b=d.asyncScheduler),a<0&&(a=0),e.timer(a,a,b)}},93778,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.merge=void 0;var d=a.r(31720),e=a.r(87341),f=a.r(1223),g=a.r(44924),h=a.r(48726);c.merge=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=g.popScheduler(a),i=g.popNumber(a,1/0);return a.length?1===a.length?e.innerFrom(a[0]):d.mergeAll(i)(h.from(a,c)):f.EMPTY}},63267,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.never=c.NEVER=void 0;var d=a.r(39415),e=a.r(40621);c.NEVER=new d.Observable(e.noop),c.never=function(){return c.NEVER}},23747,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.argsOrArgArray=void 0;var d=Array.isArray;c.argsOrArgArray=function(a){return 1===a.length&&d(a[0])?a[0]:a}},61559,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.onErrorResumeNext=void 0;var d=a.r(39415),e=a.r(23747),f=a.r(77407),g=a.r(40621),h=a.r(87341);c.onErrorResumeNext=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=e.argsOrArgArray(a);return new d.Observable(function(a){var b=0,d=function(){if(b<c.length){var e=void 0;try{e=h.innerFrom(c[b++])}catch(a){d();return}var i=new f.OperatorSubscriber(a,void 0,g.noop,g.noop);e.subscribe(i),i.add(d)}else a.complete()};d()})}},17058,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.pairs=void 0;var d=a.r(48726);c.pairs=function(a,b){return d.from(Object.entries(a),b)}},89281,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.not=void 0,c.not=function(a,b){return function(c,d){return!a.call(b,c,d)}}},34730,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.filter=void 0;var d=a.r(92321),e=a.r(77407);c.filter=function(a,b){return d.operate(function(c,d){var f=0;c.subscribe(e.createOperatorSubscriber(d,function(c){return a.call(b,c,f++)&&d.next(c)}))})}},76004,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.partition=void 0;var d=a.r(89281),e=a.r(34730),f=a.r(87341);c.partition=function(a,b,c){return[e.filter(b,c)(f.innerFrom(a)),e.filter(d.not(b,c))(f.innerFrom(a))]}},93453,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.raceInit=c.race=void 0;var d=a.r(39415),e=a.r(87341),f=a.r(23747),g=a.r(77407);function h(a){return function(b){for(var c=[],d=function(d){c.push(e.innerFrom(a[d]).subscribe(g.createOperatorSubscriber(b,function(a){if(c){for(var e=0;e<c.length;e++)e!==d&&c[e].unsubscribe();c=null}b.next(a)})))},f=0;c&&!b.closed&&f<a.length;f++)d(f)}}c.race=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return 1===(a=f.argsOrArgArray(a)).length?e.innerFrom(a[0]):new d.Observable(h(a))},c.raceInit=h},22971,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.range=void 0;var d=a.r(39415),e=a.r(1223);c.range=function(a,b,c){if(null==b&&(b=a,a=0),b<=0)return e.EMPTY;var f=b+a;return new d.Observable(c?function(b){var d=a;return c.schedule(function(){d<f?(b.next(d++),this.schedule()):b.complete()})}:function(b){for(var c=a;c<f&&!b.closed;)b.next(c++);b.complete()})}},35512,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.using=void 0;var d=a.r(39415),e=a.r(87341),f=a.r(1223);c.using=function(a,b){return new d.Observable(function(c){var d=a(),g=b(d);return(g?e.innerFrom(g):f.EMPTY).subscribe(c),function(){d&&d.unsubscribe()}})}},25126,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.zip=void 0;var f=a.r(39415),g=a.r(87341),h=a.r(23747),i=a.r(1223),j=a.r(77407),k=a.r(44924);c.zip=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=k.popResultSelector(a),l=h.argsOrArgArray(a);return l.length?new f.Observable(function(a){var b=l.map(function(){return[]}),f=l.map(function(){return!1});a.add(function(){b=f=null});for(var h=function(h){g.innerFrom(l[h]).subscribe(j.createOperatorSubscriber(a,function(g){if(b[h].push(g),b.every(function(a){return a.length})){var i=b.map(function(a){return a.shift()});a.next(c?c.apply(void 0,e([],d(i))):i),b.some(function(a,b){return!a.length&&f[b]})&&a.complete()}},function(){f[h]=!0,b[h].length||a.complete()}))},i=0;!a.closed&&i<l.length;i++)h(i);return function(){b=f=null}}):i.EMPTY}},14307,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0})},20383,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.audit=void 0;var d=a.r(92321),e=a.r(87341),f=a.r(77407);c.audit=function(a){return d.operate(function(b,c){var d=!1,g=null,h=null,i=!1,j=function(){if(null==h||h.unsubscribe(),h=null,d){d=!1;var a=g;g=null,c.next(a)}i&&c.complete()},k=function(){h=null,i&&c.complete()};b.subscribe(f.createOperatorSubscriber(c,function(b){d=!0,g=b,h||e.innerFrom(a(b)).subscribe(h=f.createOperatorSubscriber(c,j,k))},function(){i=!0,d&&h&&!h.closed||c.complete()}))})}},27627,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.auditTime=void 0;var d=a.r(52832),e=a.r(20383),f=a.r(57847);c.auditTime=function(a,b){return void 0===b&&(b=d.asyncScheduler),e.audit(function(){return f.timer(a,b)})}},22162,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.buffer=void 0;var d=a.r(92321),e=a.r(40621),f=a.r(77407),g=a.r(87341);c.buffer=function(a){return d.operate(function(b,c){var d=[];return b.subscribe(f.createOperatorSubscriber(c,function(a){return d.push(a)},function(){c.next(d),c.complete()})),g.innerFrom(a).subscribe(f.createOperatorSubscriber(c,function(){var a=d;d=[],c.next(a)},e.noop)),function(){d=null}})}},79979,(a,b,c)=>{"use strict";var d=a.e&&a.e.__values||function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.bufferCount=void 0;var e=a.r(92321),f=a.r(77407),g=a.r(58395);c.bufferCount=function(a,b){return void 0===b&&(b=null),b=null!=b?b:a,e.operate(function(c,e){var h=[],i=0;c.subscribe(f.createOperatorSubscriber(e,function(c){var f,j,k,l,m=null;i++%b==0&&h.push([]);try{for(var n=d(h),o=n.next();!o.done;o=n.next()){var p=o.value;p.push(c),a<=p.length&&(m=null!=m?m:[]).push(p)}}catch(a){f={error:a}}finally{try{o&&!o.done&&(j=n.return)&&j.call(n)}finally{if(f)throw f.error}}if(m)try{for(var q=d(m),r=q.next();!r.done;r=q.next()){var p=r.value;g.arrRemove(h,p),e.next(p)}}catch(a){k={error:a}}finally{try{r&&!r.done&&(l=q.return)&&l.call(q)}finally{if(k)throw k.error}}},function(){var a,b;try{for(var c=d(h),f=c.next();!f.done;f=c.next()){var g=f.value;e.next(g)}}catch(b){a={error:b}}finally{try{f&&!f.done&&(b=c.return)&&b.call(c)}finally{if(a)throw a.error}}e.complete()},void 0,function(){h=null}))})}},13928,(a,b,c)=>{"use strict";var d=a.e&&a.e.__values||function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.bufferTime=void 0;var e=a.r(78298),f=a.r(92321),g=a.r(77407),h=a.r(58395),i=a.r(52832),j=a.r(44924),k=a.r(64910);c.bufferTime=function(a){for(var b,c,l=[],m=1;m<arguments.length;m++)l[m-1]=arguments[m];var n=null!=(b=j.popScheduler(l))?b:i.asyncScheduler,o=null!=(c=l[0])?c:null,p=l[1]||1/0;return f.operate(function(b,c){var f=[],i=!1,j=function(a){var b=a.buffer;a.subs.unsubscribe(),h.arrRemove(f,a),c.next(b),i&&l()},l=function(){if(f){var b=new e.Subscription;c.add(b);var d={buffer:[],subs:b};f.push(d),k.executeSchedule(b,n,function(){return j(d)},a)}};null!==o&&o>=0?k.executeSchedule(c,n,l,o,!0):i=!0,l();var m=g.createOperatorSubscriber(c,function(a){var b,c,e=f.slice();try{for(var g=d(e),h=g.next();!h.done;h=g.next()){var i=h.value,k=i.buffer;k.push(a),p<=k.length&&j(i)}}catch(a){b={error:a}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(b)throw b.error}}},function(){for(;null==f?void 0:f.length;)c.next(f.shift().buffer);null==m||m.unsubscribe(),c.complete(),c.unsubscribe()},void 0,function(){return f=null});b.subscribe(m)})}},89011,(a,b,c)=>{"use strict";var d=a.e&&a.e.__values||function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.bufferToggle=void 0;var e=a.r(78298),f=a.r(92321),g=a.r(87341),h=a.r(77407),i=a.r(40621),j=a.r(58395);c.bufferToggle=function(a,b){return f.operate(function(c,f){var k=[];g.innerFrom(a).subscribe(h.createOperatorSubscriber(f,function(a){var c=[];k.push(c);var d=new e.Subscription;d.add(g.innerFrom(b(a)).subscribe(h.createOperatorSubscriber(f,function(){j.arrRemove(k,c),f.next(c),d.unsubscribe()},i.noop)))},i.noop)),c.subscribe(h.createOperatorSubscriber(f,function(a){var b,c;try{for(var e=d(k),f=e.next();!f.done;f=e.next())f.value.push(a)}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}},function(){for(;k.length>0;)f.next(k.shift());f.complete()}))})}},89419,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.bufferWhen=void 0;var d=a.r(92321),e=a.r(40621),f=a.r(77407),g=a.r(87341);c.bufferWhen=function(a){return d.operate(function(b,c){var d=null,h=null,i=function(){null==h||h.unsubscribe();var b=d;d=[],b&&c.next(b),g.innerFrom(a()).subscribe(h=f.createOperatorSubscriber(c,i,e.noop))};i(),b.subscribe(f.createOperatorSubscriber(c,function(a){return null==d?void 0:d.push(a)},function(){d&&c.next(d),c.complete()},void 0,function(){return d=h=null}))})}},6788,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.catchError=void 0;var d=a.r(87341),e=a.r(77407),f=a.r(92321);c.catchError=function a(b){return f.operate(function(c,f){var g,h=null,i=!1;h=c.subscribe(e.createOperatorSubscriber(f,void 0,void 0,function(e){g=d.innerFrom(b(e,a(b)(c))),h?(h.unsubscribe(),h=null,g.subscribe(f)):i=!0})),i&&(h.unsubscribe(),h=null,g.subscribe(f))})}},48325,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scanInternals=void 0;var d=a.r(77407);c.scanInternals=function(a,b,c,e,f){return function(g,h){var i=c,j=b,k=0;g.subscribe(d.createOperatorSubscriber(h,function(b){var c=k++;j=i?a(j,b,c):(i=!0,b),e&&h.next(j)},f&&function(){i&&h.next(j),h.complete()}))}}},23905,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.reduce=void 0;var d=a.r(48325),e=a.r(92321);c.reduce=function(a,b){return e.operate(d.scanInternals(a,b,arguments.length>=2,!1,!0))}},26083,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.toArray=void 0;var d=a.r(23905),e=a.r(92321),f=function(a,b){return a.push(b),a};c.toArray=function(){return e.operate(function(a,b){d.reduce(f,[])(a).subscribe(b)})}},78656,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.joinAllInternals=void 0;var d=a.r(68666),e=a.r(20055),f=a.r(36377),g=a.r(39104),h=a.r(26083);c.joinAllInternals=function(a,b){return f.pipe(h.toArray(),g.mergeMap(function(b){return a(b)}),b?e.mapOneOrManyArgs(b):d.identity)}},13473,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.combineLatestAll=void 0;var d=a.r(21643),e=a.r(78656);c.combineLatestAll=function(a){return e.joinAllInternals(d.combineLatest,a)}},47855,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.combineAll=void 0,c.combineAll=a.r(13473).combineLatestAll},43726,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.combineLatest=void 0;var f=a.r(21643),g=a.r(92321),h=a.r(23747),i=a.r(20055),j=a.r(36377),k=a.r(44924);c.combineLatest=function a(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var l=k.popResultSelector(b);return l?j.pipe(a.apply(void 0,e([],d(b))),i.mapOneOrManyArgs(l)):g.operate(function(a,c){f.combineLatestInit(e([a],d(h.argsOrArgArray(b))))(c)})}},90375,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.combineLatestWith=void 0;var f=a.r(43726);c.combineLatestWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return f.combineLatest.apply(void 0,e([],d(a)))}},6756,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.concatMap=void 0;var d=a.r(39104),e=a.r(18161);c.concatMap=function(a,b){return e.isFunction(b)?d.mergeMap(a,b,1):d.mergeMap(a,1)}},11209,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.concatMapTo=void 0;var d=a.r(6756),e=a.r(18161);c.concatMapTo=function(a,b){return e.isFunction(b)?d.concatMap(function(){return a},b):d.concatMap(function(){return a})}},10838,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.concat=void 0;var f=a.r(92321),g=a.r(48841),h=a.r(44924),i=a.r(48726);c.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=h.popScheduler(a);return f.operate(function(b,f){g.concatAll()(i.from(e([b],d(a)),c)).subscribe(f)})}},49106,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.concatWith=void 0;var f=a.r(10838);c.concatWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return f.concat.apply(void 0,e([],d(a)))}},16707,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.fromSubscribable=void 0;var d=a.r(39415);c.fromSubscribable=function(a){return new d.Observable(function(b){return a.subscribe(b)})}},93666,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.connect=void 0;var d=a.r(1493),e=a.r(87341),f=a.r(92321),g=a.r(16707),h={connector:function(){return new d.Subject}};c.connect=function(a,b){void 0===b&&(b=h);var c=b.connector;return f.operate(function(b,d){var f=c();e.innerFrom(a(g.fromSubscribable(f))).subscribe(d),d.add(b.subscribe(f))})}},79153,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.count=void 0;var d=a.r(23905);c.count=function(a){return d.reduce(function(b,c,d){return!a||a(c,d)?b+1:b},0)}},89357,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.debounce=void 0;var d=a.r(92321),e=a.r(40621),f=a.r(77407),g=a.r(87341);c.debounce=function(a){return d.operate(function(b,c){var d=!1,h=null,i=null,j=function(){if(null==i||i.unsubscribe(),i=null,d){d=!1;var a=h;h=null,c.next(a)}};b.subscribe(f.createOperatorSubscriber(c,function(b){null==i||i.unsubscribe(),d=!0,h=b,i=f.createOperatorSubscriber(c,j,e.noop),g.innerFrom(a(b)).subscribe(i)},function(){j(),c.complete()},void 0,function(){h=i=null}))})}},43617,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.debounceTime=void 0;var d=a.r(52832),e=a.r(92321),f=a.r(77407);c.debounceTime=function(a,b){return void 0===b&&(b=d.asyncScheduler),e.operate(function(c,d){var e=null,g=null,h=null,i=function(){if(e){e.unsubscribe(),e=null;var a=g;g=null,d.next(a)}};function j(){var c=h+a,f=b.now();if(f<c){e=this.schedule(void 0,c-f),d.add(e);return}i()}c.subscribe(f.createOperatorSubscriber(d,function(c){g=c,h=b.now(),e||(e=b.schedule(j,a),d.add(e))},function(){i(),d.complete()},void 0,function(){g=e=null}))})}},11395,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.defaultIfEmpty=void 0;var d=a.r(92321),e=a.r(77407);c.defaultIfEmpty=function(a){return d.operate(function(b,c){var d=!1;b.subscribe(e.createOperatorSubscriber(c,function(a){d=!0,c.next(a)},function(){d||c.next(a),c.complete()}))})}},49295,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.take=void 0;var d=a.r(1223),e=a.r(92321),f=a.r(77407);c.take=function(a){return a<=0?function(){return d.EMPTY}:e.operate(function(b,c){var d=0;b.subscribe(f.createOperatorSubscriber(c,function(b){++d<=a&&(c.next(b),a<=d&&c.complete())}))})}},30693,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ignoreElements=void 0;var d=a.r(92321),e=a.r(77407),f=a.r(40621);c.ignoreElements=function(){return d.operate(function(a,b){a.subscribe(e.createOperatorSubscriber(b,f.noop))})}},10582,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mapTo=void 0;var d=a.r(29029);c.mapTo=function(a){return d.map(function(){return a})}},76247,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.delayWhen=void 0;var d=a.r(77271),e=a.r(49295),f=a.r(30693),g=a.r(10582),h=a.r(39104),i=a.r(87341);c.delayWhen=function a(b,c){return c?function(g){return d.concat(c.pipe(e.take(1),f.ignoreElements()),g.pipe(a(b)))}:h.mergeMap(function(a,c){return i.innerFrom(b(a,c)).pipe(e.take(1),g.mapTo(a))})}},91981,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.delay=void 0;var d=a.r(52832),e=a.r(76247),f=a.r(57847);c.delay=function(a,b){void 0===b&&(b=d.asyncScheduler);var c=f.timer(a,b);return e.delayWhen(function(){return c})}},98126,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.dematerialize=void 0;var d=a.r(27284),e=a.r(92321),f=a.r(77407);c.dematerialize=function(){return e.operate(function(a,b){a.subscribe(f.createOperatorSubscriber(b,function(a){return d.observeNotification(a,b)}))})}},66180,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.distinct=void 0;var d=a.r(92321),e=a.r(77407),f=a.r(40621),g=a.r(87341);c.distinct=function(a,b){return d.operate(function(c,d){var h=new Set;c.subscribe(e.createOperatorSubscriber(d,function(b){var c=a?a(b):b;h.has(c)||(h.add(c),d.next(b))})),b&&g.innerFrom(b).subscribe(e.createOperatorSubscriber(d,function(){return h.clear()},f.noop))})}},22145,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.distinctUntilChanged=void 0;var d=a.r(68666),e=a.r(92321),f=a.r(77407);function g(a,b){return a===b}c.distinctUntilChanged=function(a,b){return void 0===b&&(b=d.identity),a=null!=a?a:g,e.operate(function(c,d){var e,g=!0;c.subscribe(f.createOperatorSubscriber(d,function(c){var f=b(c);(g||!a(e,f))&&(g=!1,e=f,d.next(c))}))})}},38291,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.distinctUntilKeyChanged=void 0;var d=a.r(22145);c.distinctUntilKeyChanged=function(a,b){return d.distinctUntilChanged(function(c,d){return b?b(c[a],d[a]):c[a]===d[a]})}},94037,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.throwIfEmpty=void 0;var d=a.r(7275),e=a.r(92321),f=a.r(77407);function g(){return new d.EmptyError}c.throwIfEmpty=function(a){return void 0===a&&(a=g),e.operate(function(b,c){var d=!1;b.subscribe(f.createOperatorSubscriber(c,function(a){d=!0,c.next(a)},function(){return d?c.complete():c.error(a())}))})}},6949,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.elementAt=void 0;var d=a.r(82487),e=a.r(34730),f=a.r(94037),g=a.r(11395),h=a.r(49295);c.elementAt=function(a,b){if(a<0)throw new d.ArgumentOutOfRangeError;var c=arguments.length>=2;return function(i){return i.pipe(e.filter(function(b,c){return c===a}),h.take(1),c?g.defaultIfEmpty(b):f.throwIfEmpty(function(){return new d.ArgumentOutOfRangeError}))}}},11402,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.endWith=void 0;var f=a.r(77271),g=a.r(68597);c.endWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return function(b){return f.concat(b,g.of.apply(void 0,e([],d(a))))}}},97645,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.every=void 0;var d=a.r(92321),e=a.r(77407);c.every=function(a,b){return d.operate(function(c,d){var f=0;c.subscribe(e.createOperatorSubscriber(d,function(e){a.call(b,e,f++,c)||(d.next(!1),d.complete())},function(){d.next(!0),d.complete()}))})}},88508,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.exhaustMap=void 0;var d=a.r(29029),e=a.r(87341),f=a.r(92321),g=a.r(77407);c.exhaustMap=function a(b,c){return c?function(f){return f.pipe(a(function(a,f){return e.innerFrom(b(a,f)).pipe(d.map(function(b,d){return c(a,b,f,d)}))}))}:f.operate(function(a,c){var d=0,f=null,h=!1;a.subscribe(g.createOperatorSubscriber(c,function(a){f||(f=g.createOperatorSubscriber(c,void 0,function(){f=null,h&&c.complete()}),e.innerFrom(b(a,d++)).subscribe(f))},function(){h=!0,f||c.complete()}))})}},39477,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.exhaustAll=void 0;var d=a.r(88508),e=a.r(68666);c.exhaustAll=function(){return d.exhaustMap(e.identity)}},37612,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.exhaust=void 0,c.exhaust=a.r(39477).exhaustAll},91790,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.expand=void 0;var d=a.r(92321),e=a.r(85230);c.expand=function(a,b,c){return void 0===b&&(b=1/0),b=1>(b||0)?1/0:b,d.operate(function(d,f){return e.mergeInternals(d,f,a,b,void 0,!0,c)})}},91550,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.finalize=void 0;var d=a.r(92321);c.finalize=function(a){return d.operate(function(b,c){try{b.subscribe(c)}finally{c.add(a)}})}},58640,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.createFind=c.find=void 0;var d=a.r(92321),e=a.r(77407);function f(a,b,c){var d="index"===c;return function(c,f){var g=0;c.subscribe(e.createOperatorSubscriber(f,function(e){var h=g++;a.call(b,e,h,c)&&(f.next(d?h:e),f.complete())},function(){f.next(d?-1:void 0),f.complete()}))}}c.find=function(a,b){return d.operate(f(a,b,"value"))},c.createFind=f},29614,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.findIndex=void 0;var d=a.r(92321),e=a.r(58640);c.findIndex=function(a,b){return d.operate(e.createFind(a,b,"index"))}},30458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.first=void 0;var d=a.r(7275),e=a.r(34730),f=a.r(49295),g=a.r(11395),h=a.r(94037),i=a.r(68666);c.first=function(a,b){var c=arguments.length>=2;return function(j){return j.pipe(a?e.filter(function(b,c){return a(b,c,j)}):i.identity,f.take(1),c?g.defaultIfEmpty(b):h.throwIfEmpty(function(){return new d.EmptyError}))}}},36413,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.groupBy=void 0;var d=a.r(39415),e=a.r(87341),f=a.r(1493),g=a.r(92321),h=a.r(77407);c.groupBy=function(a,b,c,i){return g.operate(function(g,j){b&&"function"!=typeof b?(c=b.duration,k=b.element,i=b.connector):k=b;var k,l=new Map,m=function(a){l.forEach(a),a(j)},n=function(a){return m(function(b){return b.error(a)})},o=0,p=!1,q=new h.OperatorSubscriber(j,function(b){try{var g=a(b),m=l.get(g);if(!m){l.set(g,m=i?i():new f.Subject);var r,s,t,u=(r=g,s=m,(t=new d.Observable(function(a){o++;var b=s.subscribe(a);return function(){b.unsubscribe(),0==--o&&p&&q.unsubscribe()}})).key=r,t);if(j.next(u),c){var v=h.createOperatorSubscriber(m,function(){m.complete(),null==v||v.unsubscribe()},void 0,void 0,function(){return l.delete(g)});q.add(e.innerFrom(c(u)).subscribe(v))}}m.next(k?k(b):b)}catch(a){n(a)}},function(){return m(function(a){return a.complete()})},n,function(){return l.clear()},function(){return p=!0,0===o});g.subscribe(q)})}},38002,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isEmpty=void 0;var d=a.r(92321),e=a.r(77407);c.isEmpty=function(){return d.operate(function(a,b){a.subscribe(e.createOperatorSubscriber(b,function(){b.next(!1),b.complete()},function(){b.next(!0),b.complete()}))})}},40326,(a,b,c)=>{"use strict";var d=a.e&&a.e.__values||function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.takeLast=void 0;var e=a.r(1223),f=a.r(92321),g=a.r(77407);c.takeLast=function(a){return a<=0?function(){return e.EMPTY}:f.operate(function(b,c){var e=[];b.subscribe(g.createOperatorSubscriber(c,function(b){e.push(b),a<e.length&&e.shift()},function(){var a,b;try{for(var f=d(e),g=f.next();!g.done;g=f.next()){var h=g.value;c.next(h)}}catch(b){a={error:b}}finally{try{g&&!g.done&&(b=f.return)&&b.call(f)}finally{if(a)throw a.error}}c.complete()},void 0,function(){e=null}))})}},74130,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.last=void 0;var d=a.r(7275),e=a.r(34730),f=a.r(40326),g=a.r(94037),h=a.r(11395),i=a.r(68666);c.last=function(a,b){var c=arguments.length>=2;return function(j){return j.pipe(a?e.filter(function(b,c){return a(b,c,j)}):i.identity,f.takeLast(1),c?h.defaultIfEmpty(b):g.throwIfEmpty(function(){return new d.EmptyError}))}}},43440,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.materialize=void 0;var d=a.r(27284),e=a.r(92321),f=a.r(77407);c.materialize=function(){return e.operate(function(a,b){a.subscribe(f.createOperatorSubscriber(b,function(a){b.next(d.Notification.createNext(a))},function(){b.next(d.Notification.createComplete()),b.complete()},function(a){b.next(d.Notification.createError(a)),b.complete()}))})}},89525,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.max=void 0;var d=a.r(23905),e=a.r(18161);c.max=function(a){return d.reduce(e.isFunction(a)?function(b,c){return a(b,c)>0?b:c}:function(a,b){return a>b?a:b})}},68609,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.flatMap=void 0,c.flatMap=a.r(39104).mergeMap},69740,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mergeMapTo=void 0;var d=a.r(39104),e=a.r(18161);c.mergeMapTo=function(a,b,c){return(void 0===c&&(c=1/0),e.isFunction(b))?d.mergeMap(function(){return a},b,c):("number"==typeof b&&(c=b),d.mergeMap(function(){return a},c))}},85217,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mergeScan=void 0;var d=a.r(92321),e=a.r(85230);c.mergeScan=function(a,b,c){return void 0===c&&(c=1/0),d.operate(function(d,f){var g=b;return e.mergeInternals(d,f,function(b,c){return a(g,b,c)},c,function(a){g=a},!1,void 0,function(){return g=null})})}},97805,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.merge=void 0;var f=a.r(92321),g=a.r(31720),h=a.r(44924),i=a.r(48726);c.merge=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=h.popScheduler(a),j=h.popNumber(a,1/0);return f.operate(function(b,f){g.mergeAll(j)(i.from(e([b],d(a)),c)).subscribe(f)})}},43137,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.mergeWith=void 0;var f=a.r(97805);c.mergeWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return f.merge.apply(void 0,e([],d(a)))}},71340,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.min=void 0;var d=a.r(23905),e=a.r(18161);c.min=function(a){return d.reduce(e.isFunction(a)?function(b,c){return 0>a(b,c)?b:c}:function(a,b){return a<b?a:b})}},53345,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.multicast=void 0;var d=a.r(67361),e=a.r(18161),f=a.r(93666);c.multicast=function(a,b){var c=e.isFunction(a)?a:function(){return a};return e.isFunction(b)?f.connect(b,{connector:c}):function(a){return new d.ConnectableObservable(a,c)}}},20710,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.onErrorResumeNext=c.onErrorResumeNextWith=void 0;var f=a.r(23747),g=a.r(61559);function h(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=f.argsOrArgArray(a);return function(a){return g.onErrorResumeNext.apply(void 0,e([a],d(c)))}}c.onErrorResumeNextWith=h,c.onErrorResumeNext=h},19279,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.pairwise=void 0;var d=a.r(92321),e=a.r(77407);c.pairwise=function(){return d.operate(function(a,b){var c,d=!1;a.subscribe(e.createOperatorSubscriber(b,function(a){var e=c;c=a,d&&b.next([e,a]),d=!0}))})}},9087,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.pluck=void 0;var d=a.r(29029);c.pluck=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=a.length;if(0===c)throw Error("list of properties cannot be empty.");return d.map(function(b){for(var d=b,e=0;e<c;e++){var f=null==d?void 0:d[a[e]];if(void 0===f)return;d=f}return d})}},36354,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.publish=void 0;var d=a.r(1493),e=a.r(53345),f=a.r(93666);c.publish=function(a){return a?function(b){return f.connect(a)(b)}:function(a){return e.multicast(new d.Subject)(a)}}},12475,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.publishBehavior=void 0;var d=a.r(461),e=a.r(67361);c.publishBehavior=function(a){return function(b){var c=new d.BehaviorSubject(a);return new e.ConnectableObservable(b,function(){return c})}}},94605,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.publishLast=void 0;var d=a.r(17987),e=a.r(67361);c.publishLast=function(){return function(a){var b=new d.AsyncSubject;return new e.ConnectableObservable(a,function(){return b})}}},35162,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.publishReplay=void 0;var d=a.r(25737),e=a.r(53345),f=a.r(18161);c.publishReplay=function(a,b,c,g){c&&!f.isFunction(c)&&(g=c);var h=f.isFunction(c)?c:void 0;return function(c){return e.multicast(new d.ReplaySubject(a,b,g),h)(c)}}},22709,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.raceWith=void 0;var f=a.r(93453),g=a.r(92321),h=a.r(68666);c.raceWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.length?g.operate(function(b,c){f.raceInit(e([b],d(a)))(c)}):h.identity}},88769,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.repeat=void 0;var d=a.r(1223),e=a.r(92321),f=a.r(77407),g=a.r(87341),h=a.r(57847);c.repeat=function(a){var b,c,i=1/0;return null!=a&&("object"==typeof a?(i=void 0===(b=a.count)?1/0:b,c=a.delay):i=a),i<=0?function(){return d.EMPTY}:e.operate(function(a,b){var d,e=0,j=function(){if(null==d||d.unsubscribe(),d=null,null!=c){var a="number"==typeof c?h.timer(c):g.innerFrom(c(e)),i=f.createOperatorSubscriber(b,function(){i.unsubscribe(),k()});a.subscribe(i)}else k()},k=function(){var c=!1;d=a.subscribe(f.createOperatorSubscriber(b,void 0,function(){++e<i?d?j():c=!0:b.complete()})),c&&j()};k()})}},54447,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.repeatWhen=void 0;var d=a.r(87341),e=a.r(1493),f=a.r(92321),g=a.r(77407);c.repeatWhen=function(a){return f.operate(function(b,c){var f,h,i=!1,j=!1,k=!1,l=function(){return k&&j&&(c.complete(),!0)},m=function(){k=!1,f=b.subscribe(g.createOperatorSubscriber(c,void 0,function(){k=!0,l()||(!h&&(h=new e.Subject,d.innerFrom(a(h)).subscribe(g.createOperatorSubscriber(c,function(){f?m():i=!0},function(){j=!0,l()}))),h).next()})),i&&(f.unsubscribe(),f=null,i=!1,m())};m()})}},73280,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.retry=void 0;var d=a.r(92321),e=a.r(77407),f=a.r(68666),g=a.r(57847),h=a.r(87341);c.retry=function(a){void 0===a&&(a=1/0);var b=a&&"object"==typeof a?a:{count:a},c=b.count,i=void 0===c?1/0:c,j=b.delay,k=b.resetOnSuccess,l=void 0!==k&&k;return i<=0?f.identity:d.operate(function(a,b){var c,d=0,f=function(){var k=!1;c=a.subscribe(e.createOperatorSubscriber(b,function(a){l&&(d=0),b.next(a)},void 0,function(a){if(d++<i){var l=function(){c?(c.unsubscribe(),c=null,f()):k=!0};if(null!=j){var m="number"==typeof j?g.timer(j):h.innerFrom(j(a,d)),n=e.createOperatorSubscriber(b,function(){n.unsubscribe(),l()},function(){b.complete()});m.subscribe(n)}else l()}else b.error(a)})),k&&(c.unsubscribe(),c=null,f())};f()})}},5184,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.retryWhen=void 0;var d=a.r(87341),e=a.r(1493),f=a.r(92321),g=a.r(77407);c.retryWhen=function(a){return f.operate(function(b,c){var f,h,i=!1,j=function(){f=b.subscribe(g.createOperatorSubscriber(c,void 0,void 0,function(b){h||(h=new e.Subject,d.innerFrom(a(h)).subscribe(g.createOperatorSubscriber(c,function(){return f?j():i=!0}))),h&&h.next(b)})),i&&(f.unsubscribe(),f=null,i=!1,j())};j()})}},93807,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.sample=void 0;var d=a.r(87341),e=a.r(92321),f=a.r(40621),g=a.r(77407);c.sample=function(a){return e.operate(function(b,c){var e=!1,h=null;b.subscribe(g.createOperatorSubscriber(c,function(a){e=!0,h=a})),d.innerFrom(a).subscribe(g.createOperatorSubscriber(c,function(){if(e){e=!1;var a=h;h=null,c.next(a)}},f.noop))})}},47347,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.sampleTime=void 0;var d=a.r(52832),e=a.r(93807),f=a.r(84358);c.sampleTime=function(a,b){return void 0===b&&(b=d.asyncScheduler),e.sample(f.interval(a,b))}},71820,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.scan=void 0;var d=a.r(92321),e=a.r(48325);c.scan=function(a,b){return d.operate(e.scanInternals(a,b,arguments.length>=2,!0))}},95379,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.sequenceEqual=void 0;var d=a.r(92321),e=a.r(77407),f=a.r(87341);function g(){return{buffer:[],complete:!1}}c.sequenceEqual=function(a,b){return void 0===b&&(b=function(a,b){return a===b}),d.operate(function(c,d){var h=g(),i=g(),j=function(a){d.next(a),d.complete()},k=function(a,c){var f=e.createOperatorSubscriber(d,function(d){var e=c.buffer,f=c.complete;0===e.length?f?j(!1):a.buffer.push(d):b(d,e.shift())||j(!1)},function(){a.complete=!0;var b=c.complete,d=c.buffer;b&&j(0===d.length),null==f||f.unsubscribe()});return f};c.subscribe(k(h,i)),f.innerFrom(a).subscribe(k(i,h))})}},56623,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.share=void 0;var f=a.r(87341),g=a.r(1493),h=a.r(73322),i=a.r(92321);function j(a,b){for(var c=[],g=2;g<arguments.length;g++)c[g-2]=arguments[g];if(!0===b)return void a();if(!1!==b){var i=new h.SafeSubscriber({next:function(){i.unsubscribe(),a()}});return f.innerFrom(b.apply(void 0,e([],d(c)))).subscribe(i)}}c.share=function(a){void 0===a&&(a={});var b=a.connector,c=void 0===b?function(){return new g.Subject}:b,d=a.resetOnError,e=void 0===d||d,k=a.resetOnComplete,l=void 0===k||k,m=a.resetOnRefCountZero,n=void 0===m||m;return function(a){var b,d,g,k=0,m=!1,o=!1,p=function(){null==d||d.unsubscribe(),d=void 0},q=function(){p(),b=g=void 0,m=o=!1},r=function(){var a=b;q(),null==a||a.unsubscribe()};return i.operate(function(a,i){k++,o||m||p();var s=g=null!=g?g:c();i.add(function(){0!=--k||o||m||(d=j(r,n))}),s.subscribe(i),!b&&k>0&&(b=new h.SafeSubscriber({next:function(a){return s.next(a)},error:function(a){o=!0,p(),d=j(q,e,a),s.error(a)},complete:function(){m=!0,p(),d=j(q,l),s.complete()}}),f.innerFrom(a).subscribe(b))})(a)}}},12269,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.shareReplay=void 0;var d=a.r(25737),e=a.r(56623);c.shareReplay=function(a,b,c){var f,g,h,i,j=!1;return a&&"object"==typeof a?(i=void 0===(f=a.bufferSize)?1/0:f,b=void 0===(g=a.windowTime)?1/0:g,j=void 0!==(h=a.refCount)&&h,c=a.scheduler):i=null!=a?a:1/0,e.share({connector:function(){return new d.ReplaySubject(i,b,c)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:j})}},77285,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.single=void 0;var d=a.r(7275),e=a.r(16928),f=a.r(58692),g=a.r(92321),h=a.r(77407);c.single=function(a){return g.operate(function(b,c){var g,i=!1,j=!1,k=0;b.subscribe(h.createOperatorSubscriber(c,function(d){j=!0,(!a||a(d,k++,b))&&(i&&c.error(new e.SequenceError("Too many matching values")),i=!0,g=d)},function(){i?(c.next(g),c.complete()):c.error(j?new f.NotFoundError("No matching values"):new d.EmptyError)}))})}},47824,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.skip=void 0;var d=a.r(34730);c.skip=function(a){return d.filter(function(b,c){return a<=c})}},58965,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.skipLast=void 0;var d=a.r(68666),e=a.r(92321),f=a.r(77407);c.skipLast=function(a){return a<=0?d.identity:e.operate(function(b,c){var d=Array(a),e=0;return b.subscribe(f.createOperatorSubscriber(c,function(b){var f=e++;if(f<a)d[f]=b;else{var g=f%a,h=d[g];d[g]=b,c.next(h)}})),function(){d=null}})}},88008,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.skipUntil=void 0;var d=a.r(92321),e=a.r(77407),f=a.r(87341),g=a.r(40621);c.skipUntil=function(a){return d.operate(function(b,c){var d=!1,h=e.createOperatorSubscriber(c,function(){null==h||h.unsubscribe(),d=!0},g.noop);f.innerFrom(a).subscribe(h),b.subscribe(e.createOperatorSubscriber(c,function(a){return d&&c.next(a)}))})}},82176,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.skipWhile=void 0;var d=a.r(92321),e=a.r(77407);c.skipWhile=function(a){return d.operate(function(b,c){var d=!1,f=0;b.subscribe(e.createOperatorSubscriber(c,function(b){return(d||(d=!a(b,f++)))&&c.next(b)}))})}},92470,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.startWith=void 0;var d=a.r(77271),e=a.r(44924),f=a.r(92321);c.startWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=e.popScheduler(a);return f.operate(function(b,e){(c?d.concat(a,b,c):d.concat(a,b)).subscribe(e)})}},41436,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.switchMap=void 0;var d=a.r(87341),e=a.r(92321),f=a.r(77407);c.switchMap=function(a,b){return e.operate(function(c,e){var g=null,h=0,i=!1,j=function(){return i&&!g&&e.complete()};c.subscribe(f.createOperatorSubscriber(e,function(c){null==g||g.unsubscribe();var i=0,k=h++;d.innerFrom(a(c,k)).subscribe(g=f.createOperatorSubscriber(e,function(a){return e.next(b?b(c,a,k,i++):a)},function(){g=null,j()}))},function(){i=!0,j()}))})}},42556,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.switchAll=void 0;var d=a.r(41436),e=a.r(68666);c.switchAll=function(){return d.switchMap(e.identity)}},67561,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.switchMapTo=void 0;var d=a.r(41436),e=a.r(18161);c.switchMapTo=function(a,b){return e.isFunction(b)?d.switchMap(function(){return a},b):d.switchMap(function(){return a})}},58736,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.switchScan=void 0;var d=a.r(41436),e=a.r(92321);c.switchScan=function(a,b){return e.operate(function(c,e){var f=b;return d.switchMap(function(b,c){return a(f,b,c)},function(a,b){return f=b,b})(c).subscribe(e),function(){f=null}})}},83997,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.takeUntil=void 0;var d=a.r(92321),e=a.r(77407),f=a.r(87341),g=a.r(40621);c.takeUntil=function(a){return d.operate(function(b,c){f.innerFrom(a).subscribe(e.createOperatorSubscriber(c,function(){return c.complete()},g.noop)),c.closed||b.subscribe(c)})}},45112,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.takeWhile=void 0;var d=a.r(92321),e=a.r(77407);c.takeWhile=function(a,b){return void 0===b&&(b=!1),d.operate(function(c,d){var f=0;c.subscribe(e.createOperatorSubscriber(d,function(c){var e=a(c,f++);(e||b)&&d.next(c),e||d.complete()}))})}},38520,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.tap=void 0;var d=a.r(18161),e=a.r(92321),f=a.r(77407),g=a.r(68666);c.tap=function(a,b,c){var h=d.isFunction(a)||b||c?{next:a,error:b,complete:c}:a;return h?e.operate(function(a,b){null==(c=h.subscribe)||c.call(h);var c,d=!0;a.subscribe(f.createOperatorSubscriber(b,function(a){var c;null==(c=h.next)||c.call(h,a),b.next(a)},function(){var a;d=!1,null==(a=h.complete)||a.call(h),b.complete()},function(a){var c;d=!1,null==(c=h.error)||c.call(h,a),b.error(a)},function(){var a,b;d&&(null==(a=h.unsubscribe)||a.call(h)),null==(b=h.finalize)||b.call(h)}))}):g.identity}},10930,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.throttle=void 0;var d=a.r(92321),e=a.r(77407),f=a.r(87341);c.throttle=function(a,b){return d.operate(function(c,d){var g=null!=b?b:{},h=g.leading,i=void 0===h||h,j=g.trailing,k=void 0!==j&&j,l=!1,m=null,n=null,o=!1,p=function(){null==n||n.unsubscribe(),n=null,k&&(s(),o&&d.complete())},q=function(){n=null,o&&d.complete()},r=function(b){return n=f.innerFrom(a(b)).subscribe(e.createOperatorSubscriber(d,p,q))},s=function(){if(l){l=!1;var a=m;m=null,d.next(a),o||r(a)}};c.subscribe(e.createOperatorSubscriber(d,function(a){l=!0,m=a,n&&!n.closed||(i?s():r(a))},function(){o=!0,k&&l&&n&&!n.closed||d.complete()}))})}},93346,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.throttleTime=void 0;var d=a.r(52832),e=a.r(10930),f=a.r(57847);c.throttleTime=function(a,b,c){void 0===b&&(b=d.asyncScheduler);var g=f.timer(a,b);return e.throttle(function(){return g},c)}},56155,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.TimeInterval=c.timeInterval=void 0;var d=a.r(52832),e=a.r(92321),f=a.r(77407);c.timeInterval=function(a){return void 0===a&&(a=d.asyncScheduler),e.operate(function(b,c){var d=a.now();b.subscribe(f.createOperatorSubscriber(c,function(b){var e=a.now(),f=e-d;d=e,c.next(new g(b,f))}))})};var g=function(a,b){this.value=a,this.interval=b};c.TimeInterval=g},76224,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.timeoutWith=void 0;var d=a.r(52832),e=a.r(4301),f=a.r(54835);c.timeoutWith=function(a,b,c){var g,h,i;if(c=null!=c?c:d.async,e.isValidDate(a)?g=a:"number"==typeof a&&(h=a),b)i=function(){return b};else throw TypeError("No observable provided to switch to");if(null==g&&null==h)throw TypeError("No timeout provided.");return f.timeout({first:g,each:h,scheduler:c,with:i})}},19217,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.timestamp=void 0;var d=a.r(95916),e=a.r(29029);c.timestamp=function(a){return void 0===a&&(a=d.dateTimestampProvider),e.map(function(b){return{value:b,timestamp:a.now()}})}},60102,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.window=void 0;var d=a.r(1493),e=a.r(92321),f=a.r(77407),g=a.r(40621),h=a.r(87341);c.window=function(a){return e.operate(function(b,c){var e=new d.Subject;c.next(e.asObservable());var i=function(a){e.error(a),c.error(a)};return b.subscribe(f.createOperatorSubscriber(c,function(a){return null==e?void 0:e.next(a)},function(){e.complete(),c.complete()},i)),h.innerFrom(a).subscribe(f.createOperatorSubscriber(c,function(){e.complete(),c.next(e=new d.Subject)},g.noop,i)),function(){null==e||e.unsubscribe(),e=null}})}},29552,(a,b,c)=>{"use strict";var d=a.e&&a.e.__values||function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.windowCount=void 0;var e=a.r(1493),f=a.r(92321),g=a.r(77407);c.windowCount=function(a,b){void 0===b&&(b=0);var c=b>0?b:a;return f.operate(function(b,f){var h=[new e.Subject],i=0;f.next(h[0].asObservable()),b.subscribe(g.createOperatorSubscriber(f,function(b){try{for(var g,j,k=d(h),l=k.next();!l.done;l=k.next())l.value.next(b)}catch(a){g={error:a}}finally{try{l&&!l.done&&(j=k.return)&&j.call(k)}finally{if(g)throw g.error}}var m=i-a+1;if(m>=0&&m%c==0&&h.shift().complete(),++i%c==0){var n=new e.Subject;h.push(n),f.next(n.asObservable())}},function(){for(;h.length>0;)h.shift().complete();f.complete()},function(a){for(;h.length>0;)h.shift().error(a);f.error(a)},function(){h=null}))})}},16181,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.windowTime=void 0;var d=a.r(1493),e=a.r(52832),f=a.r(78298),g=a.r(92321),h=a.r(77407),i=a.r(58395),j=a.r(44924),k=a.r(64910);c.windowTime=function(a){for(var b,c,l=[],m=1;m<arguments.length;m++)l[m-1]=arguments[m];var n=null!=(b=j.popScheduler(l))?b:e.asyncScheduler,o=null!=(c=l[0])?c:null,p=l[1]||1/0;return g.operate(function(b,c){var e=[],g=!1,j=function(a){var b=a.window,c=a.subs;b.complete(),c.unsubscribe(),i.arrRemove(e,a),g&&l()},l=function(){if(e){var b=new f.Subscription;c.add(b);var g=new d.Subject,h={window:g,subs:b,seen:0};e.push(h),c.next(g.asObservable()),k.executeSchedule(b,n,function(){return j(h)},a)}};null!==o&&o>=0?k.executeSchedule(c,n,l,o,!0):g=!0,l();var m=function(a){return e.slice().forEach(a)},q=function(a){m(function(b){return a(b.window)}),a(c),c.unsubscribe()};return b.subscribe(h.createOperatorSubscriber(c,function(a){m(function(b){b.window.next(a),p<=++b.seen&&j(b)})},function(){return q(function(a){return a.complete()})},function(a){return q(function(b){return b.error(a)})})),function(){e=null}})}},7954,(a,b,c)=>{"use strict";var d=a.e&&a.e.__values||function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c,"__esModule",{value:!0}),c.windowToggle=void 0;var e=a.r(1493),f=a.r(78298),g=a.r(92321),h=a.r(87341),i=a.r(77407),j=a.r(40621),k=a.r(58395);c.windowToggle=function(a,b){return g.operate(function(c,g){var l=[],m=function(a){for(;0<l.length;)l.shift().error(a);g.error(a)};h.innerFrom(a).subscribe(i.createOperatorSubscriber(g,function(a){var c,d=new e.Subject;l.push(d);var n=new f.Subscription;try{c=h.innerFrom(b(a))}catch(a){m(a);return}g.next(d.asObservable()),n.add(c.subscribe(i.createOperatorSubscriber(g,function(){k.arrRemove(l,d),d.complete(),n.unsubscribe()},j.noop,m)))},j.noop)),c.subscribe(i.createOperatorSubscriber(g,function(a){var b,c,e=l.slice();try{for(var f=d(e),g=f.next();!g.done;g=f.next())g.value.next(a)}catch(a){b={error:a}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}},function(){for(;0<l.length;)l.shift().complete();g.complete()},m,function(){for(;0<l.length;)l.shift().unsubscribe()}))})}},48974,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.windowWhen=void 0;var d=a.r(1493),e=a.r(92321),f=a.r(77407),g=a.r(87341);c.windowWhen=function(a){return e.operate(function(b,c){var e,h,i=function(a){e.error(a),c.error(a)},j=function(){var b;null==h||h.unsubscribe(),null==e||e.complete(),e=new d.Subject,c.next(e.asObservable());try{b=g.innerFrom(a())}catch(a){i(a);return}b.subscribe(h=f.createOperatorSubscriber(c,j,j,i))};j(),b.subscribe(f.createOperatorSubscriber(c,function(a){return e.next(a)},function(){e.complete(),c.complete()},i,function(){null==h||h.unsubscribe(),e=null}))})}},22273,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.withLatestFrom=void 0;var f=a.r(92321),g=a.r(77407),h=a.r(87341),i=a.r(68666),j=a.r(40621),k=a.r(44924);c.withLatestFrom=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=k.popResultSelector(a);return f.operate(function(b,f){for(var k=a.length,l=Array(k),m=a.map(function(){return!1}),n=!1,o=function(b){h.innerFrom(a[b]).subscribe(g.createOperatorSubscriber(f,function(a){l[b]=a,!n&&!m[b]&&(m[b]=!0,(n=m.every(i.identity))&&(m=null))},j.noop))},p=0;p<k;p++)o(p);b.subscribe(g.createOperatorSubscriber(f,function(a){if(n){var b=e([a],d(l));f.next(c?c.apply(void 0,e([],d(b))):b)}}))})}},35342,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.zipAll=void 0;var d=a.r(25126),e=a.r(78656);c.zipAll=function(a){return e.joinAllInternals(d.zip,a)}},36085,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.zip=void 0;var f=a.r(25126),g=a.r(92321);c.zip=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return g.operate(function(b,c){f.zip.apply(void 0,e([b],d(a))).subscribe(c)})}},49663,(a,b,c)=>{"use strict";var d=a.e&&a.e.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},e=a.e&&a.e.__spreadArray||function(a,b){for(var c=0,d=b.length,e=a.length;c<d;c++,e++)a[e]=b[c];return a};Object.defineProperty(c,"__esModule",{value:!0}),c.zipWith=void 0;var f=a.r(36085);c.zipWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return f.zip.apply(void 0,e([],d(a)))}},52535,(a,b,c)=>{"use strict";var d=a.e&&a.e.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=a.e&&a.e.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(c,"__esModule",{value:!0}),c.interval=c.iif=c.generate=c.fromEventPattern=c.fromEvent=c.from=c.forkJoin=c.empty=c.defer=c.connectable=c.concat=c.combineLatest=c.bindNodeCallback=c.bindCallback=c.UnsubscriptionError=c.TimeoutError=c.SequenceError=c.ObjectUnsubscribedError=c.NotFoundError=c.EmptyError=c.ArgumentOutOfRangeError=c.firstValueFrom=c.lastValueFrom=c.isObservable=c.identity=c.noop=c.pipe=c.NotificationKind=c.Notification=c.Subscriber=c.Subscription=c.Scheduler=c.VirtualAction=c.VirtualTimeScheduler=c.animationFrameScheduler=c.animationFrame=c.queueScheduler=c.queue=c.asyncScheduler=c.async=c.asapScheduler=c.asap=c.AsyncSubject=c.ReplaySubject=c.BehaviorSubject=c.Subject=c.animationFrames=c.observable=c.ConnectableObservable=c.Observable=void 0,c.filter=c.expand=c.exhaustMap=c.exhaustAll=c.exhaust=c.every=c.endWith=c.elementAt=c.distinctUntilKeyChanged=c.distinctUntilChanged=c.distinct=c.dematerialize=c.delayWhen=c.delay=c.defaultIfEmpty=c.debounceTime=c.debounce=c.count=c.connect=c.concatWith=c.concatMapTo=c.concatMap=c.concatAll=c.combineLatestWith=c.combineLatestAll=c.combineAll=c.catchError=c.bufferWhen=c.bufferToggle=c.bufferTime=c.bufferCount=c.buffer=c.auditTime=c.audit=c.config=c.NEVER=c.EMPTY=c.scheduled=c.zip=c.using=c.timer=c.throwError=c.range=c.race=c.partition=c.pairs=c.onErrorResumeNext=c.of=c.never=c.merge=void 0,c.switchMap=c.switchAll=c.subscribeOn=c.startWith=c.skipWhile=c.skipUntil=c.skipLast=c.skip=c.single=c.shareReplay=c.share=c.sequenceEqual=c.scan=c.sampleTime=c.sample=c.refCount=c.retryWhen=c.retry=c.repeatWhen=c.repeat=c.reduce=c.raceWith=c.publishReplay=c.publishLast=c.publishBehavior=c.publish=c.pluck=c.pairwise=c.onErrorResumeNextWith=c.observeOn=c.multicast=c.min=c.mergeWith=c.mergeScan=c.mergeMapTo=c.mergeMap=c.flatMap=c.mergeAll=c.max=c.materialize=c.mapTo=c.map=c.last=c.isEmpty=c.ignoreElements=c.groupBy=c.first=c.findIndex=c.find=c.finalize=void 0,c.zipWith=c.zipAll=c.withLatestFrom=c.windowWhen=c.windowToggle=c.windowTime=c.windowCount=c.window=c.toArray=c.timestamp=c.timeoutWith=c.timeout=c.timeInterval=c.throwIfEmpty=c.throttleTime=c.throttle=c.tap=c.takeWhile=c.takeUntil=c.takeLast=c.take=c.switchScan=c.switchMapTo=void 0;var f=a.r(39415);Object.defineProperty(c,"Observable",{enumerable:!0,get:function(){return f.Observable}});var g=a.r(67361);Object.defineProperty(c,"ConnectableObservable",{enumerable:!0,get:function(){return g.ConnectableObservable}});var h=a.r(62585);Object.defineProperty(c,"observable",{enumerable:!0,get:function(){return h.observable}});var i=a.r(82272);Object.defineProperty(c,"animationFrames",{enumerable:!0,get:function(){return i.animationFrames}});var j=a.r(1493);Object.defineProperty(c,"Subject",{enumerable:!0,get:function(){return j.Subject}});var k=a.r(461);Object.defineProperty(c,"BehaviorSubject",{enumerable:!0,get:function(){return k.BehaviorSubject}});var l=a.r(25737);Object.defineProperty(c,"ReplaySubject",{enumerable:!0,get:function(){return l.ReplaySubject}});var m=a.r(17987);Object.defineProperty(c,"AsyncSubject",{enumerable:!0,get:function(){return m.AsyncSubject}});var n=a.r(70821);Object.defineProperty(c,"asap",{enumerable:!0,get:function(){return n.asap}}),Object.defineProperty(c,"asapScheduler",{enumerable:!0,get:function(){return n.asapScheduler}});var o=a.r(52832);Object.defineProperty(c,"async",{enumerable:!0,get:function(){return o.async}}),Object.defineProperty(c,"asyncScheduler",{enumerable:!0,get:function(){return o.asyncScheduler}});var p=a.r(42529);Object.defineProperty(c,"queue",{enumerable:!0,get:function(){return p.queue}}),Object.defineProperty(c,"queueScheduler",{enumerable:!0,get:function(){return p.queueScheduler}});var q=a.r(10937);Object.defineProperty(c,"animationFrame",{enumerable:!0,get:function(){return q.animationFrame}}),Object.defineProperty(c,"animationFrameScheduler",{enumerable:!0,get:function(){return q.animationFrameScheduler}});var r=a.r(93774);Object.defineProperty(c,"VirtualTimeScheduler",{enumerable:!0,get:function(){return r.VirtualTimeScheduler}}),Object.defineProperty(c,"VirtualAction",{enumerable:!0,get:function(){return r.VirtualAction}});var s=a.r(17102);Object.defineProperty(c,"Scheduler",{enumerable:!0,get:function(){return s.Scheduler}});var t=a.r(78298);Object.defineProperty(c,"Subscription",{enumerable:!0,get:function(){return t.Subscription}});var u=a.r(73322);Object.defineProperty(c,"Subscriber",{enumerable:!0,get:function(){return u.Subscriber}});var v=a.r(27284);Object.defineProperty(c,"Notification",{enumerable:!0,get:function(){return v.Notification}}),Object.defineProperty(c,"NotificationKind",{enumerable:!0,get:function(){return v.NotificationKind}});var w=a.r(36377);Object.defineProperty(c,"pipe",{enumerable:!0,get:function(){return w.pipe}});var x=a.r(40621);Object.defineProperty(c,"noop",{enumerable:!0,get:function(){return x.noop}});var y=a.r(68666);Object.defineProperty(c,"identity",{enumerable:!0,get:function(){return y.identity}});var z=a.r(26057);Object.defineProperty(c,"isObservable",{enumerable:!0,get:function(){return z.isObservable}});var A=a.r(25217);Object.defineProperty(c,"lastValueFrom",{enumerable:!0,get:function(){return A.lastValueFrom}});var B=a.r(8217);Object.defineProperty(c,"firstValueFrom",{enumerable:!0,get:function(){return B.firstValueFrom}});var C=a.r(82487);Object.defineProperty(c,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return C.ArgumentOutOfRangeError}});var D=a.r(7275);Object.defineProperty(c,"EmptyError",{enumerable:!0,get:function(){return D.EmptyError}});var E=a.r(58692);Object.defineProperty(c,"NotFoundError",{enumerable:!0,get:function(){return E.NotFoundError}});var F=a.r(35279);Object.defineProperty(c,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return F.ObjectUnsubscribedError}});var G=a.r(16928);Object.defineProperty(c,"SequenceError",{enumerable:!0,get:function(){return G.SequenceError}});var H=a.r(54835);Object.defineProperty(c,"TimeoutError",{enumerable:!0,get:function(){return H.TimeoutError}});var I=a.r(90157);Object.defineProperty(c,"UnsubscriptionError",{enumerable:!0,get:function(){return I.UnsubscriptionError}});var J=a.r(69994);Object.defineProperty(c,"bindCallback",{enumerable:!0,get:function(){return J.bindCallback}});var K=a.r(7438);Object.defineProperty(c,"bindNodeCallback",{enumerable:!0,get:function(){return K.bindNodeCallback}});var L=a.r(21643);Object.defineProperty(c,"combineLatest",{enumerable:!0,get:function(){return L.combineLatest}});var M=a.r(77271);Object.defineProperty(c,"concat",{enumerable:!0,get:function(){return M.concat}});var N=a.r(35672);Object.defineProperty(c,"connectable",{enumerable:!0,get:function(){return N.connectable}});var O=a.r(48344);Object.defineProperty(c,"defer",{enumerable:!0,get:function(){return O.defer}});var P=a.r(1223);Object.defineProperty(c,"empty",{enumerable:!0,get:function(){return P.empty}});var Q=a.r(22890);Object.defineProperty(c,"forkJoin",{enumerable:!0,get:function(){return Q.forkJoin}});var R=a.r(48726);Object.defineProperty(c,"from",{enumerable:!0,get:function(){return R.from}});var S=a.r(54370);Object.defineProperty(c,"fromEvent",{enumerable:!0,get:function(){return S.fromEvent}});var T=a.r(78083);Object.defineProperty(c,"fromEventPattern",{enumerable:!0,get:function(){return T.fromEventPattern}});var U=a.r(3457);Object.defineProperty(c,"generate",{enumerable:!0,get:function(){return U.generate}});var V=a.r(32997);Object.defineProperty(c,"iif",{enumerable:!0,get:function(){return V.iif}});var W=a.r(84358);Object.defineProperty(c,"interval",{enumerable:!0,get:function(){return W.interval}});var X=a.r(93778);Object.defineProperty(c,"merge",{enumerable:!0,get:function(){return X.merge}});var Y=a.r(63267);Object.defineProperty(c,"never",{enumerable:!0,get:function(){return Y.never}});var Z=a.r(68597);Object.defineProperty(c,"of",{enumerable:!0,get:function(){return Z.of}});var $=a.r(61559);Object.defineProperty(c,"onErrorResumeNext",{enumerable:!0,get:function(){return $.onErrorResumeNext}});var _=a.r(17058);Object.defineProperty(c,"pairs",{enumerable:!0,get:function(){return _.pairs}});var aa=a.r(76004);Object.defineProperty(c,"partition",{enumerable:!0,get:function(){return aa.partition}});var ab=a.r(93453);Object.defineProperty(c,"race",{enumerable:!0,get:function(){return ab.race}});var ac=a.r(22971);Object.defineProperty(c,"range",{enumerable:!0,get:function(){return ac.range}});var ad=a.r(75109);Object.defineProperty(c,"throwError",{enumerable:!0,get:function(){return ad.throwError}});var ae=a.r(57847);Object.defineProperty(c,"timer",{enumerable:!0,get:function(){return ae.timer}});var af=a.r(35512);Object.defineProperty(c,"using",{enumerable:!0,get:function(){return af.using}});var ag=a.r(25126);Object.defineProperty(c,"zip",{enumerable:!0,get:function(){return ag.zip}});var ah=a.r(75122);Object.defineProperty(c,"scheduled",{enumerable:!0,get:function(){return ah.scheduled}});var ai=a.r(1223);Object.defineProperty(c,"EMPTY",{enumerable:!0,get:function(){return ai.EMPTY}});var aj=a.r(63267);Object.defineProperty(c,"NEVER",{enumerable:!0,get:function(){return aj.NEVER}}),e(a.r(14307),c);var ak=a.r(29945);Object.defineProperty(c,"config",{enumerable:!0,get:function(){return ak.config}});var al=a.r(20383);Object.defineProperty(c,"audit",{enumerable:!0,get:function(){return al.audit}});var am=a.r(27627);Object.defineProperty(c,"auditTime",{enumerable:!0,get:function(){return am.auditTime}});var an=a.r(22162);Object.defineProperty(c,"buffer",{enumerable:!0,get:function(){return an.buffer}});var ao=a.r(79979);Object.defineProperty(c,"bufferCount",{enumerable:!0,get:function(){return ao.bufferCount}});var ap=a.r(13928);Object.defineProperty(c,"bufferTime",{enumerable:!0,get:function(){return ap.bufferTime}});var aq=a.r(89011);Object.defineProperty(c,"bufferToggle",{enumerable:!0,get:function(){return aq.bufferToggle}});var ar=a.r(89419);Object.defineProperty(c,"bufferWhen",{enumerable:!0,get:function(){return ar.bufferWhen}});var as=a.r(6788);Object.defineProperty(c,"catchError",{enumerable:!0,get:function(){return as.catchError}});var at=a.r(47855);Object.defineProperty(c,"combineAll",{enumerable:!0,get:function(){return at.combineAll}});var au=a.r(13473);Object.defineProperty(c,"combineLatestAll",{enumerable:!0,get:function(){return au.combineLatestAll}});var av=a.r(90375);Object.defineProperty(c,"combineLatestWith",{enumerable:!0,get:function(){return av.combineLatestWith}});var aw=a.r(48841);Object.defineProperty(c,"concatAll",{enumerable:!0,get:function(){return aw.concatAll}});var ax=a.r(6756);Object.defineProperty(c,"concatMap",{enumerable:!0,get:function(){return ax.concatMap}});var ay=a.r(11209);Object.defineProperty(c,"concatMapTo",{enumerable:!0,get:function(){return ay.concatMapTo}});var az=a.r(49106);Object.defineProperty(c,"concatWith",{enumerable:!0,get:function(){return az.concatWith}});var aA=a.r(93666);Object.defineProperty(c,"connect",{enumerable:!0,get:function(){return aA.connect}});var aB=a.r(79153);Object.defineProperty(c,"count",{enumerable:!0,get:function(){return aB.count}});var aC=a.r(89357);Object.defineProperty(c,"debounce",{enumerable:!0,get:function(){return aC.debounce}});var aD=a.r(43617);Object.defineProperty(c,"debounceTime",{enumerable:!0,get:function(){return aD.debounceTime}});var aE=a.r(11395);Object.defineProperty(c,"defaultIfEmpty",{enumerable:!0,get:function(){return aE.defaultIfEmpty}});var aF=a.r(91981);Object.defineProperty(c,"delay",{enumerable:!0,get:function(){return aF.delay}});var aG=a.r(76247);Object.defineProperty(c,"delayWhen",{enumerable:!0,get:function(){return aG.delayWhen}});var aH=a.r(98126);Object.defineProperty(c,"dematerialize",{enumerable:!0,get:function(){return aH.dematerialize}});var aI=a.r(66180);Object.defineProperty(c,"distinct",{enumerable:!0,get:function(){return aI.distinct}});var aJ=a.r(22145);Object.defineProperty(c,"distinctUntilChanged",{enumerable:!0,get:function(){return aJ.distinctUntilChanged}});var aK=a.r(38291);Object.defineProperty(c,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return aK.distinctUntilKeyChanged}});var aL=a.r(6949);Object.defineProperty(c,"elementAt",{enumerable:!0,get:function(){return aL.elementAt}});var aM=a.r(11402);Object.defineProperty(c,"endWith",{enumerable:!0,get:function(){return aM.endWith}});var aN=a.r(97645);Object.defineProperty(c,"every",{enumerable:!0,get:function(){return aN.every}});var aO=a.r(37612);Object.defineProperty(c,"exhaust",{enumerable:!0,get:function(){return aO.exhaust}});var aP=a.r(39477);Object.defineProperty(c,"exhaustAll",{enumerable:!0,get:function(){return aP.exhaustAll}});var aQ=a.r(88508);Object.defineProperty(c,"exhaustMap",{enumerable:!0,get:function(){return aQ.exhaustMap}});var aR=a.r(91790);Object.defineProperty(c,"expand",{enumerable:!0,get:function(){return aR.expand}});var aS=a.r(34730);Object.defineProperty(c,"filter",{enumerable:!0,get:function(){return aS.filter}});var aT=a.r(91550);Object.defineProperty(c,"finalize",{enumerable:!0,get:function(){return aT.finalize}});var aU=a.r(58640);Object.defineProperty(c,"find",{enumerable:!0,get:function(){return aU.find}});var aV=a.r(29614);Object.defineProperty(c,"findIndex",{enumerable:!0,get:function(){return aV.findIndex}});var aW=a.r(30458);Object.defineProperty(c,"first",{enumerable:!0,get:function(){return aW.first}});var aX=a.r(36413);Object.defineProperty(c,"groupBy",{enumerable:!0,get:function(){return aX.groupBy}});var aY=a.r(30693);Object.defineProperty(c,"ignoreElements",{enumerable:!0,get:function(){return aY.ignoreElements}});var aZ=a.r(38002);Object.defineProperty(c,"isEmpty",{enumerable:!0,get:function(){return aZ.isEmpty}});var a$=a.r(74130);Object.defineProperty(c,"last",{enumerable:!0,get:function(){return a$.last}});var a_=a.r(29029);Object.defineProperty(c,"map",{enumerable:!0,get:function(){return a_.map}});var a0=a.r(10582);Object.defineProperty(c,"mapTo",{enumerable:!0,get:function(){return a0.mapTo}});var a1=a.r(43440);Object.defineProperty(c,"materialize",{enumerable:!0,get:function(){return a1.materialize}});var a2=a.r(89525);Object.defineProperty(c,"max",{enumerable:!0,get:function(){return a2.max}});var a3=a.r(31720);Object.defineProperty(c,"mergeAll",{enumerable:!0,get:function(){return a3.mergeAll}});var a4=a.r(68609);Object.defineProperty(c,"flatMap",{enumerable:!0,get:function(){return a4.flatMap}});var a5=a.r(39104);Object.defineProperty(c,"mergeMap",{enumerable:!0,get:function(){return a5.mergeMap}});var a6=a.r(69740);Object.defineProperty(c,"mergeMapTo",{enumerable:!0,get:function(){return a6.mergeMapTo}});var a7=a.r(85217);Object.defineProperty(c,"mergeScan",{enumerable:!0,get:function(){return a7.mergeScan}});var a8=a.r(43137);Object.defineProperty(c,"mergeWith",{enumerable:!0,get:function(){return a8.mergeWith}});var a9=a.r(71340);Object.defineProperty(c,"min",{enumerable:!0,get:function(){return a9.min}});var ba=a.r(53345);Object.defineProperty(c,"multicast",{enumerable:!0,get:function(){return ba.multicast}});var bb=a.r(72273);Object.defineProperty(c,"observeOn",{enumerable:!0,get:function(){return bb.observeOn}});var bc=a.r(20710);Object.defineProperty(c,"onErrorResumeNextWith",{enumerable:!0,get:function(){return bc.onErrorResumeNextWith}});var bd=a.r(19279);Object.defineProperty(c,"pairwise",{enumerable:!0,get:function(){return bd.pairwise}});var be=a.r(9087);Object.defineProperty(c,"pluck",{enumerable:!0,get:function(){return be.pluck}});var bf=a.r(36354);Object.defineProperty(c,"publish",{enumerable:!0,get:function(){return bf.publish}});var bg=a.r(12475);Object.defineProperty(c,"publishBehavior",{enumerable:!0,get:function(){return bg.publishBehavior}});var bh=a.r(94605);Object.defineProperty(c,"publishLast",{enumerable:!0,get:function(){return bh.publishLast}});var bi=a.r(35162);Object.defineProperty(c,"publishReplay",{enumerable:!0,get:function(){return bi.publishReplay}});var bj=a.r(22709);Object.defineProperty(c,"raceWith",{enumerable:!0,get:function(){return bj.raceWith}});var bk=a.r(23905);Object.defineProperty(c,"reduce",{enumerable:!0,get:function(){return bk.reduce}});var bl=a.r(88769);Object.defineProperty(c,"repeat",{enumerable:!0,get:function(){return bl.repeat}});var bm=a.r(54447);Object.defineProperty(c,"repeatWhen",{enumerable:!0,get:function(){return bm.repeatWhen}});var bn=a.r(73280);Object.defineProperty(c,"retry",{enumerable:!0,get:function(){return bn.retry}});var bo=a.r(5184);Object.defineProperty(c,"retryWhen",{enumerable:!0,get:function(){return bo.retryWhen}});var bp=a.r(5306);Object.defineProperty(c,"refCount",{enumerable:!0,get:function(){return bp.refCount}});var bq=a.r(93807);Object.defineProperty(c,"sample",{enumerable:!0,get:function(){return bq.sample}});var br=a.r(47347);Object.defineProperty(c,"sampleTime",{enumerable:!0,get:function(){return br.sampleTime}});var bs=a.r(71820);Object.defineProperty(c,"scan",{enumerable:!0,get:function(){return bs.scan}});var bt=a.r(95379);Object.defineProperty(c,"sequenceEqual",{enumerable:!0,get:function(){return bt.sequenceEqual}});var bu=a.r(56623);Object.defineProperty(c,"share",{enumerable:!0,get:function(){return bu.share}});var bv=a.r(12269);Object.defineProperty(c,"shareReplay",{enumerable:!0,get:function(){return bv.shareReplay}});var bw=a.r(77285);Object.defineProperty(c,"single",{enumerable:!0,get:function(){return bw.single}});var bx=a.r(47824);Object.defineProperty(c,"skip",{enumerable:!0,get:function(){return bx.skip}});var by=a.r(58965);Object.defineProperty(c,"skipLast",{enumerable:!0,get:function(){return by.skipLast}});var bz=a.r(88008);Object.defineProperty(c,"skipUntil",{enumerable:!0,get:function(){return bz.skipUntil}});var bA=a.r(82176);Object.defineProperty(c,"skipWhile",{enumerable:!0,get:function(){return bA.skipWhile}});var bB=a.r(92470);Object.defineProperty(c,"startWith",{enumerable:!0,get:function(){return bB.startWith}});var bC=a.r(61103);Object.defineProperty(c,"subscribeOn",{enumerable:!0,get:function(){return bC.subscribeOn}});var bD=a.r(42556);Object.defineProperty(c,"switchAll",{enumerable:!0,get:function(){return bD.switchAll}});var bE=a.r(41436);Object.defineProperty(c,"switchMap",{enumerable:!0,get:function(){return bE.switchMap}});var bF=a.r(67561);Object.defineProperty(c,"switchMapTo",{enumerable:!0,get:function(){return bF.switchMapTo}});var bG=a.r(58736);Object.defineProperty(c,"switchScan",{enumerable:!0,get:function(){return bG.switchScan}});var bH=a.r(49295);Object.defineProperty(c,"take",{enumerable:!0,get:function(){return bH.take}});var bI=a.r(40326);Object.defineProperty(c,"takeLast",{enumerable:!0,get:function(){return bI.takeLast}});var bJ=a.r(83997);Object.defineProperty(c,"takeUntil",{enumerable:!0,get:function(){return bJ.takeUntil}});var bK=a.r(45112);Object.defineProperty(c,"takeWhile",{enumerable:!0,get:function(){return bK.takeWhile}});var bL=a.r(38520);Object.defineProperty(c,"tap",{enumerable:!0,get:function(){return bL.tap}});var bM=a.r(10930);Object.defineProperty(c,"throttle",{enumerable:!0,get:function(){return bM.throttle}});var bN=a.r(93346);Object.defineProperty(c,"throttleTime",{enumerable:!0,get:function(){return bN.throttleTime}});var bO=a.r(94037);Object.defineProperty(c,"throwIfEmpty",{enumerable:!0,get:function(){return bO.throwIfEmpty}});var bP=a.r(56155);Object.defineProperty(c,"timeInterval",{enumerable:!0,get:function(){return bP.timeInterval}});var bQ=a.r(54835);Object.defineProperty(c,"timeout",{enumerable:!0,get:function(){return bQ.timeout}});var bR=a.r(76224);Object.defineProperty(c,"timeoutWith",{enumerable:!0,get:function(){return bR.timeoutWith}});var bS=a.r(19217);Object.defineProperty(c,"timestamp",{enumerable:!0,get:function(){return bS.timestamp}});var bT=a.r(26083);Object.defineProperty(c,"toArray",{enumerable:!0,get:function(){return bT.toArray}});var bU=a.r(60102);Object.defineProperty(c,"window",{enumerable:!0,get:function(){return bU.window}});var bV=a.r(29552);Object.defineProperty(c,"windowCount",{enumerable:!0,get:function(){return bV.windowCount}});var bW=a.r(16181);Object.defineProperty(c,"windowTime",{enumerable:!0,get:function(){return bW.windowTime}});var bX=a.r(7954);Object.defineProperty(c,"windowToggle",{enumerable:!0,get:function(){return bX.windowToggle}});var bY=a.r(48974);Object.defineProperty(c,"windowWhen",{enumerable:!0,get:function(){return bY.windowWhen}});var bZ=a.r(22273);Object.defineProperty(c,"withLatestFrom",{enumerable:!0,get:function(){return bZ.withLatestFrom}});var b$=a.r(35342);Object.defineProperty(c,"zipAll",{enumerable:!0,get:function(){return b$.zipAll}});var b_=a.r(49663);Object.defineProperty(c,"zipWith",{enumerable:!0,get:function(){return b_.zipWith}})},66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},49846,a=>{"use strict";let b,c,d,e,f;var g,h,i,j,k,l,m,n,o,p,q,r=a.i(87924),s=a.i(72131),t=a.i(75003),u=a.i(50944);class v{constructor(a,b,c){this.start=a.start,this.end=b.end,this.startToken=a,this.endToken=b,this.source=c}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class w{constructor(a,b,c,d,e,f){this.kind=a,this.start=b,this.end=c,this.line=d,this.column=e,this.value=f,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}let x={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]},y=new Set(Object.keys(x));function z(a){let b=null==a?void 0:a.kind;return"string"==typeof b&&y.has(b)}(g=m||(m={})).QUERY="query",g.MUTATION="mutation",g.SUBSCRIPTION="subscription";var A=a.i(52535);function B(a,b){if(!a)throw Error(b)}function C(a,b){switch(typeof a){case"string":return JSON.stringify(a);case"function":return a.name?`[function ${a.name}]`:"[function]";case"object":return function(a,b){let c;if(null===a)return"null";if(b.includes(a))return"[Circular]";let d=[...b,a];if("function"==typeof a.toJSON){let b=a.toJSON();if(b!==a)return"string"==typeof b?b:C(b,d)}else if(Array.isArray(a)){var e,f,g=a,h=d;if(0===g.length)return"[]";if(h.length>2)return"[Array]";let b=Math.min(10,g.length),c=g.length-b,i=[];for(let a=0;a<b;++a)i.push(C(g[a],h));return 1===c?i.push("... 1 more item"):c>1&&i.push(`... ${c} more items`),"["+i.join(", ")+"]"}return e=a,f=d,0===(c=Object.entries(e)).length?"{}":f.length>2?"["+function(a){let b=Object.prototype.toString.call(a).replace(/^\[object /,"").replace(/]$/,"");if("Object"===b&&"function"==typeof a.constructor){let b=a.constructor.name;if("string"==typeof b&&""!==b)return b}return b}(e)+"]":"{ "+c.map(([a,b])=>a+": "+C(b,f)).join(", ")+" }"}(a,b);default:return String(a)}}(h=n||(n={})).NAME="Name",h.DOCUMENT="Document",h.OPERATION_DEFINITION="OperationDefinition",h.VARIABLE_DEFINITION="VariableDefinition",h.SELECTION_SET="SelectionSet",h.FIELD="Field",h.ARGUMENT="Argument",h.FRAGMENT_SPREAD="FragmentSpread",h.INLINE_FRAGMENT="InlineFragment",h.FRAGMENT_DEFINITION="FragmentDefinition",h.VARIABLE="Variable",h.INT="IntValue",h.FLOAT="FloatValue",h.STRING="StringValue",h.BOOLEAN="BooleanValue",h.NULL="NullValue",h.ENUM="EnumValue",h.LIST="ListValue",h.OBJECT="ObjectValue",h.OBJECT_FIELD="ObjectField",h.DIRECTIVE="Directive",h.NAMED_TYPE="NamedType",h.LIST_TYPE="ListType",h.NON_NULL_TYPE="NonNullType",h.SCHEMA_DEFINITION="SchemaDefinition",h.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",h.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",h.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",h.FIELD_DEFINITION="FieldDefinition",h.INPUT_VALUE_DEFINITION="InputValueDefinition",h.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",h.UNION_TYPE_DEFINITION="UnionTypeDefinition",h.ENUM_TYPE_DEFINITION="EnumTypeDefinition",h.ENUM_VALUE_DEFINITION="EnumValueDefinition",h.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",h.DIRECTIVE_DEFINITION="DirectiveDefinition",h.SCHEMA_EXTENSION="SchemaExtension",h.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",h.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",h.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",h.UNION_TYPE_EXTENSION="UnionTypeExtension",h.ENUM_TYPE_EXTENSION="EnumTypeExtension",h.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",h.TYPE_COORDINATE="TypeCoordinate",h.MEMBER_COORDINATE="MemberCoordinate",h.ARGUMENT_COORDINATE="ArgumentCoordinate",h.DIRECTIVE_COORDINATE="DirectiveCoordinate",h.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate";let D=Object.freeze({});function E(a,b,c=x){let d,e,f,g=new Map;for(let a of Object.values(n))g.set(a,function(a,b){let c=a[b];return"object"==typeof c?c:"function"==typeof c?{enter:c,leave:void 0}:{enter:a.enter,leave:a.leave}}(b,a));let h=Array.isArray(a),i=[a],j=-1,k=[],l=a,m=[],o=[];do{var p,q,r;let a,n=++j===i.length,s=n&&0!==k.length;if(n){if(e=0===o.length?void 0:m[m.length-1],l=f,f=o.pop(),s)if(h){l=l.slice();let a=0;for(let[b,c]of k){let d=b-a;null===c?(l.splice(d,1),a++):l[d]=c}}else for(let[a,b]of(l={...l},k))l[a]=b;j=d.index,i=d.keys,k=d.edits,h=d.inArray,d=d.prev}else if(f){if(null==(l=f[e=h?j:i[j]]))continue;m.push(e)}if(!Array.isArray(l)){z(l)||B(!1,`Invalid AST Node: ${C(l,[])}.`);let c=n?null==(p=g.get(l.kind))?void 0:p.leave:null==(q=g.get(l.kind))?void 0:q.enter;if((a=null==c?void 0:c.call(b,l,e,f,m,o))===D)break;if(!1===a){if(!n){m.pop();continue}}else if(void 0!==a&&(k.push([e,a]),!n))if(z(a))l=a;else{m.pop();continue}}void 0===a&&s&&k.push([e,l]),n?m.pop():(d={inArray:h,index:j,keys:i,edits:k,prev:d},i=(h=Array.isArray(l))?l:null!=(r=c[l.kind])?r:[],j=-1,k=[],f&&o.push(f),f=l)}while(void 0!==d)return 0!==k.length?k[k.length-1][1]:a}function F(a,b,c){let d=new Set(a),e=d.size;return E(b,{Directive(a){if(d.delete(a.name.value)&&(!c||!d.size))return D}}),c?!d.size:d.size<e}function G(a){try{return a()}catch{}}let H=G(()=>globalThis)||G(()=>window)||G(()=>self)||G(()=>a.g)||G(function(){return G.constructor("return this")()}),I="4.0.11",J=new Map;function K(a){let b=J.get(a)||1;return J.set(a,b+1),`${a}:${b}:${Math.random().toString(36).slice(2)}`}let L="Invariant Violation";class M extends Error{constructor(a=L){super(a),this.name=L,Object.setPrototypeOf(this,M.prototype)}}let N=["debug","log","warn","error","silent"],O=N.indexOf("silent");function P(a,...b){if(!a)throw R(...b)}function Q(a){return function(b,...c){if(N.indexOf(a)>=O){let d=console[a]||console.log;if("number"==typeof b){let a=b;(b=U(a))||(b=V(a,c),c=[])}d(b,...c)}}}function R(a,...b){return new M(U(a,b)||V(a,b))}P.debug=Q("debug"),P.log=Q("log"),P.warn=Q("warn"),P.error=Q("error");let S=Symbol.for("ApolloErrorMessageHandler_"+I);function T(a){if("string"==typeof a)return a;try{return(function(a,b=0){let c=K("stringifyForDisplay");return JSON.stringify(a,(a,b)=>void 0===b?c:b,b).split(JSON.stringify(c)).join("<undefined>")})(a,2).slice(0,1e3)}catch{return"<non-serializable>"}}function U(a,b=[]){if(a)return H[S]&&H[S](a,b.map(T))}function V(a,b=[]){if(a)return"string"==typeof a?b.reduce((a,b)=>a.replace(/%[sdfo]/,T(b)),a):`An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#${encodeURIComponent(JSON.stringify({version:I,message:a,args:b.map(T)}))}`}class W{isIncrementalResult(a){return!1}prepareRequest(a){return P(!F(["defer"],a.query),64),a}extractErrors(){}startRequest=void 0}let X={...H[Symbol.for("apollo.cacheSize")]};function Y(a,b){return a.definitions.find(a=>"OperationDefinition"===a.kind&&!!a.name)?.name.value??b}let Z=()=>Object.create(null),{forEach:$,slice:_}=Array.prototype,{hasOwnProperty:aa}=Object.prototype;class ab{constructor(a=!0,b=Z){this.weakness=a,this.makeData=b}lookup(){return this.lookupArray(arguments)}lookupArray(a){let b=this;return $.call(a,a=>b=b.getChildTrie(a)),aa.call(b,"data")?b.data:b.data=this.makeData(_.call(a))}peek(){return this.peekArray(arguments)}peekArray(a){let b=this;for(let c=0,d=a.length;b&&c<d;++c){let d=b.mapFor(a[c],!1);b=d&&d.get(a[c])}return b&&b.data}remove(){return this.removeArray(arguments)}removeArray(a){let b;if(a.length){let c=a[0],d=this.mapFor(c,!1),e=d&&d.get(c);e&&(b=e.removeArray(_.call(a,1)),e.data||e.weak||e.strong&&e.strong.size||d.delete(c))}else b=this.data,delete this.data;return b}getChildTrie(a){let b=this.mapFor(a,!0),c=b.get(a);return c||b.set(a,c=new ab(this.weakness,this.makeData)),c}mapFor(a,b){return this.weakness&&function(a){switch(typeof a){case"object":if(null===a)break;case"function":return!0}return!1}(a)?this.weak||(b?this.weak=new WeakMap:void 0):this.strong||(b?this.strong=new Map:void 0)}}function ac(){}class ad{constructor(a=1/0,b=ac){this.max=a,this.dispose=b,this.map=new Map,this.newest=null,this.oldest=null}has(a){return this.map.has(a)}get(a){let b=this.getNode(a);return b&&b.value}get size(){return this.map.size}getNode(a){let b=this.map.get(a);if(b&&b!==this.newest){let{older:a,newer:c}=b;c&&(c.older=a),a&&(a.newer=c),b.older=this.newest,b.older.newer=b,b.newer=null,this.newest=b,b===this.oldest&&(this.oldest=c)}return b}set(a,b){let c=this.getNode(a);return c?c.value=b:(c={key:a,value:b,newer:null,older:this.newest},this.newest&&(this.newest.newer=c),this.newest=c,this.oldest=this.oldest||c,this.map.set(a,c),c.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(a){let b=this.map.get(a);return!!b&&(b===this.newest&&(this.newest=b.older),b===this.oldest&&(this.oldest=b.newer),b.newer&&(b.newer.older=b.older),b.older&&(b.older.newer=b.newer),this.map.delete(a),this.dispose(b.value,a),!0)}}function ae(){}let af="undefined"!=typeof WeakRef?WeakRef:function(a){return{deref:()=>a}},ag="undefined"!=typeof WeakMap?WeakMap:Map,ah="undefined"!=typeof FinalizationRegistry?FinalizationRegistry:function(){return{register:ae,unregister:ae}};class ai{constructor(a=1/0,b=ae){this.max=a,this.dispose=b,this.map=new ag,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{let a=this.unfinalizedNodes.values();for(let b=0;b<10024;b++){let b=a.next().value;if(!b)break;this.unfinalizedNodes.delete(b);let c=b.key;delete b.key,b.keyRef=new af(c),this.registry.register(c,b,b)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new ah(this.deleteNode.bind(this))}has(a){return this.map.has(a)}get(a){let b=this.getNode(a);return b&&b.value}getNode(a){let b=this.map.get(a);if(b&&b!==this.newest){let{older:a,newer:c}=b;c&&(c.older=a),a&&(a.newer=c),b.older=this.newest,b.older.newer=b,b.newer=null,this.newest=b,b===this.oldest&&(this.oldest=c)}return b}set(a,b){let c=this.getNode(a);return c?c.value=b:(c={key:a,value:b,newer:null,older:this.newest},this.newest&&(this.newest.newer=c),this.newest=c,this.oldest=this.oldest||c,this.scheduleFinalization(c),this.map.set(a,c),this.size++,c.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(a){a===this.newest&&(this.newest=a.older),a===this.oldest&&(this.oldest=a.newer),a.newer&&(a.newer.older=a.older),a.older&&(a.older.newer=a.newer),this.size--;let b=a.key||a.keyRef&&a.keyRef.deref();this.dispose(a.value,b),a.keyRef?this.registry.unregister(a):this.unfinalizedNodes.delete(a),b&&this.map.delete(b)}delete(a){let b=this.map.get(a);return!!b&&(this.deleteNode(b),!0)}scheduleFinalization(a){this.unfinalizedNodes.add(a),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}let aj=new WeakSet;function ak(a){!(a.size<=(a.max||-1))&&(aj.has(a)||(aj.add(a),setTimeout(()=>{a.clean(),aj.delete(a)},100)))}let al=function(a,b){let c=new ai(a,b);return c.set=function(a,b){let c=ai.prototype.set.call(this,a,b);return ak(this),c},c},am=function(a,b){let c=new ad(a,b);return c.set=function(a,b){let c=ad.prototype.set.call(this,a,b);return ak(this),c},c},an=function(a,{max:b}){let c=new ab(!0),d=new al(b);return(...b)=>{let e=c.lookupArray(b),f=d.get(e);if(f){if(f.error)throw f.error;return f.result}let g=d.set(e,{});try{return g.result=a(...b)}catch(a){throw g.error=a,a}}}((a,b)=>{P(a&&"Document"===a.kind,1);let c=a.definitions.filter(a=>"OperationDefinition"===a.kind);b&&P(1==c.length&&c[0].operation===b,4,b,b,c[0].operation),E(a,{Field(b,d,e,f){if(b.alias&&("__typename"===b.alias.value||b.alias.value.startsWith("__ac_"))&&b.alias.value!==b.name.value){let d=a,e=[];for(let a of f)(d=d[a]).kind===n.FIELD&&e.push(d.alias?.value||d.name.value);throw e.splice(-1,1,b.name.value),R(5,b.alias.value,e.join("."),c[0].operation,Y(a,"(anonymous)"))}}})},{max:X.checkDocument||2e3});function ao(a){return an(a),a.definitions.filter(a=>"OperationDefinition"===a.kind)[0]}class ap{static empty(){return new ap(()=>A.EMPTY)}static from(a){if(0===a.length)return ap.empty();let[b,...c]=a;return b.concat(...c)}static split(a,b,c=new ap((a,b)=>b(a))){return Object.assign(new ap((d,e)=>a(d)?b.request(d,e):c.request(d,e)),{left:b,right:c})}static execute(a,b,c){return a.request(function(a,{client:b}){let c={query:a.query,variables:a.variables||{},extensions:a.extensions||{},operationName:Y(a.query),operationType:ao(a.query).operation},d={...a.context},e=()=>Object.freeze({...d});return Object.defineProperty(c,"setContext",{enumerable:!1,value:a=>{d="function"==typeof a?{...d,...a(e())}:{...d,...a}}}),Object.defineProperty(c,"getContext",{enumerable:!1,value:e}),Object.defineProperty(c,"client",{enumerable:!1,value:b}),c}(b,c),()=>A.EMPTY)}static concat(...a){return ap.from(a)}constructor(a){a&&(this.request=a)}split(a,b,c){return this.concat(ap.split(a,b,c))}concat(...a){return 0===a.length?this:a.reduce(this.combine.bind(this),this)}combine(a,b){return Object.assign(new ap((c,d)=>a.request(c,a=>b.request(a,d))),{left:a,right:b})}request(a,b){throw R(63)}left;right}let aq=ap.execute,ar=null,as={},at=1;function au(a){try{return a()}catch(a){}}let av="@wry/context:Slot",aw=au(()=>globalThis)||au(()=>a.g)||Object.create(null),ax=aw[av]||Array[av]||function(a){try{Object.defineProperty(aw,av,{value:a,enumerable:!1,writable:!1,configurable:!0})}finally{return a}}(class{constructor(){this.id=["slot",at++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let a=ar;a;a=a.parent)if(this.id in a.slots){let b=a.slots[this.id];if(b===as)break;return a!==ar&&(ar.slots[this.id]=b),!0}return ar&&(ar.slots[this.id]=as),!1}getValue(){if(this.hasValue())return ar.slots[this.id]}withValue(a,b,c,d){let e={__proto__:null,[this.id]:a},f=ar;ar={parent:f,slots:e};try{return b.apply(d,c)}finally{ar=f}}static bind(a){let b=ar;return function(){let c=ar;try{return ar=b,a.apply(this,arguments)}finally{ar=c}}}static noContext(a,b,c){if(!ar)return a.apply(c,b);{let d=ar;try{return ar=null,a.apply(c,b)}finally{ar=d}}}}),{bind:ay,noContext:az}=ax,aA=new ax,{hasOwnProperty:aB}=Object.prototype,aC=Array.from||function(a){let b=[];return a.forEach(a=>b.push(a)),b};function aD(a){let{unsubscribe:b}=a;"function"==typeof b&&(a.unsubscribe=void 0,b())}let aE=[];function aF(a,b){if(!a)throw Error(b||"assertion failure")}function aG(a,b){let c=a.length;return c>0&&c===b.length&&a[c-1]===b[c-1]}function aH(a){switch(a.length){case 0:throw Error("unknown value");case 1:return a[0];case 2:throw a[1]}}class aI{constructor(a){this.fn=a,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++aI.count}peek(){if(1===this.value.length&&!aL(this))return aJ(this),this.value[0]}recompute(a){var b,c,d;return aF(!this.recomputing,"already recomputing"),aJ(this),aL(this)?(b=this,c=a,aQ(b),aA.withValue(b,aK,[b,c]),function(a,b){if("function"==typeof a.subscribe)try{aD(a),a.unsubscribe=a.subscribe.apply(null,b)}catch(b){return a.setDirty(),!1}return!0}(b,c)&&((d=b).dirty=!1,aL(d)||function(a){aM(a,aO)}(d)),aH(b.value)):aH(this.value)}setDirty(){var a;this.dirty||(this.dirty=!0,a=this,aM(a,aN),aD(this))}dispose(){this.setDirty(),aQ(this),aM(this,(a,b)=>{a.setDirty(),aR(a,this)})}forget(){this.dispose()}dependOn(a){a.add(this),this.deps||(this.deps=aE.pop()||new Set),this.deps.add(a)}forgetDeps(){this.deps&&(aC(this.deps).forEach(a=>a.delete(this)),this.deps.clear(),aE.push(this.deps),this.deps=null)}}function aJ(a){let b=aA.getValue();if(b)return a.parents.add(b),b.childValues.has(a)||b.childValues.set(a,[]),aL(a)?aN(b,a):aO(b,a),b}function aK(a,b){let c;a.recomputing=!0;let{normalizeResult:d}=a;d&&1===a.value.length&&(c=a.value.slice(0)),a.value.length=0;try{if(a.value[0]=a.fn.apply(null,b),d&&c&&!aG(c,a.value))try{a.value[0]=d(a.value[0],c[0])}catch(a){}}catch(b){a.value[1]=b}a.recomputing=!1}function aL(a){return a.dirty||!!(a.dirtyChildren&&a.dirtyChildren.size)}aI.count=0;function aM(a,b){let c=a.parents.size;if(c){let d=aC(a.parents);for(let e=0;e<c;++e)b(d[e],a)}}function aN(a,b){aF(a.childValues.has(b)),aF(aL(b));let c=!aL(a);if(a.dirtyChildren){if(a.dirtyChildren.has(b))return}else a.dirtyChildren=aE.pop()||new Set;a.dirtyChildren.add(b),c&&aM(a,aN)}function aO(a,b){aF(a.childValues.has(b)),aF(!aL(b));let c=a.childValues.get(b);0===c.length?a.childValues.set(b,b.value.slice(0)):aG(c,b.value)||a.setDirty(),aP(a,b),aL(a)||aM(a,aO)}function aP(a,b){let c=a.dirtyChildren;c&&(c.delete(b),0===c.size&&(aE.length<100&&aE.push(c),a.dirtyChildren=null))}function aQ(a){a.childValues.size>0&&a.childValues.forEach((b,c)=>{aR(a,c)}),a.forgetDeps(),aF(null===a.dirtyChildren)}function aR(a,b){b.parents.delete(a),a.childValues.delete(b),aP(a,b)}let aS={setDirty:!0,dispose:!0,forget:!0};function aT(a){let b=new Map,c=a&&a.subscribe;function d(a){let d=aA.getValue();if(d){let e=b.get(a);e||b.set(a,e=new Set),d.dependOn(e),"function"==typeof c&&(aD(e),e.unsubscribe=c(a))}}return d.dirty=function(a,c){let d=b.get(a);if(d){let e=c&&aB.call(aS,c)?c:"setDirty";aC(d).forEach(a=>a[e]()),b.delete(a),aD(d)}},d}function aU(...a){return(b||(b=new ab("function"==typeof WeakMap))).lookupArray(a)}let aV=new Set;function aW(a,{max:b=65536,keyArgs:c,makeCacheKey:d=aU,normalizeResult:e,subscribe:f,cache:g=ad}=Object.create(null)){let h="function"==typeof g?new g(b,a=>a.dispose()):g,i=function(){let b=d.apply(null,c?c.apply(null,arguments):arguments);if(void 0===b)return a.apply(null,arguments);let g=h.get(b);g||(h.set(b,g=new aI(a)),g.normalizeResult=e,g.subscribe=f,g.forget=()=>h.delete(b));let i=g.recompute(Array.prototype.slice.call(arguments));return h.set(b,g),aV.add(h),aA.hasValue()||(aV.forEach(a=>a.clean()),aV.clear()),i};function j(a){let b=a&&h.get(a);b&&b.setDirty()}function k(a){let b=a&&h.get(a);if(b)return b.peek()}function l(a){return!!a&&h.delete(a)}return Object.defineProperty(i,"size",{get:()=>h.size,configurable:!1,enumerable:!1}),Object.freeze(i.options={max:b,keyArgs:c,makeCacheKey:d,normalizeResult:e,subscribe:f,cache:h}),i.dirtyKey=j,i.dirty=function(){j(d.apply(null,arguments))},i.peekKey=k,i.peek=function(){return k(d.apply(null,arguments))},i.forgetKey=l,i.forget=function(){return l(d.apply(null,arguments))},i.makeCacheKey=d,i.getKey=c?function(){return d.apply(null,c.apply(null,arguments))}:d,Object.freeze(i)}function aX(a){return a}class aY{transform;cached;resultCache=new WeakSet;getCacheKey(a){return[a]}static identity(){return new aY(aX,{cache:!1})}static split(a,b,c=aY.identity()){return Object.assign(new aY(d=>(a(d)?b:c).transformDocument(d),{cache:!1}),{left:b,right:c})}constructor(a,b={}){this.transform=a,b.getCacheKey&&(this.getCacheKey=b.getCacheKey),this.cached=!1!==b.cache,this.resetCache()}resetCache(){if(this.cached){let a=new ab;this.performWork=aW(aY.prototype.performWork.bind(this),{makeCacheKey:b=>{let c=this.getCacheKey(b);if(c)return P(Array.isArray(c),20),a.lookupArray(c)},max:X["documentTransform.cache"],cache:ai})}}performWork(a){return an(a),this.transform(a)}transformDocument(a){if(this.resultCache.has(a))return a;let b=this.performWork(a);return this.resultCache.add(b),b}concat(a){return Object.assign(new aY(b=>a.transformDocument(this.transformDocument(b)),{cache:!1}),{left:this,right:a})}left;right}function aZ(...a){let b={};return a.forEach(a=>{a&&Object.keys(a).forEach(c=>{let d=a[c];void 0!==d&&(b[c]=d)})}),b}function a$(a,b){return aZ(a,b,b.variables&&{variables:aZ({...a&&a.variables,...b.variables})})}function a_(a){return E(a,{FragmentSpread(a){if(!a.directives?.some(({name:a})=>"unmask"===a.value))return null}})}let a0=Object.assign(function(a){return JSON.stringify(a,a1)},{reset(){c=new am(X.canonicalStringify||1e3)}});function a1(a,b){if(b&&"object"==typeof b){let a=Object.getPrototypeOf(b);if(a===Object.prototype||null===a){let d=Object.keys(b);if(d.every(a2))return b;let e=JSON.stringify(d),f=c.get(e);if(!f){d.sort();let a=JSON.stringify(d);f=c.get(a)||d,c.set(e,f),c.set(a,f)}let g=Object.create(a);return f.forEach(a=>{g[a]=b[a]}),g}}return b}function a2(a,b,c){return 0===b||c[b-1]<=a}function a3(a,b){return"object"==typeof a&&null!==a&&a[Symbol.for("apollo.error")]===b}function a4(a){Object.defineProperty(a,Symbol.for("apollo.error"),{value:a.name,enumerable:!1,writable:!1,configurable:!1})}function a5(a){return a.filter(a=>a).map(a=>a.message||"Error message not found.").join("\n")}a0.reset();class a6 extends Error{static is(a){return a3(a,"CombinedGraphQLErrors")}static formatMessage=a5;errors;data;extensions;constructor(a,b=a.errors||[]){super(a6.formatMessage(b,{result:a,defaultFormatMessage:a5})),this.errors=b,this.data=a.data,this.extensions=a.extensions,this.name="CombinedGraphQLErrors",a4(this),Object.setPrototypeOf(this,a6.prototype)}}function a7(a){return a.map(a=>a.message||"Error message not found.").join("\n")}class a8 extends Error{static is(a){return a3(a,"CombinedProtocolErrors")}static formatMessage=a7;errors;constructor(a){super(a8.formatMessage(a,{defaultFormatMessage:a7})),this.name="CombinedProtocolErrors",this.errors=a,a4(this),Object.setPrototypeOf(this,a8.prototype)}}class a9 extends Error{static is(a){return a3(a,"UnconventionalError")}constructor(a){super("An error of unexpected shape occurred.",{cause:a}),this.name="UnconventionalError",a4(this),Object.setPrototypeOf(this,a9.prototype)}}let ba=Symbol(),bb=new WeakSet,{toString:bc,hasOwnProperty:bd}=Object.prototype,be=Function.prototype.toString,bf=new Map;function bg(a,b){try{return function a(b,c){if(b===c)return!0;let d=bc.call(b);if(d!==bc.call(c))return!1;switch(d){case"[object Array]":if(b.length!==c.length)break;case"[object Object]":{if(bk(b,c))return!0;let d=bh(b),e=bh(c),f=d.length;if(f!==e.length)return!1;for(let a=0;a<f;++a)if(!bd.call(c,d[a]))return!1;for(let e=0;e<f;++e){let f=d[e];if(!a(b[f],c[f]))return!1}return!0}case"[object Error]":return b.name===c.name&&b.message===c.message;case"[object Number]":if(b!=b)return c!=c;case"[object Boolean]":case"[object Date]":return+b==+c;case"[object RegExp]":case"[object String]":return b==`${c}`;case"[object Map]":case"[object Set]":{if(b.size!==c.size)return!1;if(bk(b,c))return!0;let e=b.entries(),f="[object Map]"===d;for(;;){let b=e.next();if(b.done)break;let[d,g]=b.value;if(!c.has(d)||f&&!a(g,c.get(d)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":b=new Uint8Array(b),c=new Uint8Array(c);case"[object DataView]":{let a=b.byteLength;if(a===c.byteLength)for(;a--&&b[a]===c[a];);return -1===a}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var e,f;let a,d=be.call(b);if(d!==be.call(c))return!1;return e=d,f=bj,!((a=e.length-f.length)>=0)||e.indexOf(f,a)!==a}}return!1}(a,b)}finally{bf.clear()}}function bh(a){return Object.keys(a).filter(bi,a)}function bi(a){return void 0!==this[a]}let bj="{ [native code] }";function bk(a,b){let c=bf.get(a);if(c){if(c.has(b))return!0}else bf.set(a,c=new Set);return c.add(b),!1}function bl(a=[]){let b={};return a.forEach(a=>{b[a.name.value]=a}),b}function bm(a){return a.definitions.filter(a=>"FragmentDefinition"===a.kind)}function bn(a){return null!==a&&"object"==typeof a}function bo(a){return a.alias?a.alias.value:a.name.value}let bp=new ax;function bq(a,b,c){return bp.withValue(!0,()=>{let d=function a(b,c,d,e,f){let{knownChanged:g}=d,h=function(a,b){if(b.has(a))return b.get(a);let c=Array.isArray(a)?[]:{};return b.set(a,c),c}(b,d.mutableTargets);if(Array.isArray(b)){for(let[f,i]of Array.from(b.entries())){if(null===i){h[f]=null;continue}let b=a(i,c,d,e,void 0);g.has(b)&&g.add(h),h[f]=b}return g.has(h)?h:b}for(let i of c.selections){let c;if(e&&g.add(h),i.kind===n.FIELD){let f=bo(i),j=i.selectionSet;if(void 0===(c=h[f]||b[f]))continue;if(j&&null!==c){let h=a(b[f],j,d,e,void 0);g.has(h)&&(c=h)}h[f]=c}if(i.kind===n.INLINE_FRAGMENT&&(!i.typeCondition||d.cache.fragmentMatches(i,b.__typename))&&(c=a(b,i.selectionSet,d,e,f)),i.kind===n.FRAGMENT_SPREAD){let e=i.name.value,g=d.fragmentMap[e]||(d.fragmentMap[e]=d.cache.lookupFragment(e));P(g,39,e);let h=function(a){let b=a.directives?.find(({name:a})=>"unmask"===a.value);if(!b)return"mask";let c=b.arguments?.find(({name:a})=>"mode"===a.value);return c&&"value"in c.value&&"migrate"===c.value.value?"migrate":"unmask"}(i);"mask"!==h&&(c=a(b,g.selectionSet,d,"migrate"===h,f))}g.has(c)&&g.add(h)}return"__typename"in b&&!("__typename"in h)&&(h.__typename=b.__typename),Object.keys(h).length!==Object.keys(b).length&&g.add(h),g.has(h)?h:b}(a,b,c,!1);return Object.isFrozen(a),d})}function br(a){return 7!==a&&8!==a}function bs(a){return 9===a||32===a}function bt(a){return a>=48&&a<=57}function bu(a){return a>=97&&a<=122||a>=65&&a<=90}function bv(a){return bu(a)||95===a}let bw=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function bx(a){return by[a.charCodeAt(0)]}let by=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],bz={Name:{leave:a=>a.value},Variable:{leave:a=>"$"+a.name},Document:{leave:a=>bA(a.definitions,"\n\n")},OperationDefinition:{leave(a){let b=bE(a.variableDefinitions)?bC("(\n",bA(a.variableDefinitions,"\n"),"\n)"):bC("(",bA(a.variableDefinitions,", "),")"),c=bC("",a.description,"\n")+bA([a.operation,bA([a.name,b]),bA(a.directives," ")]," ");return("query"===c?"":c+" ")+a.selectionSet}},VariableDefinition:{leave:({variable:a,type:b,defaultValue:c,directives:d,description:e})=>bC("",e,"\n")+a+": "+b+bC(" = ",c)+bC(" ",bA(d," "))},SelectionSet:{leave:({selections:a})=>bB(a)},Field:{leave({alias:a,name:b,arguments:c,directives:d,selectionSet:e}){let f=bC("",a,": ")+b,g=f+bC("(",bA(c,", "),")");return g.length>80&&(g=f+bC("(\n",bD(bA(c,"\n")),"\n)")),bA([g,bA(d," "),e]," ")}},Argument:{leave:({name:a,value:b})=>a+": "+b},FragmentSpread:{leave:({name:a,directives:b})=>"..."+a+bC(" ",bA(b," "))},InlineFragment:{leave:({typeCondition:a,directives:b,selectionSet:c})=>bA(["...",bC("on ",a),bA(b," "),c]," ")},FragmentDefinition:{leave:({name:a,typeCondition:b,variableDefinitions:c,directives:d,selectionSet:e,description:f})=>bC("",f,"\n")+`fragment ${a}${bC("(",bA(c,", "),")")} `+`on ${b} ${bC("",bA(d," ")," ")}`+e},IntValue:{leave:({value:a})=>a},FloatValue:{leave:({value:a})=>a},StringValue:{leave:({value:a,block:b})=>{let c,d,e,f,g,h,i,j,k,l,m;return b?(e=1===(d=(c=a.replace(/"""/g,'\\"""')).split(/\r\n|[\n\r]/g)).length,f=d.length>1&&d.slice(1).every(a=>0===a.length||bs(a.charCodeAt(0))),g=c.endsWith('\\"""'),h=a.endsWith('"')&&!g,i=a.endsWith("\\"),j=h||i,k=!e||a.length>70||j||f||g,l="",m=e&&bs(a.charCodeAt(0)),(k&&!m||f)&&(l+="\n"),l+=c,(k||j)&&(l+="\n"),'"""'+l+'"""'):`"${a.replace(bw,bx)}"`}},BooleanValue:{leave:({value:a})=>a?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:a})=>a},ListValue:{leave:({values:a})=>"["+bA(a,", ")+"]"},ObjectValue:{leave:({fields:a})=>"{"+bA(a,", ")+"}"},ObjectField:{leave:({name:a,value:b})=>a+": "+b},Directive:{leave:({name:a,arguments:b})=>"@"+a+bC("(",bA(b,", "),")")},NamedType:{leave:({name:a})=>a},ListType:{leave:({type:a})=>"["+a+"]"},NonNullType:{leave:({type:a})=>a+"!"},SchemaDefinition:{leave:({description:a,directives:b,operationTypes:c})=>bC("",a,"\n")+bA(["schema",bA(b," "),bB(c)]," ")},OperationTypeDefinition:{leave:({operation:a,type:b})=>a+": "+b},ScalarTypeDefinition:{leave:({description:a,name:b,directives:c})=>bC("",a,"\n")+bA(["scalar",b,bA(c," ")]," ")},ObjectTypeDefinition:{leave:({description:a,name:b,interfaces:c,directives:d,fields:e})=>bC("",a,"\n")+bA(["type",b,bC("implements ",bA(c," & ")),bA(d," "),bB(e)]," ")},FieldDefinition:{leave:({description:a,name:b,arguments:c,type:d,directives:e})=>bC("",a,"\n")+b+(bE(c)?bC("(\n",bD(bA(c,"\n")),"\n)"):bC("(",bA(c,", "),")"))+": "+d+bC(" ",bA(e," "))},InputValueDefinition:{leave:({description:a,name:b,type:c,defaultValue:d,directives:e})=>bC("",a,"\n")+bA([b+": "+c,bC("= ",d),bA(e," ")]," ")},InterfaceTypeDefinition:{leave:({description:a,name:b,interfaces:c,directives:d,fields:e})=>bC("",a,"\n")+bA(["interface",b,bC("implements ",bA(c," & ")),bA(d," "),bB(e)]," ")},UnionTypeDefinition:{leave:({description:a,name:b,directives:c,types:d})=>bC("",a,"\n")+bA(["union",b,bA(c," "),bC("= ",bA(d," | "))]," ")},EnumTypeDefinition:{leave:({description:a,name:b,directives:c,values:d})=>bC("",a,"\n")+bA(["enum",b,bA(c," "),bB(d)]," ")},EnumValueDefinition:{leave:({description:a,name:b,directives:c})=>bC("",a,"\n")+bA([b,bA(c," ")]," ")},InputObjectTypeDefinition:{leave:({description:a,name:b,directives:c,fields:d})=>bC("",a,"\n")+bA(["input",b,bA(c," "),bB(d)]," ")},DirectiveDefinition:{leave:({description:a,name:b,arguments:c,repeatable:d,locations:e})=>bC("",a,"\n")+"directive @"+b+(bE(c)?bC("(\n",bD(bA(c,"\n")),"\n)"):bC("(",bA(c,", "),")"))+(d?" repeatable":"")+" on "+bA(e," | ")},SchemaExtension:{leave:({directives:a,operationTypes:b})=>bA(["extend schema",bA(a," "),bB(b)]," ")},ScalarTypeExtension:{leave:({name:a,directives:b})=>bA(["extend scalar",a,bA(b," ")]," ")},ObjectTypeExtension:{leave:({name:a,interfaces:b,directives:c,fields:d})=>bA(["extend type",a,bC("implements ",bA(b," & ")),bA(c," "),bB(d)]," ")},InterfaceTypeExtension:{leave:({name:a,interfaces:b,directives:c,fields:d})=>bA(["extend interface",a,bC("implements ",bA(b," & ")),bA(c," "),bB(d)]," ")},UnionTypeExtension:{leave:({name:a,directives:b,types:c})=>bA(["extend union",a,bA(b," "),bC("= ",bA(c," | "))]," ")},EnumTypeExtension:{leave:({name:a,directives:b,values:c})=>bA(["extend enum",a,bA(b," "),bB(c)]," ")},InputObjectTypeExtension:{leave:({name:a,directives:b,fields:c})=>bA(["extend input",a,bA(b," "),bB(c)]," ")},TypeCoordinate:{leave:({name:a})=>a},MemberCoordinate:{leave:({name:a,memberName:b})=>bA([a,bC(".",b)])},ArgumentCoordinate:{leave:({name:a,fieldName:b,argumentName:c})=>bA([a,bC(".",b),bC("(",c,":)")])},DirectiveCoordinate:{leave:({name:a})=>bA(["@",a])},DirectiveArgumentCoordinate:{leave:({name:a,argumentName:b})=>bA(["@",a,bC("(",b,":)")])}};function bA(a,b=""){var c;return null!=(c=null==a?void 0:a.filter(a=>a).join(b))?c:""}function bB(a){return bC("{\n",bD(bA(a,"\n")),"\n}")}function bC(a,b,c=""){return null!=b&&""!==b?a+b+c:""}function bD(a){return bC("  ",a.replace(/\n/g,"\n  "))}function bE(a){var b;return null!=(b=null==a?void 0:a.some(a=>a.includes("\n")))&&b}let bF=Object.assign(a=>{let b=d.get(a);return b||(b=E(a,bz),d.set(a,b)),b},{reset(){d=new al(X.print||2e3)}});function bG(a,b=()=>void 0){return c=>new A.Observable(d=>{let e=b();return c.subscribe({next(b){let c;try{c=a(b,e)}catch(a){d.error(a)}void 0!==c&&d.next(c)},error(a){d.error(a)},complete(){d.complete()}})})}function bH(a,b,c,d){if(c.kind===n.INT||c.kind===n.FLOAT)a[b.value]=Number(c.value);else if(c.kind===n.BOOLEAN||c.kind===n.STRING)a[b.value]=c.value;else if(c.kind===n.OBJECT){let e={};c.fields.map(a=>bH(e,a.name,a.value,d)),a[b.value]=e}else if(c.kind===n.VARIABLE){let e=(d||{})[c.name.value];a[b.value]=e}else if(c.kind===n.LIST)a[b.value]=c.values.map(a=>{let c={};return bH(c,b,a,d),c[b.value]});else if(c.kind===n.ENUM)a[b.value]=c.value;else if(c.kind===n.NULL)a[b.value]=null;else throw R(19,b.value,c.kind)}function bI(a){let b={},c=a&&a.variableDefinitions;return c&&c.length&&c.forEach(a=>{a.defaultValue&&bH(b,a.variable.name,a.defaultValue)}),b}function bJ(a){return!!a.errors?.length}bF.reset();let bK=Array.isArray;function bL(a){return Array.isArray(a)&&a.length>0}function bM(a){let b=new Map;return function(c=a){let d=b.get(c);return d||b.set(c,d={variables:new Set,fragmentSpreads:new Set}),d}}function bN(a){let b={data:a.data};return a.error&&(b.error=a.error),b}function bO(a,b){switch(a.kind){case"InlineFragment":return a;case"FragmentSpread":{let c=a.name.value;if("function"==typeof b)return b(c);let d=b&&b[c];return P(d,9,c),d||null}default:return null}}function bP(a){let b;for(let c of(an(a),a.definitions)){if("OperationDefinition"===c.kind)return c;"FragmentDefinition"!==c.kind||b||(b=c)}if(b)return b;throw R(12)}function bQ(a){return"Field"===a.kind}function bR({directives:a},b){var c;let d;return!a||!a.length||(d=[],(c=a)&&c.length&&c.forEach(a=>{if(!function({name:{value:a}}){return"skip"===a||"include"===a}(a))return;let b=a.arguments,c=a.name.value;P(b&&1===b.length,16,c);let e=b[0];P(e.name&&"if"===e.name.value,17,c);let f=e.value;P(f&&("Variable"===f.kind||"BooleanValue"===f.kind),18,c),d.push({directive:a,ifArgument:e})}),d).every(({directive:a,ifArgument:c})=>{let d=!1;return"Variable"===c.value.kind?P(void 0!==(d=b&&b[c.value.name.value]),15,a.name.value):d=c.value.value,"skip"===a.name.value?!d:d})}function bS(a,{data:b,...c},{data:d,...e},f){return bg(c,e)&&function a(b,c,d,e){if(c===d)return!0;let f=new Set;return b.selections.every(b=>{if(f.has(b)||(f.add(b),!bR(b,e.variables)||bT(b)))return!0;if(bQ(b)){let f=bo(b),g=c&&c[f],h=d&&d[f],i=b.selectionSet;if(!i)return bg(g,h);let j=Array.isArray(g),k=Array.isArray(h);if(j!==k)return!1;if(j&&k){let b=g.length;if(h.length!==b)return!1;for(let c=0;c<b;++c)if(!a(i,g[c],h[c],e))return!1;return!0}return a(i,g,h,e)}{let f=bO(b,e.fragmentMap);if(f)return!!bT(f)||a(f.selectionSet,c,d,e)}})}(bP(a).selectionSet,b,d,{fragmentMap:bl(bm(a)),variables:f})}function bT(a){return!!a.directives&&a.directives.some(bU)}function bU(a){return"nonreactive"===a.name.value}(i=o||(o={}))[i.loading=1]="loading",i[i.setVariables=2]="setVariables",i[i.fetchMore=3]="fetchMore",i[i.refetch=4]="refetch",i[i.poll=6]="poll",i[i.ready=7]="ready",i[i.error=8]="error",i[i.streaming=9]="streaming";function bV(a){return a.catch(()=>{}),a}let bW=Symbol.for("apollo.observableQuery.variablesUnknown"),{assign:bX,hasOwnProperty:bY}=Object,bZ={loading:!0,networkStatus:o.loading,data:void 0,dataState:"empty",partial:!0},b$={loading:!1,networkStatus:o.ready,data:void 0,dataState:"empty",partial:!0};class b_{options;queryName;variablesUnknown=!1;_lastWrite;get query(){return this.lastQuery}get variables(){return this.options.variables}unsubscribeFromCache;input;subject;isTornDown;queryManager;subscriptions=new Set;waitForNetworkResult;lastQuery;linkSubscription;pollingInfo;get networkStatus(){return this.subject.getValue().result.networkStatus}constructor({queryManager:a,options:b,transformedQuery:c=a.transform(b.query)}){this.queryManager=a,this.waitForNetworkResult="network-only"===b.fetchPolicy,this.isTornDown=!1,this.subscribeToMore=this.subscribeToMore.bind(this),this.maskResult=this.maskResult.bind(this);const{watchQuery:{fetchPolicy:d="cache-first"}={}}=a.defaultOptions,{fetchPolicy:e=d,initialFetchPolicy:f="standby"===e?d:e}=b;b[bW]&&(P("standby"===e,77),this.variablesUnknown=!0),this.lastQuery=c,this.options={...b,initialFetchPolicy:f,fetchPolicy:e,variables:this.getVariablesWithDefaults(b.variables)},this.initializeObservablesQueue(),this["@@observable"]=()=>this,Symbol.observable&&(this[Symbol.observable]=()=>this);const g=ao(this.query);this.queryName=g&&g.name&&g.name.value}initializeObservablesQueue(){this.subject=new A.BehaviorSubject({query:this.query,variables:this.variables,result:bZ,meta:{}});let a=this.subject.pipe((0,A.tap)({subscribe:()=>{this.subject.observed||(this.reobserve(),setTimeout(()=>this.updatePolling()))},unsubscribe:()=>{this.subject.observed||this.tearDownQuery()}}),bG(({query:a,variables:b,result:c,meta:d},e)=>{let{shouldEmit:f}=d;if(c===bZ&&(e.previous=void 0,e.previousVariables=void 0),"standby"===this.options.fetchPolicy||2===f)return;if(1===f)return i();let{previous:g,previousVariables:h}=e;if(g){let d=this.queryManager.getDocumentInfo(a),e=this.queryManager.dataMasking,f=e?d.nonReactiveQuery:a;if((e||d.hasNonreactiveDirective?bS(f,g,c,b):bg(g,c))&&bg(h,b))return}if(!(3===f&&(!this.options.notifyOnNetworkStatusChange||bg(g,c))))return i();function i(){return e.previous=c,e.previousVariables=b,c}},()=>({})));this.pipe=a.pipe.bind(a),this.subscribe=a.subscribe.bind(a),this.input=new A.Subject,this.input.complete=()=>{},this.input.pipe(this.operator).subscribe(this.subject)}subscribe;pipe;[Symbol.observable];"@@observable";getCacheDiff({optimistic:a=!0}={}){return this.queryManager.cache.diff({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:a})}getInitialResult(a){let b=this.queryManager.prioritizeCacheValues?"cache-first":a||this.options.fetchPolicy,c=()=>{let a=this.getCacheDiff(),b=this.options.returnPartialData||a.complete?a.result??void 0:void 0;return this.maskResult({data:b,dataState:a.complete?"complete":void 0===b?"empty":"partial",loading:!a.complete,networkStatus:a.complete?o.ready:o.loading,partial:!a.complete})};switch(b){case"cache-only":return{...c(),loading:!1,networkStatus:o.ready};case"cache-first":return c();case"cache-and-network":return{...c(),loading:!0,networkStatus:o.loading};case"standby":return b$;default:return bZ}}resubscribeCache(){let{variables:a,fetchPolicy:b}=this.options,c=this.query,d="standby"===b||"no-cache"===b||this.waitForNetworkResult,e=!b0({query:c,variables:a},this.unsubscribeFromCache)&&!this.waitForNetworkResult;if((d||e)&&this.unsubscribeFromCache?.(),d||!e)return;let f={query:c,variables:a,optimistic:!0,watcher:this,callback:a=>{let b=this.queryManager.getDocumentInfo(c);if((b.hasClientExports||b.hasForcedResolvers)&&(f.lastDiff=void 0),f.lastOwnDiff===a)return;let{result:d}=this.subject.getValue();(a.complete||!d.error&&d!==bZ&&d!==b$)&&(bg(d.data,a.result)||this.scheduleNotify())}},g=this.queryManager.cache.watch(f);this.unsubscribeFromCache=Object.assign(()=>{this.unsubscribeFromCache=void 0,g()},{query:c,variables:a})}stableLastResult;getCurrentResult(){let{result:a}=this.subject.getValue(),b=a.networkStatus===o.error||this.hasObservers()||"no-cache"===this.options.fetchPolicy?a:this.getInitialResult();return b===bZ&&(b=this.getInitialResult()),bg(this.stableLastResult,b)||(this.stableLastResult=b),this.stableLastResult}refetch(a){let{fetchPolicy:b}=this.options,c={pollInterval:0};return"no-cache"===b?c.fetchPolicy="no-cache":c.fetchPolicy="network-only",a&&!bg(this.variables,a)&&(c.variables=this.options.variables=this.getVariablesWithDefaults({...this.variables,...a})),this._lastWrite=void 0,this._reobserve(c,{newNetworkStatus:o.refetch})}fetchMore({query:a,variables:b,context:c,errorPolicy:d,updateQuery:e}){P("cache-only"!==this.options.fetchPolicy,79,Y(this.query,"(anonymous)"));let f={...aZ(this.options,{errorPolicy:"none"},{query:a,context:c,errorPolicy:d}),variables:a?b:{...this.variables,...b},fetchPolicy:"no-cache",notifyOnNetworkStatusChange:this.options.notifyOnNetworkStatusChange};f.query=this.transformDocument(f.query),this.lastQuery=a?this.transformDocument(this.options.query):f.query;let g=!1,h="no-cache"!==this.options.fetchPolicy;h||P(e,80);let{finalize:i,pushNotification:j}=this.pushOperation(o.fetchMore);return j({source:"newNetworkStatus",kind:"N",value:{}},{shouldEmit:3}),this.queryManager.fetchQuery(f,o.fetchMore).then(a=>{if(i(),h){let b=this.getCacheDiff();this.queryManager.cache.batch({update:b=>{e?b.updateQuery({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:!1},b=>e(b,{fetchMoreResult:a.data,variables:f.variables})):b.writeQuery({query:f.query,variables:f.variables,data:a.data})},onWatchUpdated:(a,c)=>{a.watcher!==this||bg(c.result,b.result)||(g=!0)}})}else{let b=this.getCurrentResult(),c=e(b.data,{fetchMoreResult:a.data,variables:f.variables});j({kind:"N",value:{...b,networkStatus:o.ready,loading:!1,data:c,dataState:"streaming"===b.dataState?"streaming":"complete"},source:"network"})}return this.maskResult(a)}).finally(()=>{i(),h&&!g&&j({kind:"N",source:"newNetworkStatus",value:{}},{shouldEmit:1})})}subscribeToMore(a){let b=this.queryManager.startGraphQLSubscription({query:a.document,variables:a.variables,context:a.context}).subscribe({next:b=>{let{updateQuery:c,onError:d}=a,{error:e}=b;e?d?d(e):P.error(81,e):c&&this.updateQuery((a,d)=>c(a,{subscriptionData:b,...d}))}});return this.subscriptions.add(b),()=>{this.subscriptions.delete(b)&&b.unsubscribe()}}applyOptions(a){let b=aZ(this.options,a||{});bX(this.options,b),this.updatePolling()}async setVariables(a){return(a=this.getVariablesWithDefaults(a),bg(this.variables,a))?bN(this.getCurrentResult()):(this.options.variables=a,this.hasObservers())?this._reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:a},{newNetworkStatus:o.setVariables}):bN(this.getCurrentResult())}updateQuery(a){let{queryManager:b}=this,{result:c,complete:d}=this.getCacheDiff({optimistic:!1}),e=a(c,{variables:this.variables,complete:!!d,previousData:c});e&&(b.cache.writeQuery({query:this.options.query,data:e,variables:this.variables}),b.broadcastQueries())}startPolling(a){this.options.pollInterval=a,this.updatePolling()}stopPolling(){this.options.pollInterval=0,this.updatePolling()}applyNextFetchPolicy(a,b){if(b.nextFetchPolicy){let{fetchPolicy:c="cache-first",initialFetchPolicy:d=c}=b;"standby"===c||("function"==typeof b.nextFetchPolicy?b.fetchPolicy=b.nextFetchPolicy.call(b,c,{reason:a,options:b,observable:this,initialFetchPolicy:d}):"variables-changed"===a?b.fetchPolicy=d:b.fetchPolicy=b.nextFetchPolicy)}return b.fetchPolicy}fetch(a,b,c,d){let e=this.options.fetchPolicy;a.context??={};let f=!1,g=a=>new A.Observable(c=>{try{return a.subscribe({next(a){f=!0,c.next(a)},error:a=>c.error(a),complete:()=>c.complete()})}finally{f||(l.override=b,this.input.next({kind:"N",source:"newNetworkStatus",value:{resetError:!0},query:j,variables:k,meta:{shouldEmit:3,fetchPolicy:e}}))}}),{observable:h,fromLink:i}=this.queryManager.fetchObservableWithInfo(a,{networkStatus:b,query:c,onCacheHit:()=>{f=!0},fetchQueryOperator:g,observableQuery:this}),{query:j,variables:k}=this,l={abort:()=>{n.unsubscribe()},query:j,variables:k};this.activeOperations.add(l);let m=b==o.refetch||b==o.setVariables,n=(h=h.pipe(d,(0,A.share)())).pipe((0,A.tap)({next:a=>{"newNetworkStatus"===a.source||"N"===a.kind&&a.value.loading?l.override=b:delete l.override},finalize:()=>this.activeOperations.delete(l)})).subscribe({next:a=>{let b={};m&&"N"===a.kind&&"loading"in a.value&&!a.value.loading&&(m=!1,b.shouldEmit=1),this.input.next({...a,query:j,variables:k,meta:b})}});return{fromLink:i,subscription:n,observable:h}}didWarnCacheOnlyPolling=!1;updatePolling(){if(this.queryManager.ssrMode)return;let{pollingInfo:a,options:{fetchPolicy:b,pollInterval:c}}=this;if(!c||!this.hasObservers()||"cache-only"===b)return void this.cancelPolling();if(a?.interval===c)return;(a||(this.pollingInfo={})).interval=c;let d=()=>{this.pollingInfo&&(br(this.networkStatus)||this.options.skipPollAttempt?.()?e():this._reobserve({fetchPolicy:"no-cache"===this.options.initialFetchPolicy?"no-cache":"network-only"},{newNetworkStatus:o.poll}).then(e,e))},e=()=>{let a=this.pollingInfo;a&&(clearTimeout(a.timeout),a.timeout=setTimeout(d,a.interval))};e()}cancelPolling(){this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),delete this.pollingInfo)}reobserve(a){return this._reobserve(a)}_reobserve(a,b){var c;let d,e,f;this.isTornDown=!1;let{newNetworkStatus:g}=b||{};this.queryManager.obsQueries.add(this);let h=g===o.refetch||g===o.poll,i=this.variables,j=this.options.fetchPolicy,k=aZ(this.options,a||{});this.variablesUnknown&&="standby"===k.fetchPolicy;let l=h?k:bX(this.options,k),m=this.transformDocument(l.query);this.lastQuery=m,a&&"variables"in a&&(l.variables=this.getVariablesWithDefaults(a.variables)),!h&&(this.updatePolling(),a&&a.variables&&!bg(a.variables,i)&&"standby"!==l.fetchPolicy&&(l.fetchPolicy===j||"function"==typeof l.nextFetchPolicy)&&(this.applyNextFetchPolicy("variables-changed",l),void 0===g&&(g=o.setVariables)));let n=this.networkStatus;g||(g=o.loading,n!==o.loading&&a?.variables&&!bg(a.variables,i)&&(g=o.setVariables),"standby"===l.fetchPolicy&&(g=o.ready)),"standby"===l.fetchPolicy&&this.cancelPolling(),this.resubscribeCache();let{promise:p,operator:q}=(c=a=>{switch(a.kind){case"E":throw a.error;case"N":if("newNetworkStatus"!==a.source&&!a.value.loading)return a.value}},d="standby"===l.fetchPolicy?{data:void 0}:void 0,{promise:new Promise((a,b)=>{e=a,f=b}),operator:(0,A.tap)({next(a){try{let b=c(a);void 0!==b&&(d=b)}catch(a){f(a)}},finalize:()=>{if(d)e(d);else{let a="The operation was aborted.",b="AbortError";f("undefined"!=typeof DOMException?new DOMException(a,b):Object.assign(Error(a),{name:b}))}}})}),{subscription:r,observable:s,fromLink:t}=this.fetch(l,g,m,q);h||!t&&this.linkSubscription||(this.linkSubscription&&this.linkSubscription.unsubscribe(),this.linkSubscription=r);let u=Object.assign(bV(p.then(a=>bN(this.maskResult(a))).finally(()=>{this.hasObservers()||0!==this.activeOperations.size||this.tearDownQuery()})),{retain:()=>{let a=s.subscribe({}),b=()=>a.unsubscribe();return p.then(b,b),u}});return u}hasObservers(){return this.subject.observed}stop(){this.subject.complete(),this.initializeObservablesQueue(),this.tearDownQuery()}tearDownQuery(){this.isTornDown||(this.resetNotifications(),this.unsubscribeFromCache?.(),this.linkSubscription&&(this.linkSubscription.unsubscribe(),delete this.linkSubscription),this.stopPolling(),this.subscriptions.forEach(a=>a.unsubscribe()),this.subscriptions.clear(),this.queryManager.obsQueries.delete(this),this.isTornDown=!0,this.abortActiveOperations(),this._lastWrite=void 0)}transformDocument(a){return this.queryManager.transform(a)}maskResult(a){let b=this.queryManager.maskOperation({document:this.query,data:a.data,fetchPolicy:this.options.fetchPolicy,cause:this});return b===a.data?a:{...a,data:b}}dirty=!1;notifyTimeout;resetNotifications(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0),this.dirty=!1}scheduleNotify(){!this.dirty&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(()=>this.notify(!0),0)))}notify(a=!1){if(!a){let a=this.queryManager.getDocumentInfo(this.query);if(a.hasClientExports||a.hasForcedResolvers)return}let{dirty:b}=this;if(this.resetNotifications(),b&&("cache-only"==this.options.fetchPolicy||"cache-and-network"==this.options.fetchPolicy||!this.activeOperations.size)){let a=this.getCacheDiff();bg(a.result,this.getCacheDiff({optimistic:!1}).result)?this.reobserveCacheFirst():this.input.next({kind:"N",value:{data:a.result,dataState:a.complete?"complete":a.result?"partial":"empty",networkStatus:o.ready,loading:!1,error:void 0,partial:!a.complete},source:"cache",query:this.query,variables:this.variables,meta:{}})}}activeOperations=new Set;pushOperation(a){let b=!1,{query:c,variables:d}=this,e=()=>{this.activeOperations.delete(f)},f={override:a,abort:()=>{b=!0,e()},query:c,variables:d};return this.activeOperations.add(f),{finalize:e,pushNotification:(a,e)=>{b||this.input.next({...a,query:c,variables:d,meta:{...e}})}}}calculateNetworkStatus(a){if(a===o.streaming)return a;let b=Array.from(this.activeOperations.values()).reverse().find(a=>b0(a,this)&&void 0!==a.override);return b?.override??a}abortActiveOperations(){this.activeOperations.forEach(a=>a.abort())}reset(){let a="cache-only"===this.options.fetchPolicy;this.setResult(a?b$:bZ,{shouldEmit:a?1:2}),this.abortActiveOperations()}setResult(a,b){this.input.next({source:"setResult",kind:"N",value:a,query:this.query,variables:this.variables,meta:{...b}})}operator=bG(a=>{let b,{query:c,variables:d,meta:e}=a;if("setResult"===a.source)return{query:c,variables:d,result:a.value,meta:e};if("C"===a.kind||!b0(a,this))return;let f=this.subject.getValue();if("cache"===a.source){if((b=a.value).networkStatus===o.ready&&b.partial&&(!this.options.returnPartialData||f.result.networkStatus===o.error)&&"cache-only"!==this.options.fetchPolicy)return}else if("network"===a.source)this.waitForNetworkResult&&(this.waitForNetworkResult=!1,this.resubscribeCache()),b="E"===a.kind?{...b0(f,a)?f.result:{data:void 0,dataState:"empty",partial:!0},error:a.error,networkStatus:o.error,loading:!1}:a.value,"E"===a.kind&&"streaming"===b.dataState&&(b.dataState="complete"),b.error&&(e.shouldEmit=1);else if("newNetworkStatus"===a.source){let c=b0(f,a)?f.result:this.getInitialResult(e.fetchPolicy),{resetError:d}=a.value,g=d?void 0:c.error,h=g?o.error:o.ready;b={...c,error:g,networkStatus:h}}return P(b),b.error||delete b.error,b.networkStatus=this.calculateNetworkStatus(b.networkStatus),b.loading=br(b.networkStatus),{query:c,variables:d,result:b=this.maskResult(b),meta:e}});reobserveCacheFirst(){let{fetchPolicy:a,nextFetchPolicy:b}=this.options;"cache-and-network"===a||"network-only"===a?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy(c,d){return(this.nextFetchPolicy=b,"function"==typeof this.nextFetchPolicy)?this.nextFetchPolicy(c,d):a}}):this.reobserve()}getVariablesWithDefaults(a){return this.queryManager.getVariables(this.query,a)}}function b0(a,b){return!!(a&&b&&a.query===b.query&&bg(a.variables,b.variables))}let b1={},b2=new WeakMap;function b3(a,b){let c=a[b];"function"==typeof c&&(a[b]=function(){return b2.set(a,(b2.get(a)+1)%1e15),c.apply(this,arguments)})}let b4=new WeakMap;class b5{lastRequestId=1;cache;queryManager;id;observableQuery;incremental;constructor(a,b){const c=this.cache=a.cache,d=(b4.get(a)||0)+1;b4.set(a,d),this.id=d+"",this.observableQuery=b,this.queryManager=a,b2.has(c)||(b2.set(c,0),b3(c,"evict"),b3(c,"modify"),b3(c,"reset"))}_lastWrite;get lastWrite(){return(this.observableQuery||this)._lastWrite}set lastWrite(a){(this.observableQuery||this)._lastWrite=a}resetLastWrite(){this.lastWrite=void 0}shouldWrite(a,b){let{lastWrite:c}=this;return!(c&&c.dmCount===b2.get(this.cache)&&bg(b,c.variables)&&bg(a.data,c.result.data))}get hasNext(){return!!this.incremental&&this.incremental.hasNext}maybeHandleIncrementalResult(a,b,c){let{incrementalHandler:d}=this.queryManager;return d.isIncrementalResult(b)?(this.incremental||=d.startRequest({query:c}),this.incremental.handle(a,b)):b}markQueryResult(a,{document:b,variables:c,errorPolicy:d,cacheWriteBehavior:e}){let f={query:b,variables:c,returnPartialData:!0,optimistic:!0};this.observableQuery?.resetNotifications();let g=0===e,h=g?void 0:this.cache.diff(f),i=this.maybeHandleIncrementalResult(h?.result,a,b);return g||(b6(i,d)?this.cache.batch({onWatchUpdated:(a,b)=>{a.watcher===this.observableQuery&&(a.lastOwnDiff=b)},update:a=>{if(this.shouldWrite(i,c))a.writeQuery({query:b,data:i.data,variables:c,overwrite:1===e}),this.lastWrite={result:i,variables:c,dmCount:b2.get(this.cache)};else if(h&&h.complete){i={...i,data:h.result};return}let d=a.diff(f);d.complete&&(i={...i,data:d.result})}}):this.lastWrite=void 0),i}markMutationResult(a,b,c=this.cache){let d=[],e=0===b.cacheWriteBehavior,f=this.maybeHandleIncrementalResult(e?void 0:c.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(b.document).asQuery,variables:b.variables,optimistic:!1,returnPartialData:!0}).result,a,b.document);if("ignore"===b.errorPolicy&&(f={...f,errors:[]}),bJ(f)&&"none"===b.errorPolicy)return Promise.resolve(f);let g=()=>({...f,dataState:this.hasNext?"streaming":"complete"});if(!e&&b6(f,b.errorPolicy)){d.push({result:f.data,dataId:"ROOT_MUTATION",query:b.document,variables:b.variables});let{updateQueries:a}=b;a&&this.queryManager.getObservableQueries("all").forEach(b=>{let c=b&&b.queryName;if(!c||!Object.hasOwnProperty.call(a,c))return;let e=a[c],{query:f,variables:h}=b,{result:i,complete:j}=b.getCacheDiff({optimistic:!1});if(j&&i){let a=e(i,{mutationResult:g(),queryName:f&&Y(f)||void 0,queryVariables:h});a&&d.push({result:a,dataId:"ROOT_QUERY",query:f,variables:h})}})}let h=b.refetchQueries;if("function"==typeof h&&(h=h(g())),d.length>0||(h||"").length>0||b.update||b.onQueryUpdated||b.removeOptimistic){let a=[];if(this.queryManager.refetchQueries({updateCache:a=>{e||d.forEach(b=>a.write(b));let{update:c}=b;if(c){if(!e){let c=a.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(b.document).asQuery,variables:b.variables,optimistic:!1,returnPartialData:!0});c.complete&&(f={...f,data:c.result})}this.hasNext||c(a,f,{context:b.context,variables:b.variables})}e||b.keepRootFields||this.hasNext||a.modify({id:"ROOT_MUTATION",fields:(a,{fieldName:b,DELETE:c})=>"__typename"===b?a:c})},include:h,optimistic:!1,removeOptimistic:b.removeOptimistic,onQueryUpdated:b.onQueryUpdated||null}).forEach(b=>a.push(b)),b.awaitRefetchQueries||b.onQueryUpdated)return Promise.all(a).then(()=>f)}return Promise.resolve(f)}markMutationOptimistic(a,b){let c="function"==typeof a?a(b.variables,{IGNORE:b1}):a;return c!==b1&&(this.cache.recordOptimisticTransaction(a=>{try{this.markMutationResult({data:c},b,a)}catch(a){P.error(a)}},this.id),!0)}markSubscriptionResult(a,{document:b,variables:c,errorPolicy:d,cacheWriteBehavior:e}){0!==e&&(b6(a,d)&&this.cache.write({query:b,result:a.data,dataId:"ROOT_SUBSCRIPTION",variables:c}),this.queryManager.broadcastQueries())}}function b6(a,b="none"){let c=!bJ(a);return!c&&("ignore"===b||"all"===b)&&a.data&&(c=!0),c}class b7{defaultOptions;client;clientOptions;assumeImmutableResults;documentTransform;ssrMode;defaultContext;dataMasking;incrementalHandler;localState;queryDeduplication;prioritizeCacheValues=!1;onBroadcast;mutationStore;obsQueries=new Set;fetchCancelFns=new Map;constructor(a){const b=new aY(a=>this.cache.transformDocument(a),{cache:!1});this.client=a.client,this.defaultOptions=a.defaultOptions,this.queryDeduplication=a.queryDeduplication,this.clientOptions=a.clientOptions,this.ssrMode=a.ssrMode,this.assumeImmutableResults=a.assumeImmutableResults,this.dataMasking=a.dataMasking,this.localState=a.localState,this.incrementalHandler=a.incrementalHandler;const c=a.documentTransform;this.documentTransform=c?b.concat(c).concat(b):b,this.defaultContext=a.defaultContext||{},(this.onBroadcast=a.onBroadcast)&&(this.mutationStore={})}get link(){return this.client.link}get cache(){return this.client.cache}stop(){this.obsQueries.forEach(a=>a.stop()),this.cancelPendingFetches(R(84))}cancelPendingFetches(a){this.fetchCancelFns.forEach(b=>b(a)),this.fetchCancelFns.clear()}async mutate({mutation:a,variables:b,optimisticResponse:c,updateQueries:d,refetchQueries:e=[],awaitRefetchQueries:f=!1,update:g,onQueryUpdated:h,fetchPolicy:i,errorPolicy:j,keepRootFields:k,context:l}){let m=new b5(this);a=this.cache.transformForLink(this.transform(a));let{hasClientExports:n}=this.getDocumentInfo(a);b=this.getVariables(a,b),n&&(b=await this.localState.getExportedVariables({client:this.client,document:a,variables:b,context:l}));let o=this.mutationStore&&(this.mutationStore[m.id]={mutation:a,variables:b,loading:!0,error:null}),p=c&&m.markMutationOptimistic(c,{document:a,variables:b,cacheWriteBehavior:2*("no-cache"!==i),errorPolicy:j,context:l,updateQueries:d,update:g,keepRootFields:k});return this.broadcastQueries(),new Promise((n,q)=>{let r={};return this.getObservableFromLink(a,{...l,optimisticResponse:p?c:void 0},b,{},!1).observable.pipe(b8(),(0,A.mergeMap)(c=>{let n={...c};return(0,A.from)(m.markMutationResult(n,{document:a,variables:b,cacheWriteBehavior:2*("no-cache"!==i),errorPolicy:j,context:l,update:g,updateQueries:d,awaitRefetchQueries:f,refetchQueries:e,removeOptimistic:p?m.id:void 0,onQueryUpdated:h,keepRootFields:k}))})).pipe((0,A.map)(a=>{if(bJ(a)&&"none"===j)throw new a6(a);return o&&(o.loading=!1,o.error=null),a})).subscribe({next:b=>{if(this.broadcastQueries(),!m.hasNext){let c={data:this.maskOperation({document:a,data:b.data,fetchPolicy:i,cause:r})};bJ(b)&&(c.error=new a6(b)),Object.keys(b.extensions||{}).length&&(c.extensions=b.extensions),n(c)}},error:a=>(o&&(o.loading=!1,o.error=a),p&&this.cache.removeOptimistic(m.id),this.broadcastQueries(),"ignore"===j)?n({data:void 0}):"all"===j?n({data:void 0,error:a}):void q(a)})})}fetchQuery(a,b){return an(a.query,m.QUERY),(async()=>(0,A.lastValueFrom)(this.fetchObservableWithInfo(a,{networkStatus:b}).observable.pipe(bG(a=>{switch(a.kind){case"E":throw a.error;case"N":if("newNetworkStatus"!==a.source)return bN(a.value)}})),{defaultValue:{data:void 0}}))()}transform(a){return this.documentTransform.transformDocument(a)}transformCache=new al(X["queryManager.getDocumentInfo"]||2e3);getDocumentInfo(a){let{transformCache:b}=this;if(!b.has(a)){let c,d=ao(a),e={hasClientExports:F(["client","export"],a,!0),hasForcedResolvers:(c=!1,E(a,{Directive:{enter(a){if("client"===a.name.value&&a.arguments&&(c=a.arguments.some(a=>"always"===a.name.value&&"BooleanValue"===a.value.kind&&!0===a.value.value)))return D}}}),c),hasNonreactiveDirective:F(["nonreactive"],a),hasIncrementalDirective:F(["defer"],a),nonReactiveQuery:E(a,{FragmentSpread:a=>{if(!a.directives?.some(a=>"unmask"===a.name.value))return{...a,directives:[...a.directives||[],{kind:n.DIRECTIVE,name:{kind:n.NAME,value:"nonreactive"}}]}}}),clientQuery:F(["client"],a)?a:null,serverQuery:function(a,b){var c,d,e;let f,g,h;an(b);let i=bM(""),j=bM(""),k=a=>{for(let b=0,c;b<a.length&&(c=a[b]);++b)if(!bK(c)){if(c.kind===n.OPERATION_DEFINITION)return i(c.name&&c.name.value);if(c.kind===n.FRAGMENT_DEFINITION)return j(c.name.value)}return P.error(14),null},l=0;for(let a=b.definitions.length-1;a>=0;--a)b.definitions[a].kind===n.OPERATION_DEFINITION&&++l;let m=(c=a,f=new Map,g=new Map,c.forEach(a=>{a&&(a.name?f.set(a.name,a):a.test&&g.set(a.test,a))}),a=>{let b=f.get(a.name.value);return!b&&g.size&&g.forEach((c,d)=>{d(a)&&(b=c)}),b}),o=a=>bL(a)&&a.map(m).some(a=>a&&a.remove),p=new Map,q=!1,r={enter(a){if(o(a.directives))return q=!0,null}},s=E(b,{Field:r,InlineFragment:r,VariableDefinition:{enter:()=>!1},Variable:{enter(a,b,c,d,e){let f=k(e);f&&f.variables.add(a.name.value)}},FragmentSpread:{enter(a,b,c,d,e){if(o(a.directives))return q=!0,null;let f=k(e);f&&f.fragmentSpreads.add(a.name.value)}},FragmentDefinition:{enter(a,b,c,d){p.set(JSON.stringify(d),a)},leave:(a,b,c,d)=>a===p.get(JSON.stringify(d))?a:l>0&&a.selectionSet.selections.every(a=>a.kind===n.FIELD&&"__typename"===a.name.value)?(j(a.name.value).removed=!0,q=!0,null):void 0},Directive:{leave(a){if(m(a))return q=!0,null}}});if(!q)return b;let t=a=>(!a.transitiveVars&&(a.transitiveVars=new Set(a.variables),a.removed||a.fragmentSpreads.forEach(b=>{t(j(b)).transitiveVars.forEach(b=>{a.transitiveVars.add(b)})})),a),u=new Set;s.definitions.forEach(a=>{a.kind===n.OPERATION_DEFINITION?t(i(a.name&&a.name.value)).fragmentSpreads.forEach(a=>{u.add(a)}):a.kind!==n.FRAGMENT_DEFINITION||0!==l||j(a.name.value).removed||u.add(a.name.value)}),u.forEach(a=>{t(j(a)).fragmentSpreads.forEach(a=>{u.add(a)})});let v={enter(a){let b;if(b=a.name.value,!u.has(b)||j(b).removed)return null}};return!function a(b,c){return!b||b.selectionSet.selections.every(b=>b.kind===n.FRAGMENT_SPREAD&&a(c[b.name.value],c))}(ao(d=E(s,{FragmentSpread:v,FragmentDefinition:v,OperationDefinition:{leave(a){if(a.variableDefinitions){let b=t(i(a.name&&a.name.value)).transitiveVars;if(b.size<a.variableDefinitions.length)return{...a,variableDefinitions:a.variableDefinitions.filter(a=>b.has(a.variable.name.value))}}}}}))||(P("Document"===(e=d).kind,6),P(e.definitions.length<=1,7),P("FragmentDefinition"===(h=e.definitions[0]).kind,8),h),bl(bm(d)))?d:null}([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],a),operationType:d?.operation,defaultVars:bI(d),asQuery:{...a,definitions:a.definitions.map(a=>"OperationDefinition"===a.kind&&"query"!==a.operation?{...a,operation:"query"}:a)}};b.set(a,e)}let c=b.get(a);if(c.violation)throw c.violation;return c}getVariables(a,b){let c=this.getDocumentInfo(a).defaultVars,d=Object.entries(b??{}).map(([a,b])=>[a,void 0===b?c[a]:b]);return{...c,...Object.fromEntries(d)}}watchQuery(a){an(a.query,m.QUERY);let b=this.transform(a.query);return void 0===(a={...a,variables:this.getVariables(b,a.variables)}).notifyOnNetworkStatusChange&&(a.notifyOnNetworkStatusChange=!0),new b_({queryManager:this,options:a,transformedQuery:b})}query(a){let b=this.transform(a.query);return this.fetchQuery({...a,query:b}).then(c=>({...c,data:this.maskOperation({document:b,data:c?.data,fetchPolicy:a.fetchPolicy})}))}requestIdCounter=1;generateRequestId(){return this.requestIdCounter++}clearStore(a={discardWatches:!0}){return this.cancelPendingFetches(R(86)),this.obsQueries.forEach(a=>{a.reset()}),this.mutationStore&&(this.mutationStore={}),this.cache.reset(a)}getObservableQueries(a="active"){let b=new Set,c=new Map,d=new Map,e=new Set;return Array.isArray(a)&&a.forEach(a=>{if("string"==typeof a)c.set(a,a),d.set(a,!1);else if(bn(a)&&"Document"===a.kind&&Array.isArray(a.definitions)){let b=bF(this.transform(a));c.set(b,Y(a)),d.set(b,!1)}else bn(a)&&a.query&&e.add(a)}),this.obsQueries.forEach(c=>{let e=bF(this.transform(c.options.query));if("all"===a)return void b.add(c);let{queryName:f,options:{fetchPolicy:g}}=c;("active"!==a||"standby"!==g)&&("active"===a||f&&d.has(f)||e&&d.has(e))&&(b.add(c),f&&d.set(f,!0),e&&d.set(e,!0))}),e.size&&e.forEach(a=>{let c=new b_({queryManager:this,options:{...a,fetchPolicy:"network-only"}});b.add(c)}),b}refetchObservableQueries(a=!1){let b=[];return this.getObservableQueries(a?"all":"active").forEach(c=>{let{fetchPolicy:d}=c.options;(a||"standby"!==d)&&"cache-only"!==d&&b.push(c.refetch())}),this.broadcastQueries(),Promise.all(b)}startGraphQLSubscription(a){let b,{query:c,variables:d}=a,{fetchPolicy:e,errorPolicy:f="none",context:g={},extensions:h={}}=a;return an(c,m.SUBSCRIPTION),c=this.transform(c),d=this.getVariables(c,d),Object.assign((this.getDocumentInfo(c).hasClientExports?(0,A.from)(this.localState.getExportedVariables({client:this.client,document:c,variables:d,context:g})):(0,A.of)(d)).pipe((0,A.mergeMap)(a=>{let{observable:d,restart:i}=this.getObservableFromLink(c,g,a,h),j=new b5(this);return b=i,d.pipe((0,A.map)(b=>{j.markSubscriptionResult(b,{document:c,variables:a,errorPolicy:f,cacheWriteBehavior:2*("no-cache"!==e)});let d={data:b.data??void 0};if(bJ(b))d.error=new a6(b);else"extensions"in b&&a8.is(b.extensions[ba])&&(d.error=b.extensions[ba],delete b.extensions[ba]);return b.extensions&&Object.keys(b.extensions).length&&(d.extensions=b.extensions),d.error&&"none"===f&&(d.data=void 0),"ignore"===f&&delete d.error,d}),(0,A.catchError)(a=>"ignore"===f?(0,A.of)({data:void 0}):(0,A.of)({data:void 0,error:a})),(0,A.filter)(a=>!!(a.data||a.error)))})),{restart:()=>b?.()})}broadcastQueries(){this.onBroadcast&&this.onBroadcast(),this.obsQueries.forEach(a=>a.notify())}inFlightLinkObservables=new ab(!1);getObservableFromLink(a,b,c,d,e=b?.queryDeduplication??this.queryDeduplication){let f={},{serverQuery:g,clientQuery:h,operationType:i,hasIncrementalDirective:j}=this.getDocumentInfo(a),k=Y(a),l={client:this.client};if(g){let{inFlightLinkObservables:a,link:h}=this;try{let j=this.incrementalHandler.prepareRequest({query:g,variables:c,context:{...this.defaultContext,...b,queryDeduplication:e},extensions:d});function n(a){return new A.Observable(b=>{function c(){return a.subscribe({next:b.next.bind(b),complete:b.complete.bind(b),error:b.error.bind(b)})}let d=c();return f.restart||=()=>{d.unsubscribe(),d=c()},()=>{d.unsubscribe(),f.restart=void 0}})}if(b=j.context,e){let b=bF(g),d=a0(c);(f=a.lookup(b,d)).observable||(f.observable=aq(h,j,l).pipe(n,(0,A.finalize)(()=>{a.peek(b,d)===f&&a.remove(b,d)}),i===m.SUBSCRIPTION?(0,A.share)():(0,A.shareReplay)({refCount:!0})))}else f.observable=aq(h,j,l).pipe(n)}catch(a){f.observable=(0,A.throwError)(()=>a)}}else f.observable=(0,A.of)({data:{}});if(h){let{operation:d}=ao(a);P(!j,91,d[0].toUpperCase()+d.slice(1),k??"(anonymous)"),f.observable=f.observable.pipe((0,A.mergeMap)(a=>(0,A.from)(this.localState.execute({client:this.client,document:h,remoteResult:a,context:b,variables:c}))))}return{restart:()=>f.restart?.(),observable:f.observable.pipe((0,A.catchError)(a=>{var b,c,d;throw d=a=null!==(c=b=a)&&"object"==typeof c&&"string"==typeof c.message&&"string"==typeof c.name&&("string"==typeof c.stack||void 0===c.stack)?b:"string"==typeof b?Error(b,{cause:b}):new a9(b),bb.add(d),a}))}}getResultsFromLink(a,{queryInfo:b,cacheWriteBehavior:c,observableQuery:d}){let e=b.lastRequestId=this.generateRequestId(),{errorPolicy:f}=a,g=this.cache.transformForLink(a.query);return this.getObservableFromLink(g,a.context,a.variables).observable.pipe((0,A.map)(e=>{let h=b.markQueryResult(e,{...a,document:g,cacheWriteBehavior:c}),i=bJ(h);if(i&&"none"===f)throw b.resetLastWrite(),d?.resetNotifications(),new a6(h);let j={data:h.data,...b.hasNext?{loading:!0,networkStatus:o.streaming,dataState:"streaming",partial:!0}:{dataState:h.data?"complete":"empty",loading:!1,networkStatus:o.ready,partial:!h.data}};return i&&("none"===f&&(j.data=void 0,j.dataState="empty"),"ignore"!==f&&(j.error=new a6(h),"streaming"!==j.dataState&&(j.networkStatus=o.error))),j}),(0,A.catchError)(a=>{if(e>=b.lastRequestId&&"none"===f)throw b.resetLastWrite(),d?.resetNotifications(),a;let c={data:void 0,dataState:"empty",loading:!1,networkStatus:o.ready,partial:!0};return"ignore"!==f&&(c.error=a,c.networkStatus=o.error),(0,A.of)(c)}))}fetchObservableWithInfo(a,{networkStatus:b=o.loading,query:c=a.query,fetchQueryOperator:d=a=>a,onCacheHit:e=()=>{},observableQuery:f}){let g,h,i=this.getVariables(c,a.variables),j=this.defaultOptions.watchQuery,{fetchPolicy:k=j&&j.fetchPolicy||"cache-first",errorPolicy:l=j&&j.errorPolicy||"none",returnPartialData:m=!1,notifyOnNetworkStatusChange:n=!0,context:p={}}=a;this.prioritizeCacheValues&&("network-only"===k||"cache-and-network"===k)&&(k="cache-first");let q=Object.assign({},a,{query:c,variables:i,fetchPolicy:k,errorPolicy:l,returnPartialData:m,notifyOnNetworkStatusChange:n,context:p}),r=new b5(this,f),s=c=>{q.variables=c;let g="no-cache"===k?0:b===o.refetch&&"merge"!==q.refetchWritePolicy?1:2,h=this.fetchQueryByPolicy(q,{queryInfo:r,cacheWriteBehavior:g,onCacheHit:e,observableQuery:f});return h.observable=h.observable.pipe(d),"standby"!==q.fetchPolicy&&f?.applyNextFetchPolicy("after-fetch",a),h},t=()=>{this.fetchCancelFns.delete(r.id)};this.fetchCancelFns.set(r.id,a=>{u.next({kind:"E",error:a,source:"network"})});let u=new A.Subject;if(this.getDocumentInfo(q.query).hasClientExports)g=(0,A.from)(this.localState.getExportedVariables({client:this.client,document:q.query,variables:q.variables,context:q.context})).pipe((0,A.mergeMap)(a=>s(a).observable)),h=!0;else{let a=s(q.variables);h=a.fromLink,g=a.observable}return{observable:new A.Observable(a=>{a.add(t),g.subscribe(a),u.subscribe(a)}).pipe((0,A.share)()),fromLink:h}}refetchQueries({updateCache:a,include:b,optimistic:c=!1,removeOptimistic:d=c?K("refetchQueries"):void 0,onQueryUpdated:e}){let f=new Map;b&&this.getObservableQueries(b).forEach(a=>{if("cache-only"===a.options.fetchPolicy||a.variablesUnknown)return;let b=a.getCurrentResult();f.set(a,{oq:a,lastDiff:{result:b?.data,complete:!b?.partial}})});let g=new Map;if(a){let b=new Set;this.cache.batch({update:a,optimistic:c&&d||!1,removeOptimistic:d,onWatchUpdated(a,c,d){let h=a.watcher;if(h instanceof b_&&!b.has(h)){if(b.add(h),e){f.delete(h);let a=e(h,c,d);return!0===a&&(a=h.refetch().retain()),!1!==a&&g.set(h,a),a}null!==e&&"cache-only"!==h.options.fetchPolicy&&f.set(h,{oq:h,lastDiff:d,diff:c})}}})}return f.size&&f.forEach(({oq:a,lastDiff:b,diff:c})=>{let d;e&&(c||(c=a.getCacheDiff()),d=e(a,c,b)),e&&!0!==d||(d=a.refetch().retain()),!1!==d&&g.set(a,d)}),d&&this.cache.removeOptimistic(d),g}noCacheWarningsByCause=new WeakSet;maskOperation(a){var b;let c,{document:d,data:e}=a;return this.dataMasking?(b=this.cache,(P(c=ao(d),43),null==e)?e:bq(e,c.selectionSet,{operationType:c.operation,operationName:c.name?.value,fragmentMap:bl(bm(d)),cache:b,mutableTargets:new WeakMap,knownChanged:new WeakSet})):e}maskFragment(a){var b,c;let d,e,{data:f,fragment:g,fragmentName:h}=a;return this.dataMasking?(b=this.cache,c=h,d=g.definitions.filter(a=>a.kind===n.FRAGMENT_DEFINITION),void 0===c&&(P(1===d.length,41,d.length),c=d[0].name.value),(P(!!(e=d.find(a=>a.name.value===c)),42,c),null==f||bg(f,{}))?f:bq(f,e.selectionSet,{operationType:"fragment",operationName:e.name.value,fragmentMap:bl(bm(g)),cache:b,mutableTargets:new WeakMap,knownChanged:new WeakSet})):f}fetchQueryByPolicy({query:a,variables:b,fetchPolicy:c,errorPolicy:d,returnPartialData:e,context:f},{cacheWriteBehavior:g,onCacheHit:h,queryInfo:i,observableQuery:j}){let k=()=>this.cache.diff({query:a,variables:b,returnPartialData:!0,optimistic:!0}),l=(c,g)=>{let i=c.result,j=a=>(c.complete||e||(a=void 0),{data:a,dataState:c.complete?"complete":a?"partial":"empty",loading:br(g),networkStatus:g,partial:!c.complete}),k=a=>(0,A.of)({kind:"N",value:j(a),source:"cache"});return(c.complete||e)&&this.getDocumentInfo(a).hasForcedResolvers?(h(),(0,A.from)(this.localState.execute({client:this.client,document:a,remoteResult:i?{data:i}:void 0,context:f,variables:b,onlyRunForcedResolvers:!0,returnPartialData:!0}).then(a=>({kind:"N",value:j(a.data||void 0),source:"cache"})))):k("none"===d&&g===o.refetch&&c.missing?void 0:i||void 0)},m=()=>this.getResultsFromLink({query:a,variables:b,context:f,fetchPolicy:c,errorPolicy:d},{cacheWriteBehavior:g,queryInfo:i,observableQuery:j}).pipe(b8(),(0,A.materialize)(),(0,A.map)(a=>({...a,source:"network"})));switch(c){default:case"cache-first":{let a=k();if(a.complete)return{fromLink:!1,observable:l(a,o.ready)};if(e)return{fromLink:!0,observable:(0,A.concat)(l(a,o.loading),m())};return{fromLink:!0,observable:m()}}case"cache-and-network":{let a=k();if(a.complete||e)return{fromLink:!0,observable:(0,A.concat)(l(a,o.loading),m())};return{fromLink:!0,observable:m()}}case"cache-only":return{fromLink:!1,observable:(0,A.concat)(l(k(),o.ready))};case"network-only":case"no-cache":return{fromLink:!0,observable:m()};case"standby":return{fromLink:!1,observable:A.EMPTY}}}}function b8(){let a=!1;return(0,A.tap)({next(){a=!0},complete(){P(a,95)}})}class b9{link;cache;disableNetworkFetches;set prioritizeCacheValues(a){this.queryManager.prioritizeCacheValues=a}get prioritizeCacheValues(){return this.queryManager.prioritizeCacheValues}version;queryDeduplication;defaultOptions;devtoolsConfig;queryManager;devToolsHookCb;resetStoreCallbacks=[];clearStoreCallbacks=[];constructor(a){const{cache:b,documentTransform:c,ssrMode:d=!1,ssrForceFetchDelay:e=0,queryDeduplication:f=!0,defaultOptions:g,defaultContext:h,assumeImmutableResults:i=b.assumeImmutableResults,localState:j,devtools:k,dataMasking:l,link:m,incrementalHandler:n=new W}=a;this.link=m,this.cache=b,this.queryDeduplication=f,this.defaultOptions=g||{},this.devtoolsConfig={...k,enabled:k?.enabled??!1},this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.refetchObservableQueries=this.refetchObservableQueries.bind(this),this.version=I,this.queryManager=new b7({client:this,defaultOptions:this.defaultOptions,defaultContext:h,documentTransform:c,queryDeduplication:f,ssrMode:d,dataMasking:!!l,clientOptions:a,incrementalHandler:n,assumeImmutableResults:i,onBroadcast:this.devtoolsConfig.enabled?()=>{this.devToolsHookCb&&this.devToolsHookCb()}:void 0,localState:j}),this.prioritizeCacheValues=d||e>0,e&&setTimeout(()=>{this.prioritizeCacheValues=!1},e),this.devtoolsConfig.enabled&&this.connectToDevTools()}connectToDevTools(){}get documentTransform(){return this.queryManager.documentTransform}get localState(){return this.queryManager.localState}set localState(a){this.queryManager.localState=a}stop(){this.queryManager.stop()}watchQuery(a){return this.defaultOptions.watchQuery&&(a=a$(this.defaultOptions.watchQuery,a)),this.queryManager.watchQuery(a)}query(a){return this.defaultOptions.query&&(a=a$(this.defaultOptions.query,a)),this.queryManager.query(a)}mutate(a){let b=a$(aZ({fetchPolicy:"network-only",errorPolicy:"none"},this.defaultOptions.mutate),a);return an(b.mutation,m.MUTATION),this.queryManager.mutate(b)}subscribe(a){let b={},c=this.queryManager.startGraphQLSubscription(a);return Object.assign(c.pipe((0,A.map)(c=>({...c,data:this.queryManager.maskOperation({document:a.query,data:c.data,fetchPolicy:a.fetchPolicy,cause:b})}))),{restart:c.restart})}readQuery(a,b=!1){return this.cache.readQuery({...a,query:this.transform(a.query)},b)}watchFragment(a){let b=this.queryManager.dataMasking;return this.cache.watchFragment({...a,fragment:this.transform(a.fragment,b)}).pipe((0,A.map)(a=>a))}readFragment(a,b=!1){return this.cache.readFragment({...a,fragment:this.transform(a.fragment)},b)}writeQuery(a){let b=this.cache.writeQuery(a);return!1!==a.broadcast&&this.queryManager.broadcastQueries(),b}writeFragment(a){let b=this.cache.writeFragment(a);return!1!==a.broadcast&&this.queryManager.broadcastQueries(),b}__actionHookForDevTools(a){this.devToolsHookCb=a}__requestRaw(a){return aq(this.link,a,{client:this})}resetStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!1})).then(()=>Promise.all(this.resetStoreCallbacks.map(a=>a()))).then(()=>this.refetchObservableQueries())}clearStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!0})).then(()=>Promise.all(this.clearStoreCallbacks.map(a=>a())))}onResetStore(a){return this.resetStoreCallbacks.push(a),()=>{this.resetStoreCallbacks=this.resetStoreCallbacks.filter(b=>b!==a)}}onClearStore(a){return this.clearStoreCallbacks.push(a),()=>{this.clearStoreCallbacks=this.clearStoreCallbacks.filter(b=>b!==a)}}reFetchObservableQueries;refetchObservableQueries(a){return this.queryManager.refetchObservableQueries(a)}refetchQueries(a){let b=this.queryManager.refetchQueries(a),c=[],d=[];b.forEach((a,b)=>{c.push(b),d.push(a)});let e=Promise.all(d);return e.queries=c,e.results=d,e.catch(a=>{}),e}getObservableQueries(a="active"){return this.queryManager.getObservableQueries(a)}extract(a){return this.cache.extract(a)}restore(a){return this.cache.restore(a)}setLink(a){this.link=a}get defaultContext(){return this.queryManager.defaultContext}maskedFragmentTransform=new aY(a_);transform(a,b=!1){let c=this.queryManager.transform(a);return b?this.maskedFragmentTransform.transformDocument(c):c}}let ca={kind:n.FIELD,name:{kind:n.NAME,value:"__typename"}},cb=Object.assign(function(a){return E(a,{SelectionSet:{enter(a,b,c){if(c&&c.kind===n.OPERATION_DEFINITION)return;let{selections:d}=a;if(!(!d||d.some(a=>a.kind===n.FIELD&&("__typename"===a.name.value||0===a.name.value.lastIndexOf("__",0))))&&!(c.kind===n.FIELD&&c.directives&&c.directives.some(a=>"export"===a.name.value)))return{...a,selections:[...d,ca]}}}})},{added:a=>a===ca});function cc(a){return!!(a&&"object"==typeof a&&"string"==typeof a.__ref)}function cd(a,b){let c=b,d=[];return a.definitions.forEach(a=>{if("OperationDefinition"===a.kind)throw R(10,a.operation,a.name?` named '${a.name.value}'`:"");"FragmentDefinition"===a.kind&&d.push(a)}),void 0===c&&(P(1===d.length,11,d.length),c=d[0].name.value),{...a,definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:c}}]}},...a.definitions]}}class ce{assumeImmutableResults=!1;lookupFragment(a){return null}batch(a){let b,c="string"==typeof a.optimistic?a.optimistic:!1===a.optimistic?null:void 0;return this.performTransaction(()=>b=a.update(this),c),b}recordOptimisticTransaction(a,b){this.performTransaction(a,b)}transformDocument(a){return a}transformForLink(a){return a}identify(a){}gc(){return[]}modify(a){return!1}readQuery(a,b=!!a.optimistic){return this.read({...a,rootId:a.id||"ROOT_QUERY",optimistic:b})}watchFragment(a){let b,{fragment:c,fragmentName:d,from:e,optimistic:f=!0,...g}=a,h=this.getFragmentDoc(c,d),i=void 0===e||"string"==typeof e?e:this.identify(e),j={...g,returnPartialData:!0,id:i,query:h,optimistic:f};return new A.Observable(c=>this.watch({...j,immediate:!0,callback:d=>{let e=d.result;if(null===e&&(e={}),b&&bS(h,{data:b.result},{data:e},a.variables))return;let f={data:e,dataState:d.complete?"complete":"partial",complete:!!d.complete};d.missing&&(f.missing=d.missing.missing),b={...d,result:e},c.next(f)}}))}getFragmentDoc=aW(cd,{max:X["cache.fragmentQueryDocuments"]||1e3,cache:ai});readFragment(a,b=!!a.optimistic){return this.read({...a,query:this.getFragmentDoc(a.fragment,a.fragmentName),rootId:a.id,optimistic:b})}writeQuery({id:a,data:b,...c}){return this.write(Object.assign(c,{dataId:a||"ROOT_QUERY",result:b}))}writeFragment({id:a,data:b,fragment:c,fragmentName:d,...e}){return this.write(Object.assign(e,{query:this.getFragmentDoc(c,d),dataId:a,result:b}))}updateQuery(a,b){return this.batch({update(c){let d=c.readQuery(a),e=b(d);return null==e?d:(c.writeQuery({...a,data:e}),e)}})}updateFragment(a,b){return this.batch({update(c){let d=c.readFragment(a),e=b(d);return null==e?d:(c.writeFragment({...a,data:e}),e)}})}}let{hasOwnProperty:cf}=Object.prototype,cg=function(a,b,c){return this.merge(a[c],b[c])};class ch{reconciler;constructor(a=cg){this.reconciler=a}merge(a,b,...c){return bn(b)&&bn(a)?(Object.keys(b).forEach(d=>{if(cf.call(a,d)){let e=a[d];if(b[d]!==e){let f=this.reconciler(a,b,d,...c);f!==e&&((a=this.shallowCopyForMerge(a))[d]=f)}}else(a=this.shallowCopyForMerge(a))[d]=b[d]}),a):b}isObject=bn;pastCopies=new Set;shallowCopyForMerge(a){return bn(a)&&!this.pastCopies.has(a)&&(a=Array.isArray(a)?a.slice(0):{__proto__:Object.getPrototypeOf(a),...a},this.pastCopies.add(a)),a}}function ci(a){return{__ref:String(a)}}let{hasOwnProperty:cj}=Object.prototype;function ck({__typename:a,id:b,_id:c},d){if("string"==typeof a&&(d&&(d.keyObject=null!=b?{id:b}:null!=c?{_id:c}:void 0),null==b&&null!=c&&(b=c),null!=b))return`${a}:${"number"==typeof b||"string"==typeof b?b:JSON.stringify(b)}`}let cl={dataIdFromObject:ck,resultCaching:!0},cm=/^[_a-z][_0-9a-z]*/i;function cn(a){let b=a.match(cm);return b?b[0]:a}function co(a){return bn(a)&&!cc(a)&&!bK(a)}function cp(a,b){let c=bl(bm(a));return{fragmentMap:c,lookupFragment(a){let d=c[a];return!d&&b&&(d=b.lookup(a)),d||null}}}let cq={},cr=()=>cq,cs={};class ct{policies;group;data={};constructor(a,b){this.policies=a,this.group=b}toObject(){return{...this.data}}has(a){return void 0!==this.lookup(a,!0)}get(a,b){if(this.group.depend(a,b),cj.call(this.data,a)){let c=this.data[a];if(c&&cj.call(c,b))return c[b]}return"__typename"===b&&cj.call(this.policies.rootTypenamesById,a)?this.policies.rootTypenamesById[a]:this instanceof cx?this.parent.get(a,b):void 0}lookup(a,b){return(b&&this.group.depend(a,"__exists"),cj.call(this.data,a))?this.data[a]:this instanceof cx?this.parent.lookup(a,b):this.policies.rootTypenamesById[a]?{}:void 0}merge(a,b){let c;cc(a)&&(a=a.__ref),cc(b)&&(b=b.__ref);let d="string"==typeof a?this.lookup(c=a):a,e="string"==typeof b?this.lookup(c=b):b;if(!e)return;P("string"==typeof c,96);let f=new ch(cz).merge(d,e);if(this.data[c]=f,f!==d&&(delete this.refs[c],this.group.caching)){let a={};d||(a.__exists=1),Object.keys(e).forEach(b=>{if(!d||d[b]!==f[b]){a[b]=1;let c=cn(b);c===b||this.policies.hasKeyArgs(f.__typename,c)||(a[c]=1),void 0!==f[b]||this instanceof cx||delete f[b]}}),a.__typename&&!(d&&d.__typename)&&this.policies.rootTypenamesById[c]===f.__typename&&delete a.__typename,Object.keys(a).forEach(a=>this.group.dirty(c,a))}}modify(a,b,c){let d=this.lookup(a);if(d){let e={},f=!1,g=!0,h={DELETE:cq,INVALIDATE:cs,isReference:cc,toReference:this.toReference,canRead:this.canRead,readField:(b,c)=>this.policies.readField("string"==typeof b?{fieldName:b,from:c||ci(a)}:b,{store:this})};if(Object.keys(d).forEach(i=>{let j=cn(i),k=d[i];if(void 0===k)return;let l="function"==typeof b?b:b[i]||(c?void 0:b[j]);if(l){let b=l===cr?cq:l(k,{...h,fieldName:j,storeFieldName:i,storage:this.getStorage(a,i)});if(b===cs)this.group.dirty(a,i);else if(b===cq&&(b=void 0),b!==k&&(e[i]=b,f=!0,k=b,0)){let a=a=>{if(void 0===this.lookup(a.__ref))return!0};if(cc(b))a(b);else if(Array.isArray(b)){let c,d=!1;for(let e of b){if(cc(e)){if(d=!0,a(e))break}else if("object"==typeof e&&e){let[a]=this.policies.identify(e);a&&(c=e)}if(d&&void 0!==c)break}}}}void 0!==k&&(g=!1)}),f)return this.merge(a,e),g&&(this instanceof cx?this.data[a]=void 0:delete this.data[a],this.group.dirty(a,"__exists")),!0}return!1}delete(a,b,c){let d=this.lookup(a);if(d){let e=this.getFieldValue(d,"__typename"),f=b&&c?this.policies.getStoreFieldName({typename:e,fieldName:b,args:c}):b;return this.modify(a,f?{[f]:cr}:cr,!!c)}return!1}evict(a,b){let c=!1;return a.id&&(cj.call(this.data,a.id)&&(c=this.delete(a.id,a.fieldName,a.args)),this instanceof cx&&this!==b&&(c=this.parent.evict(a,b)||c),(a.fieldName||c)&&this.group.dirty(a.id,a.fieldName||"__exists")),c}clear(){this.replace(null)}extract(){let a=this.toObject(),b=[];return this.getRootIdSet().forEach(a=>{cj.call(this.policies.rootTypenamesById,a)||b.push(a)}),b.length&&(a.__META={extraRootIds:b.sort()}),a}replace(a){if(Object.keys(this.data).forEach(b=>{a&&cj.call(a,b)||this.delete(b)}),a){let{__META:b,...c}=a;Object.keys(c).forEach(a=>{this.merge(a,c[a])}),b&&b.extraRootIds.forEach(this.retain,this)}}rootIds={};retain(a){return this.rootIds[a]=(this.rootIds[a]||0)+1}release(a){if(this.rootIds[a]>0){let b=--this.rootIds[a];return b||delete this.rootIds[a],b}return 0}getRootIdSet(a=new Set){return Object.keys(this.rootIds).forEach(a.add,a),this instanceof cx?this.parent.getRootIdSet(a):Object.keys(this.policies.rootTypenamesById).forEach(a.add,a),a}gc(){let a=this.getRootIdSet(),b=this.toObject();a.forEach(c=>{cj.call(b,c)&&(Object.keys(this.findChildRefIds(c)).forEach(a.add,a),delete b[c])});let c=Object.keys(b);if(c.length){let a=this;for(;a instanceof cx;)a=a.parent;c.forEach(b=>a.delete(b))}return c}refs={};findChildRefIds(a){if(!cj.call(this.refs,a)){let b=this.refs[a]={},c=this.data[a];if(!c)return b;let d=new Set([c]);d.forEach(a=>{cc(a)&&(b[a.__ref]=!0),bn(a)&&Object.keys(a).forEach(b=>{let c=a[b];bn(c)&&d.add(c)})})}return this.refs[a]}makeCacheKey(){return this.group.keyMaker.lookupArray(arguments)}getFieldValue=(a,b)=>cc(a)?this.get(a.__ref,b):a&&a[b];canRead=a=>cc(a)?this.has(a.__ref):"object"==typeof a;toReference=(a,b)=>{if("string"==typeof a)return ci(a);if(cc(a))return a;let[c]=this.policies.identify(a);if(c){let d=ci(c);return b&&this.merge(c,a),d}};get supportsResultCaching(){return this.group.caching}}class cu{caching;parent;d=null;keyMaker;constructor(a,b=null){this.caching=a,this.parent=b,this.resetCaching()}resetCaching(){this.d=this.caching?aT():null,this.keyMaker=new ab}depend(a,b){if(this.d){this.d(b+"#"+a);let c=cn(b);c!==b&&this.d(c+"#"+a),this.parent&&this.parent.depend(a,b)}}dirty(a,b){this.d&&this.d.dirty(b+"#"+a,"__exists"===b?"forget":"setDirty")}}function cv(a,b){cA(a)&&a.group.depend(b,"__exists")}class cw extends ct{constructor({policies:a,resultCaching:b=!0,seed:c}){super(a,new cu(b)),c&&this.replace(c)}stump=new cy(this);addLayer(a,b){return this.stump.addLayer(a,b)}removeLayer(){return this}storageTrie=new ab;getStorage(){return this.storageTrie.lookupArray(arguments)}}ct.Root=cw;class cx extends ct{id;parent;replay;group;constructor(a,b,c,d){super(b.policies,d),this.id=a,this.parent=b,this.replay=c,this.group=d,c(this)}addLayer(a,b){return new cx(a,this,b,this.group)}removeLayer(a){let b=this.parent.removeLayer(a);return a===this.id?(this.group.caching&&Object.keys(this.data).forEach(a=>{let c=this.data[a],d=b.lookup(a);d?c?c!==d&&Object.keys(c).forEach(b=>{bg(c[b],d[b])||this.group.dirty(a,b)}):(this.group.dirty(a,"__exists"),Object.keys(d).forEach(b=>{this.group.dirty(a,b)})):this.delete(a)}),b):b===this.parent?this:b.addLayer(this.id,this.replay)}toObject(){return{...this.parent.toObject(),...this.data}}findChildRefIds(a){let b=this.parent.findChildRefIds(a);return cj.call(this.data,a)?{...b,...super.findChildRefIds(a)}:b}getStorage(...a){let b=this.parent;for(;b.parent;)b=b.parent;return b.getStorage(...a)}}class cy extends cx{constructor(a){super("EntityStore.Stump",a,()=>{},new cu(a.group.caching,a.group))}removeLayer(){return this}merge(a,b){return this.parent.merge(a,b)}}function cz(a,b,c){let d=a[c],e=b[c];return bg(d,e)?d:e}function cA(a){return!!(a&&a.supportsResultCaching)}function cB(a,b){if(a.arguments&&a.arguments.length){let c={};return a.arguments.forEach(({name:a,value:d})=>bH(c,a,d,b)),c}return null}let cC=["connection","include","skip","client","rest","export","nonreactive"],cD=a0,cE=Object.assign(function(a,b,c){if(b&&c&&c.connection&&c.connection.key){if(c.connection.filter&&c.connection.filter.length>0){let a=c.connection.filter?c.connection.filter:[];a.sort();let d={};a.forEach(a=>{d[a]=b[a]});let e=cD(d);if("{}"!==e)return`${c.connection.key}(${e})`}return c.connection.key}let d=a;if(b){let a=cD(b);"{}"!==a&&(d+=`(${a})`)}return c&&Object.keys(c).forEach(a=>{-1===cC.indexOf(a)&&(c[a]&&Object.keys(c[a]).length?d+=`@${a}(${cD(c[a])})`:d+=`@${a}`)}),d},{setStringify(a){let b=cD;return cD=a,b}}),cF={};function cG(a){let b=JSON.stringify(a);return cF[b]||(cF[b]={})}function cH(a){let b=cG(a);return b.keyFieldsFn||(b.keyFieldsFn=(b,c)=>{let d=(a,b)=>c.readField(b,a),e=c.keyObject=cJ(a,a=>{let e=cL(c.storeObject,a,d);return void 0===e&&b!==c.storeObject&&cj.call(b,a[0])&&(e=cL(b,a,cK)),P(void 0!==e,99,a.join("."),b),e});return`${c.typename}:${JSON.stringify(e)}`})}function cI(a){let b=cG(a);return b.keyArgsFn||(b.keyArgsFn=(b,{field:c,variables:d,fieldName:e})=>{let f=JSON.stringify(cJ(a,a=>{let e=a[0],f=e.charAt(0);if("@"===f){if(c&&bL(c.directives)){let b=e.slice(1),f=c.directives.find(a=>a.name.value===b),g=f&&cB(f,d);return g&&cL(g,a.slice(1))}return}if("$"===f){let b=e.slice(1);if(d&&cj.call(d,b)){let c=a.slice(0);return c[0]=b,cL(d,c)}return}if(b)return cL(b,a)}));return(b||"{}"!==f)&&(e+=":"+f),e})}function cJ(a,b){let c=new ch;return(function a(b){let c=cG(b);if(!c.paths){let d=c.paths=[],e=[];b.forEach((c,f)=>{bK(c)?(a(c).forEach(a=>d.push(e.concat(a))),e.length=0):(e.push(c),bK(b[f+1])||(d.push(e.slice(0)),e.length=0))})}return c.paths})(a).reduce((a,d)=>{let e=b(d);if(void 0!==e){for(let a=d.length-1;a>=0;--a)e={[d[a]]:e};a=c.merge(a,e)}return a},{})}function cK(a,b){return a[b]}function cL(a,b,c){return c=c||cK,function a(b){return bn(b)?bK(b)?b.map(a):cJ(Object.keys(b).sort(),a=>cL(b,a)):b}(b.reduce(function a(b,d){return bK(b)?b.map(b=>a(b,d)):b&&c(b,d)},a))}let cM=new ax,cN=new WeakMap;function cO(a){let b=cN.get(a);return b||cN.set(a,b={vars:new Set,dep:aT()}),b}function cP(a){cO(a).vars.forEach(b=>b.forgetCache(a))}function cQ(a){let b=new Set,c=new Set,d=function(f){if(arguments.length>0){if(a!==f){a=f,b.forEach(a=>{var b;cO(a).dep.dirty(d),(b=a).broadcastWatches&&b.broadcastWatches()});let e=Array.from(c);c.clear(),e.forEach(b=>b(a))}}else{let a=cM.getValue();a&&(e(a),cO(a).dep(d))}return a};d.onNextChange=a=>(c.add(a),()=>{c.delete(a)});let e=d.attachCache=a=>(b.add(a),cO(a).vars.add(d),d);return d.forgetCache=a=>b.delete(a),d}function cR(a){return void 0!==a.args?a.args:a.field?cB(a.field,a.variables):null}let cS=()=>void 0,cT=(a,b)=>b.fieldName,cU=(a,b,{mergeObjects:c})=>c(a,b),cV=(a,b)=>b;class cW{config;typePolicies={};toBeAdded={};supertypeMap=new Map;fuzzySubtypes=new Map;cache;rootIdsByTypename={};rootTypenamesById={};usingPossibleTypes=!1;constructor(a){this.config=a,this.config={dataIdFromObject:ck,...a},this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),a.possibleTypes&&this.addPossibleTypes(a.possibleTypes),a.typePolicies&&this.addTypePolicies(a.typePolicies)}identify(a,b){let c,d=this,e=b&&(b.typename||b.storeObject?.__typename)||a.__typename;if(e===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];let f=b&&b.storeObject||a,g={...b,typename:e,storeObject:f,readField:b&&b.readField||((...a)=>{let b=cY(a,f);return d.readField(b,{store:d.cache.data,variables:b.variables})})},h=e&&this.getTypePolicy(e),i=h&&h.keyFn||this.config.dataIdFromObject;return bp.withValue(!0,()=>{for(;i;){let b=i({...a,...f},g);if(bK(b))i=cH(b);else{c=b;break}}}),c=c?String(c):void 0,g.keyObject?[c,g.keyObject]:[c]}addTypePolicies(a){Object.keys(a).forEach(b=>{let{queryType:c,mutationType:d,subscriptionType:e,...f}=a[b];c&&this.setRootTypename("Query",b),d&&this.setRootTypename("Mutation",b),e&&this.setRootTypename("Subscription",b),cj.call(this.toBeAdded,b)?this.toBeAdded[b].push(f):this.toBeAdded[b]=[f]})}updateTypePolicy(a,b,c){let d=this.getTypePolicy(a),{keyFields:e,fields:f}=b;function g(a,b){a.merge="function"==typeof b?b:!0===b?cU:!1===b?cV:a.merge}g(d,b.merge),d.keyFn=!1===e?cS:bK(e)?cH(e):"function"==typeof e?e:d.keyFn,f&&Object.keys(f).forEach(b=>{let d=c[b];d&&d?.typename===a||(d=c[b]={typename:a});let e=f[b];if("function"==typeof e)d.read=e;else{let{keyArgs:a,read:b,merge:c}=e;d.keyFn=!1===a?cT:bK(a)?cI(a):"function"==typeof a?a:d.keyFn,"function"==typeof b&&(d.read=b),g(d,c)}d.read&&d.merge&&(d.keyFn=d.keyFn||cT)})}setRootTypename(a,b=a){let c="ROOT_"+a.toUpperCase(),d=this.rootTypenamesById[c];b!==d&&(P(!d||d===a,100,a),d&&delete this.rootIdsByTypename[d],this.rootIdsByTypename[b]=c,this.rootTypenamesById[c]=b)}addPossibleTypes(a){this.usingPossibleTypes=!0,Object.keys(a).forEach(b=>{this.getSupertypeSet(b,!0),a[b].forEach(a=>{this.getSupertypeSet(a,!0).add(b);let c=a.match(cm);c&&c[0]===a||this.fuzzySubtypes.set(a,new RegExp(a))})})}getTypePolicy(a){if(!cj.call(this.typePolicies,a)){let b=this.typePolicies[a]={};b.fields={};let c=this.supertypeMap.get(a);!c&&this.fuzzySubtypes.size&&(c=this.getSupertypeSet(a,!0),this.fuzzySubtypes.forEach((b,d)=>{if(b.test(a)){let a=this.supertypeMap.get(d);a&&a.forEach(a=>c.add(a))}})),c&&c.size&&c.forEach(a=>{let{fields:c,...d}=this.getTypePolicy(a);Object.assign(b,d),Object.assign(b.fields,c)})}let b=this.toBeAdded[a];return b&&b.length&&b.splice(0).forEach(b=>{this.updateTypePolicy(a,b,this.typePolicies[a].fields)}),this.typePolicies[a]}getFieldPolicy(a,b){if(a)return this.getTypePolicy(a).fields[b]}getSupertypeSet(a,b){let c=this.supertypeMap.get(a);return!c&&b&&this.supertypeMap.set(a,c=new Set),c}fragmentMatches(a,b,c,d){if(!a.typeCondition)return!0;if(!b)return!1;let e=a.typeCondition.name.value;if(b===e)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(e)){let f=this.getSupertypeSet(b,!0),g=[f],h=a=>{let b=this.getSupertypeSet(a,!1);b&&b.size&&0>g.indexOf(b)&&g.push(b)},i=!!(c&&this.fuzzySubtypes.size),j=!1;for(let k=0;k<g.length;++k){let l=g[k];if(l.has(e))return f.has(e)||f.add(e),!0;l.forEach(h),i&&k===g.length-1&&function a(b,c,d){return!!bn(c)&&(bK(c)?c.every(c=>a(b,c,d)):b.selections.every(b=>{if(bQ(b)&&bR(b,d)){let e=bo(b);return cj.call(c,e)&&(!b.selectionSet||a(b.selectionSet,c[e],d))}return!0}))}(a.selectionSet,c,d)&&(i=!1,j=!0,this.fuzzySubtypes.forEach((a,c)=>{let d=b.match(a);d&&d[0]===b&&h(c)}))}}return!1}hasKeyArgs(a,b){let c=this.getFieldPolicy(a,b);return!!(c&&c.keyFn)}getStoreFieldName(a){var b,c;let d,e,f,{typename:g,fieldName:h}=a,i=this.getFieldPolicy(g,h),j=i&&i.keyFn;if(j&&g){let b={typename:g,fieldName:h,field:a.field||null,variables:a.variables},c=cR(a);for(;j;){let a=j(c,b);if(bK(a))j=cI(a);else{d=a||h;break}}}return(void 0===d&&(d=a.field?(b=a.field,c=a.variables,e=null,b.directives&&(e={},b.directives.forEach(a=>{e[a.name.value]={},a.arguments&&a.arguments.forEach(({name:b,value:d})=>bH(e[a.name.value],b,d,c))})),f=null,b.arguments&&b.arguments.length&&(f={},b.arguments.forEach(({name:a,value:b})=>bH(f,a,b,c))),cE(b.name.value,f,e)):cE(h,cR(a))),!1===d)?h:h===cn(d)?d:h+":"+d}readField(a,b){let c=a.from;if(!c||!(a.field||a.fieldName))return;if(void 0===a.typename){let d=b.store.getFieldValue(c,"__typename");d&&(a.typename=d)}let d=this.getStoreFieldName(a),e=cn(d),f=b.store.getFieldValue(c,d),g=this.getFieldPolicy(a.typename,e),h=g&&g.read;if(h){let e=cX(this,c,a,b,b.store.getStorage(cc(c)?c.__ref:c,d));return cM.withValue(this.cache,h,[f,e])}return f}getReadFunction(a,b){let c=this.getFieldPolicy(a,b);return c&&c.read}getMergeFunction(a,b,c){let d=this.getFieldPolicy(a,b),e=d&&d.merge;return!e&&c&&(e=(d=this.getTypePolicy(c))&&d.merge),e}runMergeFunction(a,b,{field:c,typename:d,merge:e},f,g){return e===cU?cZ(f.store)(a,b):e===cV?b:(f.overwrite&&(a=void 0),e(a,b,cX(this,void 0,{typename:d,fieldName:c.name.value,field:c,variables:f.variables},f,g||{})))}}function cX(a,b,c,d,e){let f=a.getStoreFieldName(c),g=cn(f),h=c.variables||d.variables,{toReference:i,canRead:j}=d.store;return{args:cR(c),field:c.field||null,fieldName:g,storeFieldName:f,variables:h,isReference:cc,toReference:i,storage:e,cache:a.cache,canRead:j,readField:(...c)=>a.readField(cY(c,b,h),d),mergeObjects:cZ(d.store)}}function cY(a,b,c){let d,{0:e,1:f,length:g}=a;return"string"==typeof e?d={fieldName:e,from:g>1?f:b}:(d={...e},cj.call(d,"from")||(d.from=b)),void 0===d.variables&&(d.variables=c),d}function cZ(a){return function(b,c){if(bK(b)||bK(c))throw R(103);if(bn(b)&&bn(c)){let d=a.getFieldValue(b,"__typename"),e=a.getFieldValue(c,"__typename");if(d&&e&&d!==e)return c;if(cc(b)&&co(c))return a.merge(b.__ref,c),b;if(co(b)&&cc(c))return a.merge(b,c.__ref),c;if(co(b)&&co(c))return{...b,...c}}return c}}class c$ extends Error{message;path;query;variables;constructor(a,b,c,d){if(super(a),this.message=a,this.path=b,this.query=c,this.variables=d,this.name="MissingFieldError",Array.isArray(this.path)){this.missing=this.message;for(let a=this.path.length-1;a>=0;--a)this.missing={[this.path[a]]:this.missing}}else this.missing=this.path;this.__proto__=c$.prototype}missing}function c_(a){return[a.selectionSet,a.objectOrReference,a.context]}class c0{executeSelectionSet;executeSubSelectedArray;config;knownResults=new WeakMap;constructor(a){this.config=a,this.executeSelectionSet=aW(a=>{let b=c_(a),c=this.executeSelectionSet.peek(...b);return c||(cv(a.context.store,a.enclosingRef.__ref),this.execSelectionSetImpl(a))},{max:X["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:c_,makeCacheKey(a,b,c){if(cA(c.store))return c.store.makeCacheKey(a,cc(b)?b.__ref:b,c.varString)}}),this.executeSubSelectedArray=aW(a=>(cv(a.context.store,a.enclosingRef.__ref),this.execSubSelectedArrayImpl(a)),{max:X["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey({field:a,array:b,context:c}){if(cA(c.store))return c.store.makeCacheKey(a,b,c.varString)}})}diffQueryAgainstStore({store:a,query:b,rootId:c="ROOT_QUERY",variables:d,returnPartialData:e=!0}){let f,g,h=this.config.cache.policies;d={...bI((P((f=ao(b))&&"query"===f.operation,13),f)),...d};let i=ci(c),j=this.executeSelectionSet({selectionSet:bP(b).selectionSet,objectOrReference:i,enclosingRef:i,context:{store:a,query:b,policies:h,variables:d,varString:a0(d),...cp(b,this.config.fragments)}});j.missing&&(g=new c$(function(a){try{JSON.stringify(a,(a,b)=>{if("string"==typeof b)throw b;return b})}catch(a){return a}}(j.missing),j.missing,b,d));let k=!g,{result:l}=j;return{result:k||e?0===Object.keys(l).length?null:l:null,complete:k,missing:g}}isFresh(a,b,c,d){if(cA(d.store)&&this.knownResults.get(a)===c){let e=this.executeSelectionSet.peek(c,b,d);if(e&&a===e.result)return!0}return!1}execSelectionSetImpl({selectionSet:a,objectOrReference:b,enclosingRef:c,context:d}){let e;if(cc(b)&&!d.policies.rootTypenamesById[b.__ref]&&!d.store.has(b.__ref))return{result:{},missing:`Dangling reference to missing ${b.__ref} object`};let{variables:f,policies:g,store:h}=d,i=h.getFieldValue(b,"__typename"),j=[],k=new ch;function l(a,b){return a.missing&&(e=k.merge(e,{[b]:a.missing})),a.result}"string"!=typeof i||g.rootIdsByTypename[i]||j.push({__typename:i});let m=new Set(a.selections);m.forEach(a=>{if(bR(a,f))if(bQ(a)){let f=g.readField({fieldName:a.name.value,field:a,variables:d.variables,from:b},d),h=bo(a);void 0===f?cb.added(a)||(e=k.merge(e,{[h]:`Can't find field '${a.name.value}' on ${cc(b)?b.__ref+" object":"object "+JSON.stringify(b,null,2)}`})):bK(f)?f.length>0&&(f=l(this.executeSubSelectedArray({field:a,array:f,enclosingRef:c,context:d}),h)):a.selectionSet&&null!=f&&(f=l(this.executeSelectionSet({selectionSet:a.selectionSet,objectOrReference:f,enclosingRef:cc(f)?f:c,context:d}),h)),void 0!==f&&j.push({[h]:f})}else{let b=bO(a,d.lookupFragment);if(!b&&a.kind===n.FRAGMENT_SPREAD)throw R(104,a.name.value);b&&g.fragmentMatches(b,i)&&b.selectionSet.selections.forEach(m.add,m)}});let o={result:function(a){let b=a[0]||{},c=a.length;if(c>1){let d=new ch;for(let e=1;e<c;++e)b=d.merge(b,a[e])}return b}(j),missing:e};return o.result&&this.knownResults.set(o.result,a),o}execSubSelectedArrayImpl({field:a,array:b,enclosingRef:c,context:d}){let e,f=new ch;function g(a,b){return a.missing&&(e=f.merge(e,{[b]:a.missing})),a.result}return a.selectionSet&&(b=b.filter(d.store.canRead)),{result:b=b.map((b,e)=>null===b?null:bK(b)?g(this.executeSubSelectedArray({field:a,array:b,enclosingRef:c,context:d}),e):a.selectionSet?g(this.executeSelectionSet({selectionSet:a.selectionSet,objectOrReference:b,enclosingRef:cc(b)?b:c,context:d}),e):b),missing:e}}}let{toString:c1}=Object.prototype;function c2(a,b,c){let d=`${b}${c}`,e=a.flavors.get(d);return e||a.flavors.set(d,e=a.clientOnly===b&&a.deferred===c?a:{...a,clientOnly:b,deferred:c}),e}class c3{cache;reader;fragments;constructor(a,b,c){this.cache=a,this.reader=b,this.fragments=c}writeToStore(a,{query:b,result:c,dataId:d,variables:e,overwrite:f}){let g=ao(b),h=new ch,i={store:a,written:{},merge:(a,b)=>h.merge(a,b),variables:e={...bI(g),...e},varString:a0(e),...cp(b,this.fragments),overwrite:!!f,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},j=this.processSelectionSet({result:c||{},dataId:d,selectionSet:g.selectionSet,mergeTree:{map:new Map},context:i});if(!cc(j))throw R(106,c);return i.incomingById.forEach(({storeObject:b,mergeTree:c,fieldNodeSet:d},e)=>{let f=ci(e);if(c&&c.map.size){let a=this.applyMerges(c,f,b,i);if(cc(a))return;b=a}a.merge(e,b)}),a.retain(j.__ref),j}processSelectionSet({dataId:a,result:b,selectionSet:c,context:d,mergeTree:e}){let{policies:f}=this.cache,g={},h=a&&f.rootTypenamesById[a]||c8(b,c,d.fragmentMap)||a&&d.store.get(a,"__typename");"string"==typeof h&&(g.__typename=h);let i=(...a)=>{let b=cY(a,g,d.variables);if(cc(b.from)){let a=d.incomingById.get(b.from.__ref);if(a){let c=f.readField({...b,from:a.storeObject},d);if(void 0!==c)return c}}return f.readField(b,d)},j=new Set;this.flattenFields(c,b,d,h).forEach((a,c)=>{let d=b[bo(c)];if(j.add(c),void 0!==d){let b,j=f.getStoreFieldName({typename:h,fieldName:c.name.value,field:c,variables:a.variables}),k=c5(e,j),l=this.processFieldValue(d,c,c.selectionSet?c2(a,!1,!1):a,k);c.selectionSet&&(cc(l)||co(l))&&(b=i("__typename",l));let m=f.getMergeFunction(h,c.name.value,b);m?k.info={field:c,typename:h,merge:m}:c7(e,j),g=a.merge(g,{[j]:l})}});try{let[e,j]=f.identify(b,{typename:h,selectionSet:c,fragmentMap:d.fragmentMap,storeObject:g,readField:i});a=a||e,j&&(g=d.merge(g,j))}catch(b){if(!a)throw b}if("string"==typeof a){let f=ci(a),h=d.written[a]||(d.written[a]=[]);if(h.indexOf(c)>=0||(h.push(c),this.reader&&this.reader.isFresh(b,f,c,d)))return f;let i=d.incomingById.get(a);return i?(i.storeObject=d.merge(i.storeObject,g),i.mergeTree=function a(b,c){if(b===c||!c||c6(c))return b;if(!b||c6(b))return c;let d=b.info&&c.info?{...b.info,...c.info}:b.info||c.info,e=b.map.size&&c.map.size,f={info:d,map:e?new Map:b.map.size?b.map:c.map};if(e){let d=new Set(c.map.keys());b.map.forEach((b,e)=>{f.map.set(e,a(b,c.map.get(e))),d.delete(e)}),d.forEach(d=>{f.map.set(d,a(c.map.get(d),b.map.get(d)))})}return f}(i.mergeTree,e),j.forEach(a=>i.fieldNodeSet.add(a))):d.incomingById.set(a,{storeObject:g,mergeTree:c6(e)?void 0:e,fieldNodeSet:j}),f}return g}processFieldValue(a,b,c,d){return b.selectionSet&&null!==a?bK(a)?a.map((a,e)=>{let f=this.processFieldValue(a,b,c,c5(d,e));return c7(d,e),f}):this.processSelectionSet({result:a,selectionSet:b.selectionSet,context:c,mergeTree:d}):a}flattenFields(a,b,c,d=c8(b,a,c.fragmentMap)){let e=new Map,{policies:f}=this.cache,g=new ab(!1);return!function a(h,i){let j=g.lookup(h,i.clientOnly,i.deferred);j.visited||(j.visited=!0,h.selections.forEach(g=>{if(!bR(g,c.variables))return;let{clientOnly:h,deferred:j}=i;if(!(h&&j)&&bL(g.directives)&&g.directives.forEach(a=>{let b=a.name.value;if("client"===b&&(h=!0),"defer"===b){let b=cB(a,c.variables);b&&!1===b.if||(j=!0)}}),bQ(g)){let a=e.get(g);a&&(h=h&&a.clientOnly,j=j&&a.deferred),e.set(g,c2(c,h,j))}else{let e=bO(g,c.lookupFragment);if(!e&&g.kind===n.FRAGMENT_SPREAD)throw R(108,g.name.value);e&&f.fragmentMatches(e,d,b,c.variables)&&a(e.selectionSet,c2(c,h,j))}}))}(a,c),e}applyMerges(a,b,c,d,e){if(a.map.size&&!cc(c)){let f,g=!bK(c)&&(cc(b)||co(b))?b:void 0,h=c;g&&!e&&(e=[cc(g)?g.__ref:g]);let i=(a,b)=>bK(a)?"number"==typeof b?a[b]:void 0:d.store.getFieldValue(a,String(b));a.map.forEach((a,b)=>{let c=i(g,b),j=i(h,b);if(void 0===j)return;e&&e.push(b);let k=this.applyMerges(a,c,j,d,e);k!==j&&(f=f||new Map).set(b,k),e&&P(e.pop()===b)}),f&&(c=bK(h)?h.slice(0):{...h},f.forEach((a,b)=>{c[b]=a}))}return a.info?this.cache.policies.runMergeFunction(b,c,a.info,d,e&&d.store.getStorage(...e)):c}}let c4=[];function c5({map:a},b){return a.has(b)||a.set(b,c4.pop()||{map:new Map}),a.get(b)}function c6(a){return!a||!(a.info||a.map.size)}function c7({map:a},b){let c=a.get(b);c&&c6(c)&&(c4.push(c),a.delete(b))}function c8(a,b,c){let d;for(let c of b.selections)if(bQ(c)){if("__typename"===c.name.value)return a[bo(c)]}else d?d.push(c):d=[c];if("string"==typeof a.__typename)return a.__typename;if(d)for(let b of d){let d=c8(a,bO(b,c).selectionSet,c);if("string"==typeof d)return d}}class c9 extends ce{data;optimisticData;config;watches=new Set;storeReader;storeWriter;addTypenameTransform=new aY(cb);maybeBroadcastWatch;assumeImmutableResults=!0;policies;makeVar=cQ;constructor(a={}){super(),this.config=aZ(cl,a),this.policies=new cW({cache:this,dataIdFromObject:this.config.dataIdFromObject,possibleTypes:this.config.possibleTypes,typePolicies:this.config.typePolicies}),this.init()}init(){let a=this.data=new ct.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=a.stump,this.resetResultCache()}resetResultCache(){let{fragments:a}=this.config;this.addTypenameTransform.resetCache(),a?.resetCaches(),this.storeWriter=new c3(this,this.storeReader=new c0({cache:this,fragments:a}),a),this.maybeBroadcastWatch=aW((a,b)=>this.broadcastWatch(a,b),{max:X["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:a=>{let b=a.optimistic?this.optimisticData:this.data;if(cA(b)){let{optimistic:c,id:d,variables:e}=a;return b.makeCacheKey(a.query,a.callback,a0({optimistic:c,id:d,variables:e}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(a=>a.resetCaching())}restore(a){return this.init(),a&&this.data.replace(a),this}extract(a=!1){return(a?this.optimisticData:this.data).extract()}read(a){let{returnPartialData:b=!1}=a;return this.storeReader.diffQueryAgainstStore({...a,store:a.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:b}).result}write(a){try{return++this.txCount,this.storeWriter.writeToStore(this.data,a)}finally{--this.txCount||!1===a.broadcast||this.broadcastWatches()}}modify(a){if(cj.call(a,"id")&&!a.id)return!1;let b=a.optimistic?this.optimisticData:this.data;try{return++this.txCount,b.modify(a.id||"ROOT_QUERY",a.fields,!1)}finally{--this.txCount||!1===a.broadcast||this.broadcastWatches()}}diff(a){return this.storeReader.diffQueryAgainstStore({...a,store:a.optimistic?this.optimisticData:this.data,rootId:a.id||"ROOT_QUERY",config:this.config})}watch(a){var b;return this.watches.size||(b=this,cO(b).vars.forEach(a=>a.attachCache(b))),this.watches.add(a),a.immediate&&this.maybeBroadcastWatch(a),()=>{this.watches.delete(a)&&!this.watches.size&&cP(this),this.maybeBroadcastWatch.forget(a)}}gc(a){a0.reset(),bF.reset();let b=this.optimisticData.gc();return a&&!this.txCount&&a.resetResultCache&&this.resetResultCache(),b}retain(a,b){return(b?this.optimisticData:this.data).retain(a)}release(a,b){return(b?this.optimisticData:this.data).release(a)}identify(a){if(cc(a))return a.__ref;try{return this.policies.identify(a)[0]}catch(a){}}evict(a){if(!a.id){if(cj.call(a,"id"))return!1;a={...a,id:"ROOT_QUERY"}}try{return++this.txCount,this.optimisticData.evict(a,this.data)}finally{--this.txCount||!1===a.broadcast||this.broadcastWatches()}}reset(a){return this.init(),a0.reset(),a&&a.discardWatches?(this.watches.forEach(a=>this.maybeBroadcastWatch.forget(a)),this.watches.clear(),cP(this)):this.broadcastWatches(),Promise.resolve()}removeOptimistic(a){let b=this.optimisticData.removeLayer(a);b!==this.optimisticData&&(this.optimisticData=b,this.broadcastWatches())}txCount=0;batch(a){let b,{update:c,optimistic:d=!0,removeOptimistic:e,onWatchUpdated:f}=a,g=a=>{let{data:d,optimisticData:e}=this;++this.txCount,a&&(this.data=this.optimisticData=a);try{return b=c(this)}finally{--this.txCount,this.data=d,this.optimisticData=e}},h=new Set;return f&&!this.txCount&&this.broadcastWatches({...a,onWatchUpdated:a=>(h.add(a),!1)}),"string"==typeof d?this.optimisticData=this.optimisticData.addLayer(d,g):!1===d?g(this.data):g(),"string"==typeof e&&(this.optimisticData=this.optimisticData.removeLayer(e)),f&&h.size?(this.broadcastWatches({...a,onWatchUpdated(a,b){let c=f.call(this,a,b);return!1!==c&&h.delete(a),c}}),h.size&&h.forEach(a=>this.maybeBroadcastWatch.dirty(a))):this.broadcastWatches(a),b}performTransaction(a,b){return this.batch({update:a,optimistic:b||null!==b})}transformDocument(a){return this.addTypenameTransform.transformDocument(this.addFragmentsToDocument(a))}fragmentMatches(a,b){return this.policies.fragmentMatches(a,b)}lookupFragment(a){return this.config.fragments?.lookup(a)||null}broadcastWatches(a){this.txCount||this.watches.forEach(b=>this.maybeBroadcastWatch(b,a))}addFragmentsToDocument(a){let{fragments:b}=this.config;return b?b.transform(a):a}broadcastWatch(a,b){let{lastDiff:c}=a,d=this.diff(a);(!b||(a.optimistic&&"string"==typeof b.optimistic&&(d.fromOptimisticTransaction=!0),!b.onWatchUpdated||!1!==b.onWatchUpdated.call(this,a,d,c)))&&(c&&bg(c.result,d.result)||a.callback(a.lastDiff=d,c))}}class da extends ap{constructor(a={}){super((b,c)=>{let d=b.client,e=d.queryManager.clientOptions,f=b.getContext();{let{name:c,version:d,transport:g="headers"}=aZ({},e.clientAwareness,a.clientAwareness,f.clientAwareness);"headers"===g&&b.setContext(({headers:a,extensions:b})=>({headers:aZ({"apollographql-client-name":c,"apollographql-client-version":d},a)}))}{let{transport:c="extensions"}=aZ({},e.enhancedClientAwareness,a.enhancedClientAwareness);"extensions"===c&&(b.extensions=aZ({clientLibrary:{name:"@apollo/client",version:d.version}},b.extensions))}return c(b)})}}function db(a,b){return ao(a)?.operation===b}class dc extends Error{static is(a){return a3(a,"ServerError")}response;statusCode;bodyText;constructor(a,b){super(a),this.name="ServerError",this.response=b.response,this.statusCode=b.response.status,this.bodyText=b.bodyText,a4(this),Object.setPrototypeOf(this,dc.prototype)}}class dd extends Error{static is(a){return a3(a,"ServerParseError")}response;statusCode;bodyText;constructor(a,b){super(a instanceof Error?a.message:"Could not parse server response",{cause:a}),this.name="ServerParseError",this.response=b.response,this.statusCode=b.response.status,this.bodyText=b.bodyText,a4(this),Object.setPrototypeOf(this,dd.prototype)}}let{hasOwnProperty:de}=Object.prototype;async function*df(a){let b,c=new TextDecoder("utf-8"),d=a.headers?.get("content-type"),e=d?.match(/;\s*boundary=(?:'([^']+)'|"([^"]+)"|([^"'].+?))\s*(?:;|$)/i),f="\r\n--"+(e?e[1]??e[2]??e[3]??"-":"-"),g="";P(a.body&&"function"==typeof a.body.getReader,60);let h=a.body.getReader(),i=!1,j=!1,k=()=>j&&"-"==g[0]&&"-"==g[1];try{for(;!i;){({value:b,done:i}=await h.read());let a="string"==typeof b?b:c.decode(b),d=g.length-f.length+1,e=(g+=a).indexOf(f,d);for(;e>-1&&!k();){let a;j=!0,[a,g]=[g.slice(0,e),g.slice(e+f.length)];let b=a.indexOf("\r\n\r\n"),c=function(a){let b={};return a.split("\n").forEach(a=>{let c=a.indexOf(":");if(c>-1){let d=a.slice(0,c).trim().toLowerCase(),e=a.slice(c+1).trim();b[d]=e}}),b}(a.slice(0,b))["content-type"];if(c&&-1===c.toLowerCase().indexOf("application/json"))throw Error("Unsupported patch content type: application/json is required.");let d=a.slice(b);d&&(yield d),e=g.indexOf(f)}if(k())return}throw Error("premature end of multipart body")}finally{h.cancel()}}async function dg(a,b){for await(let c of df(a)){let d=dh(a,c);if(0!=Object.keys(d).length)if(bn(d)&&"payload"in d){if(1===Object.keys(d).length&&null===d.payload)return;let a={...d.payload};"errors"in d&&(a.extensions={...a.extensions,[ba]:new a8(d.errors??[])}),b(a)}else b(d)}}function dh(a,b){if(a.status>=300)throw new dc(`Response not successful: Received status code ${a.status}`,{response:a,bodyText:b});try{return JSON.parse(b)}catch(c){throw new dd(c,{response:a,bodyText:b})}}let di={http:{includeQuery:!0,includeExtensions:!0,preserveHeaderCase:!1},headers:{accept:"application/graphql-response+json,application/json;q=0.9","content-type":"application/json"},options:{method:"POST"}},dj=(a,b)=>b(a),dk=G(()=>fetch);function dl(){}class dm extends ap{constructor(a={}){let{uri:b="/graphql",fetch:c,print:d=dj,includeExtensions:e,preserveHeaderCase:f,useGETForQueries:g,includeUnusedVariables:h=!1,...i}=a;const j={http:aZ({includeExtensions:e,preserveHeaderCase:f}),options:i.fetchOptions,credentials:i.credentials,headers:i.headers};super(a=>{var e,f;let i,k,l,m=(i=a.getContext().uri)||("function"==typeof b?b(a):b||"/graphql"),n=a.getContext(),o={...n.http};db(a.query,"subscription")&&(o.accept=["multipart/mixed;boundary=graphql;subscriptionSpec=1.0",...o.accept||[]]);let{options:p,body:q}=function(a,b,...c){let d={},e={};c.forEach(a=>{d={...d,...a.options,headers:{...d.headers,...a.headers}},a.credentials&&(d.credentials=a.credentials),d.headers.accept=(a.http?.accept||[]).concat(d.headers.accept).join(","),e={...e,...a.http}}),d.headers=function(a,b){if(!b){let b={};return Object.keys(Object(a)).forEach(c=>{b[c.toLowerCase()]=a[c]}),b}let c={};Object.keys(Object(a)).forEach(b=>{c[b.toLowerCase()]={originalName:b,value:a[b]}});let d={};return Object.keys(c).forEach(a=>{d[c[a].originalName]=c[a].value}),d}(d.headers,e.preserveHeaderCase);let{operationName:f,extensions:g,variables:h,query:i}=a,j={operationName:f,variables:h};return e.includeExtensions&&Object.keys(g||{}).length&&(j.extensions=g),e.includeQuery&&(j.query=b(i,bF)),{options:d,body:j}}(a,d,di,j,{http:o,options:n.fetchOptions,credentials:n.credentials,headers:n.headers});q.variables&&!h&&(e=q.variables,f=a.query,k={...e},l=new Set(Object.keys(e)),E(f,{Variable(a,b,c){c&&"VariableDefinition"!==c.kind&&l.delete(a.name.value)}}),l.forEach(a=>{delete k[a]}),q.variables=k);let r=new AbortController,s=()=>{r=void 0};if(p.signal){let a=p.signal,b=()=>{r?.abort(a.reason)};a.addEventListener("abort",b,{once:!0}),s=()=>{r?.signal.removeEventListener("abort",s),r=void 0,a.removeEventListener("abort",b),s=dl},r.signal.addEventListener("abort",s,{once:!0})}return p.signal=r.signal,g&&!db(a.query,"mutation")&&(p.method="GET"),new A.Observable(b=>{if("GET"===p.method){let{newURI:a,parseError:b}=function(a,b){let c=[],d=(a,b)=>{c.push(`${a}=${encodeURIComponent(b)}`)};if("query"in b&&d("query",b.query),b.operationName&&d("operationName",b.operationName),b.variables){let a;try{a=JSON.stringify(b.variables)}catch(a){return{parseError:a}}d("variables",a)}if(b.extensions){let a;try{a=JSON.stringify(b.extensions)}catch(a){return{parseError:a}}d("extensions",a)}let e="",f=a,g=a.indexOf("#");-1!==g&&(e=a.substr(g),f=a.substr(0,g));let h=-1===f.indexOf("?")?"?":"&";return{newURI:f+h+c.join("&")+e}}(m,q);if(b)throw b;m=a}else p.body=JSON.stringify(q);let d=c||G(()=>fetch)||dk,e=b.next.bind(b);return d(m,p).then(b=>{a.setContext({response:b});let c=b.headers?.get("content-type");return null!==c&&/^multipart\/mixed/i.test(c)?dg(b,e):(b=>b.text().then(c=>{let d=function(a,b){let c=a.headers.get("content-type");if(c?.includes("application/graphql-response+json"))try{return JSON.parse(b)}catch(c){throw new dd(c,{response:a,bodyText:b})}return dh(a,b)}(b,c);if(!Array.isArray(d)&&!de.call(d,"data")&&!de.call(d,"errors"))throw new dc(`Server response was malformed for query '${Array.isArray(a)?a.map(a=>a.operationName):a.operationName}'.`,{response:b,bodyText:c});return d}))(b).then(e)}).then(()=>{s(),b.complete()}).catch(a=>{s(),b.error(a)}),()=>{r&&r.abort()}})})}}class dn extends ap{constructor(a={}){const{left:b,right:c,request:d}=ap.from([new da(a),new dm(a)]);super(d),Object.assign(this,{left:b,right:c})}}let dp=Symbol.for("apollo.skipToken");function dq(a,b){let c=s.useRef(void 0);return c.current&&bg(c.current.deps,b)||(c.current={value:a(),deps:b}),c.current.value}let dr=Symbol.for("apollo.hook.wrappers"),ds=Symbol.for("__APOLLO_CONTEXT__");function dt(){P("createContext"in s,37);let a=s.createContext[ds];return a||(Object.defineProperty(s.createContext,ds,{value:a=s.createContext({}),enumerable:!1,writable:!1,configurable:!0}),a.displayName="ApolloContext"),a}function du(a){let b=s.useContext(dt()),c=a||b.client;return P(!!c,28),c}let dv="function"==typeof G(()=>window.document.createElement),dw=s.useSyncExternalStore,dx="ReactNative"==G(()=>navigator.product),dy=G(()=>navigator.userAgent.indexOf("jsdom")>=0)||!1,dz=(dv||dx)&&!dy,dA=dw||((a,b,c)=>{let d=b(),[{inst:e},f]=s.useState({inst:{value:d,getSnapshot:b}});return dz?s.useLayoutEffect(()=>{Object.assign(e,{value:d,getSnapshot:b}),dB(e)&&f({inst:e})},[a,d,b]):Object.assign(e,{value:d,getSnapshot:b}),s.useEffect(()=>(dB(e)&&f({inst:e}),a(function(){dB(e)&&f({inst:e})})),[a]),d});function dB({value:a,getSnapshot:b}){try{return a!==b()}catch{return!0}}let dC=Symbol();function dD(a,...[b]){return(function(a,b,c){let d=[c.queryManager,a.startsWith("use")?s.useContext(dt()):void 0],e=b;for(let b of d){let c=b?.[dr]?.[a];c&&(e=c(e))}return e})("useQuery",dE,du("object"==typeof b?b.client:void 0))(a,b)}function dE(a,b={}){var c,d,e,f,g,h,i,j;let k=du("object"==typeof b?b.client:void 0),{ssr:l}="object"==typeof b?b:{},m=dq(()=>{if(d===dp){let a={...a$(e,{query:c,fetchPolicy:"standby"}),[bW]:!0};return a[dF]=!0,a}let a=a$(e,{...d,query:c});return d.skip&&(a.initialFetchPolicy=d.initialFetchPolicy||d.fetchPolicy,a.fetchPolicy="standby"),a},[c=a,d=b,e=k.defaultOptions.watchQuery]);function n(b){let c=k.watchQuery(m);return{client:k,query:a,observable:c,resultData:{current:c.getCurrentResult(),previousData:b?.resultData.current.data,variables:c.variables}}}let[o,p]=s.useState(n);(k!==o.client||a!==o.query)&&p(o=n(o));let{observable:q,resultData:r}=o;f=m,g=q,f.fetchPolicy||(f.fetchPolicy=g.options.initialFetchPolicy),function(a,b,c){if(b[dC]&&!bg(b[dC],c)){var d,e;b[dC][dF]&&!c.initialFetchPolicy&&(c.initialFetchPolicy=c.fetchPolicy),(d=b[dC],e=c,d.query===e.query&&bg(d.variables,e.variables)&&(d.fetchPolicy===e.fetchPolicy||"standby"!==e.fetchPolicy&&"standby"!==d.fetchPolicy))?b.applyOptions(c):b.reobserve(c);let f=b.getCurrentResult();bg(f.data,a.current.data)||(a.previousData=a.current.data||a.previousData),a.current=f,a.variables=b.variables}b[dC]=c}(r,q,m);let t=(h=q,i=r,j=l,dA(s.useCallback(a=>{let b=h.pipe((0,A.observeOn)(A.asapScheduler)).subscribe(b=>{let c=i.current;bg(c,b)&&bg(i.variables,h.variables)||(i.variables=h.variables,c.data&&!bg(c.data,b.data)&&(i.previousData=c.data),i.current=b,a())});return()=>{setTimeout(()=>b.unsubscribe())}},[h,i]),()=>i.current,()=>!1===j?dD.ssrDisabledResult:i.current)),u=s.useMemo(()=>({refetch:q.refetch.bind(q),fetchMore:q.fetchMore.bind(q),updateQuery:q.updateQuery.bind(q),startPolling:q.startPolling.bind(q),stopPolling:q.stopPolling.bind(q),subscribeToMore:q.subscribeToMore.bind(q)}),[q]),v=r.previousData;return s.useMemo(()=>{let{partial:a,...b}=t;return{...b,client:k,observable:q,variables:q.variables,previousData:v,...u}},[t,k,q,v,u])}let dF=Symbol();dD.ssrDisabledResult={loading:!0,data:void 0,dataState:"empty",error:void 0,networkStatus:o.loading,partial:!0};let dG=dv?s.useLayoutEffect:s.useEffect;function dH(a,b){let c=du(b?.client),[d,e]=s.useState(()=>dI(c)),f=s.useRef({result:d,mutationId:0,isMounted:!0,client:c,mutation:a,options:b});dG(()=>{Object.assign(f.current,{client:c,options:b,mutation:a})});let g=s.useCallback((a={})=>{let{options:b,mutation:c}=f.current,d={...b,mutation:c},g=a.client||f.current.client;!f.current.result.loading&&f.current.isMounted&&e(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:g});let h=++f.current.mutationId,i=a$(d,a);return bV(g.mutate(i).then(b=>{let{data:c,error:d}=b,j=a.onError||f.current.options?.onError;if(d&&j&&j(d,i),h===f.current.mutationId){let a={called:!0,loading:!1,data:c,error:d,client:g};f.current.isMounted&&!bg(f.current.result,a)&&e(f.current.result=a)}let k=a.onCompleted||f.current.options?.onCompleted;return d||k?.(b.data,i),b},b=>{if(h===f.current.mutationId&&f.current.isMounted){let a={loading:!1,error:b,data:void 0,called:!0,client:g};bg(f.current.result,a)||e(f.current.result=a)}let c=a.onError||f.current.options?.onError;throw c&&c(b,i),b}))},[]),h=s.useCallback(()=>{if(f.current.isMounted){let a=dI(f.current.client);Object.assign(f.current,{mutationId:0,result:a}),e(a)}},[]);return s.useEffect(()=>{let a=f.current;return a.isMounted=!0,()=>{a.isMounted=!1}},[]),[g,{reset:h,...d}]}function dI(a){return{data:void 0,error:void 0,called:!1,loading:!1,client:a}}var dJ=function(){return(dJ=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;let dK=/\r\n|[\n\r]/g;function dL(a,b){let c=0,d=1;for(let e of a.body.matchAll(dK)){if("number"==typeof e.index||function(a,b){if(!a)throw Error("Unexpected invariant triggered.")}(!1),e.index>=b)break;c=e.index+e[0].length,d+=1}return{line:d,column:b+1-c}}function dM(a,b){let c=a.locationOffset.column-1,d="".padStart(c)+a.body,e=b.line-1,f=a.locationOffset.line-1,g=b.line+f,h=1===b.line?c:0,i=b.column+h,j=`${a.name}:${g}:${i}
`,k=d.split(/\r\n|[\n\r]/g),l=k[e];if(l.length>120){let a=Math.floor(i/80),b=[];for(let a=0;a<l.length;a+=80)b.push(l.slice(a,a+80));return j+dN([[`${g} |`,b[0]],...b.slice(1,a+1).map(a=>["|",a]),["|","^".padStart(i%80)],["|",b[a+1]]])}return j+dN([[`${g-1} |`,k[e-1]],[`${g} |`,l],["|","^".padStart(i)],[`${g+1} |`,k[e+1]]])}function dN(a){let b=a.filter(([a,b])=>void 0!==b),c=Math.max(...b.map(([a])=>a.length));return b.map(([a,b])=>a.padStart(c)+(b?" "+b:"")).join("\n")}class dO extends Error{constructor(a,...b){var c,d,e;const{nodes:f,source:g,positions:h,path:i,originalError:j,extensions:k}=function(a){let b=a[0];return null==b||"kind"in b||"length"in b?{nodes:b,source:a[1],positions:a[2],path:a[3],originalError:a[4],extensions:a[5]}:b}(b);super(a),this.name="GraphQLError",this.path=null!=i?i:void 0,this.originalError=null!=j?j:void 0,this.nodes=dP(Array.isArray(f)?f:f?[f]:void 0);const l=dP(null==(c=this.nodes)?void 0:c.map(a=>a.loc).filter(a=>null!=a));this.source=null!=g?g:null==l||null==(d=l[0])?void 0:d.source,this.positions=null!=h?h:null==l?void 0:l.map(a=>a.start),this.locations=h&&g?h.map(a=>dL(g,a)):null==l?void 0:l.map(a=>dL(a.source,a.start));const m=!function(a){return"object"==typeof a&&null!==a}(null==j?void 0:j.extensions)||null==j?void 0:j.extensions;this.extensions=null!=(e=null!=k?k:m)?e:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=j&&j.stack?Object.defineProperty(this,"stack",{value:j.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,dO):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let a=this.message;if(this.nodes)for(let c of this.nodes){var b;c.loc&&(a+="\n\n"+dM((b=c.loc).source,dL(b.source,b.start)))}else if(this.source&&this.locations)for(let b of this.locations)a+="\n\n"+dM(this.source,b);return a}toJSON(){let a={message:this.message};return null!=this.locations&&(a.locations=this.locations),null!=this.path&&(a.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(a.extensions=this.extensions),a}}function dP(a){return void 0===a||0===a.length?void 0:a}function dQ(a,b,c){return new dO(`Syntax Error: ${c}`,{source:a,positions:[b]})}(j=p||(p={})).QUERY="QUERY",j.MUTATION="MUTATION",j.SUBSCRIPTION="SUBSCRIPTION",j.FIELD="FIELD",j.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",j.FRAGMENT_SPREAD="FRAGMENT_SPREAD",j.INLINE_FRAGMENT="INLINE_FRAGMENT",j.VARIABLE_DEFINITION="VARIABLE_DEFINITION",j.SCHEMA="SCHEMA",j.SCALAR="SCALAR",j.OBJECT="OBJECT",j.FIELD_DEFINITION="FIELD_DEFINITION",j.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",j.INTERFACE="INTERFACE",j.UNION="UNION",j.ENUM="ENUM",j.ENUM_VALUE="ENUM_VALUE",j.INPUT_OBJECT="INPUT_OBJECT",j.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",(k=q||(q={})).SOF="<SOF>",k.EOF="<EOF>",k.BANG="!",k.DOLLAR="$",k.AMP="&",k.PAREN_L="(",k.PAREN_R=")",k.DOT=".",k.SPREAD="...",k.COLON=":",k.EQUALS="=",k.AT="@",k.BRACKET_L="[",k.BRACKET_R="]",k.BRACE_L="{",k.PIPE="|",k.BRACE_R="}",k.NAME="Name",k.INT="Int",k.FLOAT="Float",k.STRING="String",k.BLOCK_STRING="BlockString",k.COMMENT="Comment";class dR{constructor(a){const b=new w(q.SOF,0,0,0,0);this.source=a,this.lastToken=b,this.token=b,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let a=this.token;if(a.kind!==q.EOF)do if(a.next)a=a.next;else{let b=function(a,b){let c=a.source.body,d=c.length,e=b;for(;e<d;){let b=c.charCodeAt(e);switch(b){case 65279:case 9:case 32:case 44:++e;continue;case 10:++e,++a.line,a.lineStart=e;continue;case 13:10===c.charCodeAt(e+1)?e+=2:++e,++a.line,a.lineStart=e;continue;case 35:return function(a,b){let c=a.source.body,d=c.length,e=b+1;for(;e<d;){let a=c.charCodeAt(e);if(10===a||13===a)break;if(dS(a))++e;else if(dT(c,e))e+=2;else break}return dX(a,q.COMMENT,b,e,c.slice(b+1,e))}(a,e);case 33:return dX(a,q.BANG,e,e+1);case 36:return dX(a,q.DOLLAR,e,e+1);case 38:return dX(a,q.AMP,e,e+1);case 40:return dX(a,q.PAREN_L,e,e+1);case 41:return dX(a,q.PAREN_R,e,e+1);case 46:if(46===c.charCodeAt(e+1)&&46===c.charCodeAt(e+2))return dX(a,q.SPREAD,e,e+3);break;case 58:return dX(a,q.COLON,e,e+1);case 61:return dX(a,q.EQUALS,e,e+1);case 64:return dX(a,q.AT,e,e+1);case 91:return dX(a,q.BRACKET_L,e,e+1);case 93:return dX(a,q.BRACKET_R,e,e+1);case 123:return dX(a,q.BRACE_L,e,e+1);case 124:return dX(a,q.PIPE,e,e+1);case 125:return dX(a,q.BRACE_R,e,e+1);case 34:if(34===c.charCodeAt(e+1)&&34===c.charCodeAt(e+2))return function(a,b){let c=a.source.body,d=c.length,e=a.lineStart,f=b+3,g=f,h="",i=[];for(;f<d;){let d=c.charCodeAt(f);if(34===d&&34===c.charCodeAt(f+1)&&34===c.charCodeAt(f+2)){h+=c.slice(g,f),i.push(h);let d=dX(a,q.BLOCK_STRING,b,f+3,(function(a){var b,c;let d=Number.MAX_SAFE_INTEGER,e=null,f=-1;for(let b=0;b<a.length;++b){let g=a[b],h=function(a){let b=0;for(;b<a.length&&bs(a.charCodeAt(b));)++b;return b}(g);h!==g.length&&(e=null!=(c=e)?c:b,f=b,0!==b&&h<d&&(d=h))}return a.map((a,b)=>0===b?a:a.slice(d)).slice(null!=(b=e)?b:0,f+1)})(i).join("\n"));return a.line+=i.length-1,a.lineStart=e,d}if(92===d&&34===c.charCodeAt(f+1)&&34===c.charCodeAt(f+2)&&34===c.charCodeAt(f+3)){h+=c.slice(g,f),g=f+1,f+=4;continue}if(10===d||13===d){h+=c.slice(g,f),i.push(h),13===d&&10===c.charCodeAt(f+1)?f+=2:++f,h="",g=f,e=f;continue}if(dS(d))++f;else if(dT(c,f))f+=2;else throw dQ(a.source,f,`Invalid character within String: ${dW(a,f)}.`)}throw dQ(a.source,f,"Unterminated string.")}(a,e);return function(a,b){let c=a.source.body,d=c.length,e=b+1,f=e,g="";for(;e<d;){let d=c.charCodeAt(e);if(34===d)return g+=c.slice(f,e),dX(a,q.STRING,b,e+1,g);if(92===d){g+=c.slice(f,e);let b=117===c.charCodeAt(e+1)?123===c.charCodeAt(e+2)?function(a,b){let c=a.source.body,d=0,e=3;for(;e<12;){let a=c.charCodeAt(b+e++);if(125===a){if(e<5||!dS(d))break;return{value:String.fromCodePoint(d),size:e}}if((d=d<<4|d$(a))<0)break}throw dQ(a.source,b,`Invalid Unicode escape sequence: "${c.slice(b,b+e)}".`)}(a,e):function(a,b){let c=a.source.body,d=dZ(c,b+2);if(dS(d))return{value:String.fromCodePoint(d),size:6};if(dU(d)&&92===c.charCodeAt(b+6)&&117===c.charCodeAt(b+7)){let a=dZ(c,b+8);if(dV(a))return{value:String.fromCodePoint(d,a),size:12}}throw dQ(a.source,b,`Invalid Unicode escape sequence: "${c.slice(b,b+6)}".`)}(a,e):function(a,b){let c=a.source.body;switch(c.charCodeAt(b+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw dQ(a.source,b,`Invalid character escape sequence: "${c.slice(b,b+2)}".`)}(a,e);g+=b.value,e+=b.size,f=e;continue}if(10===d||13===d)break;if(dS(d))++e;else if(dT(c,e))e+=2;else throw dQ(a.source,e,`Invalid character within String: ${dW(a,e)}.`)}throw dQ(a.source,e,"Unterminated string.")}(a,e)}if(bt(b)||45===b)return function(a,b,c){let d=a.source.body,e=b,f=c,g=!1;if(45===f&&(f=d.charCodeAt(++e)),48===f){if(bt(f=d.charCodeAt(++e)))throw dQ(a.source,e,`Invalid number, unexpected digit after 0: ${dW(a,e)}.`)}else e=dY(a,e,f),f=d.charCodeAt(e);if(46===f&&(g=!0,f=d.charCodeAt(++e),e=dY(a,e,f),f=d.charCodeAt(e)),(69===f||101===f)&&(g=!0,(43===(f=d.charCodeAt(++e))||45===f)&&(f=d.charCodeAt(++e)),e=dY(a,e,f),f=d.charCodeAt(e)),46===f||bv(f))throw dQ(a.source,e,`Invalid number, expected digit but got: ${dW(a,e)}.`);return dX(a,g?q.FLOAT:q.INT,b,e,d.slice(b,e))}(a,e,b);if(bv(b))return function(a,b){let c=a.source.body,d=c.length,e=b+1;for(;e<d;){var f;if(bu(f=c.charCodeAt(e))||bt(f)||95===f)++e;else break}return dX(a,q.NAME,b,e,c.slice(b,e))}(a,e);throw dQ(a.source,e,39===b?"Unexpected single quote character ('), did you mean to use a double quote (\")?":dS(b)||dT(c,e)?`Unexpected character: ${dW(a,e)}.`:`Invalid character: ${dW(a,e)}.`)}return dX(a,q.EOF,d,d)}(this,a.end);a.next=b,b.prev=a,a=b}while(a.kind===q.COMMENT)return a}}function dS(a){return a>=0&&a<=55295||a>=57344&&a<=1114111}function dT(a,b){return dU(a.charCodeAt(b))&&dV(a.charCodeAt(b+1))}function dU(a){return a>=55296&&a<=56319}function dV(a){return a>=56320&&a<=57343}function dW(a,b){let c=a.source.body.codePointAt(b);if(void 0===c)return q.EOF;if(c>=32&&c<=126){let a=String.fromCodePoint(c);return'"'===a?"'\"'":`"${a}"`}return"U+"+c.toString(16).toUpperCase().padStart(4,"0")}function dX(a,b,c,d,e){let f=a.line,g=1+c-a.lineStart;return new w(b,c,d,f,g,e)}function dY(a,b,c){if(!bt(c))throw dQ(a.source,b,`Invalid number, expected digit but got: ${dW(a,b)}.`);let d=a.source.body,e=b+1;for(;bt(d.charCodeAt(e));)++e;return e}function dZ(a,b){return d$(a.charCodeAt(b))<<12|d$(a.charCodeAt(b+1))<<8|d$(a.charCodeAt(b+2))<<4|d$(a.charCodeAt(b+3))}function d$(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:-1}let d_=globalThis.process&&1?function(a,b){return a instanceof b}:function(a,b){if(a instanceof b)return!0;if("object"==typeof a&&null!==a){var c;let d=b.prototype[Symbol.toStringTag];if(d===(Symbol.toStringTag in a?a[Symbol.toStringTag]:null==(c=a.constructor)?void 0:c.name)){let b=C(a,[]);throw Error(`Cannot use ${d} "${b}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class d0{constructor(a,b="GraphQL request",c={line:1,column:1}){"string"==typeof a||B(!1,`Body must be a string. Received: ${C(a,[])}.`),this.body=a,this.name=b,this.locationOffset=c,this.locationOffset.line>0||B(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||B(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class d1{constructor(a,b={}){const{lexer:c,...d}=b;if(c)this._lexer=c;else{const b=d_(a,d0)?a:new d0(a);this._lexer=new dR(b)}this._options=d,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let a=this.expectToken(q.NAME);return this.node(a,{kind:n.NAME,value:a.value})}parseDocument(){return this.node(this._lexer.token,{kind:n.DOCUMENT,definitions:this.many(q.SOF,this.parseDefinition,q.EOF)})}parseDefinition(){if(this.peek(q.BRACE_L))return this.parseOperationDefinition();let a=this.peekDescription(),b=a?this._lexer.lookahead():this._lexer.token;if(a&&b.kind===q.BRACE_L)throw dQ(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are not supported on shorthand queries.");if(b.kind===q.NAME){switch(b.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}switch(b.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition()}if(a)throw dQ(this._lexer.source,this._lexer.token.start,"Unexpected description, only GraphQL definitions support descriptions.");if("extend"===b.value)return this.parseTypeSystemExtension()}throw this.unexpected(b)}parseOperationDefinition(){let a,b=this._lexer.token;if(this.peek(q.BRACE_L))return this.node(b,{kind:n.OPERATION_DEFINITION,operation:m.QUERY,description:void 0,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let c=this.parseDescription(),d=this.parseOperationType();return this.peek(q.NAME)&&(a=this.parseName()),this.node(b,{kind:n.OPERATION_DEFINITION,operation:d,description:c,name:a,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let a=this.expectToken(q.NAME);switch(a.value){case"query":return m.QUERY;case"mutation":return m.MUTATION;case"subscription":return m.SUBSCRIPTION}throw this.unexpected(a)}parseVariableDefinitions(){return this.optionalMany(q.PAREN_L,this.parseVariableDefinition,q.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:n.VARIABLE_DEFINITION,description:this.parseDescription(),variable:this.parseVariable(),type:(this.expectToken(q.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(q.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let a=this._lexer.token;return this.expectToken(q.DOLLAR),this.node(a,{kind:n.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:n.SELECTION_SET,selections:this.many(q.BRACE_L,this.parseSelection,q.BRACE_R)})}parseSelection(){return this.peek(q.SPREAD)?this.parseFragment():this.parseField()}parseField(){let a,b,c=this._lexer.token,d=this.parseName();return this.expectOptionalToken(q.COLON)?(a=d,b=this.parseName()):b=d,this.node(c,{kind:n.FIELD,alias:a,name:b,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(q.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(a){let b=a?this.parseConstArgument:this.parseArgument;return this.optionalMany(q.PAREN_L,b,q.PAREN_R)}parseArgument(a=!1){let b=this._lexer.token,c=this.parseName();return this.expectToken(q.COLON),this.node(b,{kind:n.ARGUMENT,name:c,value:this.parseValueLiteral(a)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let a=this._lexer.token;this.expectToken(q.SPREAD);let b=this.expectOptionalKeyword("on");return!b&&this.peek(q.NAME)?this.node(a,{kind:n.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(a,{kind:n.INLINE_FRAGMENT,typeCondition:b?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let a=this._lexer.token,b=this.parseDescription();return(this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables)?this.node(a,{kind:n.FRAGMENT_DEFINITION,description:b,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(a,{kind:n.FRAGMENT_DEFINITION,description:b,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(a){let b=this._lexer.token;switch(b.kind){case q.BRACKET_L:return this.parseList(a);case q.BRACE_L:return this.parseObject(a);case q.INT:return this.advanceLexer(),this.node(b,{kind:n.INT,value:b.value});case q.FLOAT:return this.advanceLexer(),this.node(b,{kind:n.FLOAT,value:b.value});case q.STRING:case q.BLOCK_STRING:return this.parseStringLiteral();case q.NAME:switch(this.advanceLexer(),b.value){case"true":return this.node(b,{kind:n.BOOLEAN,value:!0});case"false":return this.node(b,{kind:n.BOOLEAN,value:!1});case"null":return this.node(b,{kind:n.NULL});default:return this.node(b,{kind:n.ENUM,value:b.value})}case q.DOLLAR:if(a){if(this.expectToken(q.DOLLAR),this._lexer.token.kind===q.NAME){let a=this._lexer.token.value;throw dQ(this._lexer.source,b.start,`Unexpected variable "$${a}" in constant value.`)}throw this.unexpected(b)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let a=this._lexer.token;return this.advanceLexer(),this.node(a,{kind:n.STRING,value:a.value,block:a.kind===q.BLOCK_STRING})}parseList(a){let b=()=>this.parseValueLiteral(a);return this.node(this._lexer.token,{kind:n.LIST,values:this.any(q.BRACKET_L,b,q.BRACKET_R)})}parseObject(a){let b=()=>this.parseObjectField(a);return this.node(this._lexer.token,{kind:n.OBJECT,fields:this.any(q.BRACE_L,b,q.BRACE_R)})}parseObjectField(a){let b=this._lexer.token,c=this.parseName();return this.expectToken(q.COLON),this.node(b,{kind:n.OBJECT_FIELD,name:c,value:this.parseValueLiteral(a)})}parseDirectives(a){let b=[];for(;this.peek(q.AT);)b.push(this.parseDirective(a));return b}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(a){let b=this._lexer.token;return this.expectToken(q.AT),this.node(b,{kind:n.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(a)})}parseTypeReference(){let a,b=this._lexer.token;if(this.expectOptionalToken(q.BRACKET_L)){let c=this.parseTypeReference();this.expectToken(q.BRACKET_R),a=this.node(b,{kind:n.LIST_TYPE,type:c})}else a=this.parseNamedType();return this.expectOptionalToken(q.BANG)?this.node(b,{kind:n.NON_NULL_TYPE,type:a}):a}parseNamedType(){return this.node(this._lexer.token,{kind:n.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(q.STRING)||this.peek(q.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("schema");let c=this.parseConstDirectives(),d=this.many(q.BRACE_L,this.parseOperationTypeDefinition,q.BRACE_R);return this.node(a,{kind:n.SCHEMA_DEFINITION,description:b,directives:c,operationTypes:d})}parseOperationTypeDefinition(){let a=this._lexer.token,b=this.parseOperationType();this.expectToken(q.COLON);let c=this.parseNamedType();return this.node(a,{kind:n.OPERATION_TYPE_DEFINITION,operation:b,type:c})}parseScalarTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("scalar");let c=this.parseName(),d=this.parseConstDirectives();return this.node(a,{kind:n.SCALAR_TYPE_DEFINITION,description:b,name:c,directives:d})}parseObjectTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("type");let c=this.parseName(),d=this.parseImplementsInterfaces(),e=this.parseConstDirectives(),f=this.parseFieldsDefinition();return this.node(a,{kind:n.OBJECT_TYPE_DEFINITION,description:b,name:c,interfaces:d,directives:e,fields:f})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(q.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(q.BRACE_L,this.parseFieldDefinition,q.BRACE_R)}parseFieldDefinition(){let a=this._lexer.token,b=this.parseDescription(),c=this.parseName(),d=this.parseArgumentDefs();this.expectToken(q.COLON);let e=this.parseTypeReference(),f=this.parseConstDirectives();return this.node(a,{kind:n.FIELD_DEFINITION,description:b,name:c,arguments:d,type:e,directives:f})}parseArgumentDefs(){return this.optionalMany(q.PAREN_L,this.parseInputValueDef,q.PAREN_R)}parseInputValueDef(){let a,b=this._lexer.token,c=this.parseDescription(),d=this.parseName();this.expectToken(q.COLON);let e=this.parseTypeReference();this.expectOptionalToken(q.EQUALS)&&(a=this.parseConstValueLiteral());let f=this.parseConstDirectives();return this.node(b,{kind:n.INPUT_VALUE_DEFINITION,description:c,name:d,type:e,defaultValue:a,directives:f})}parseInterfaceTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("interface");let c=this.parseName(),d=this.parseImplementsInterfaces(),e=this.parseConstDirectives(),f=this.parseFieldsDefinition();return this.node(a,{kind:n.INTERFACE_TYPE_DEFINITION,description:b,name:c,interfaces:d,directives:e,fields:f})}parseUnionTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("union");let c=this.parseName(),d=this.parseConstDirectives(),e=this.parseUnionMemberTypes();return this.node(a,{kind:n.UNION_TYPE_DEFINITION,description:b,name:c,directives:d,types:e})}parseUnionMemberTypes(){return this.expectOptionalToken(q.EQUALS)?this.delimitedMany(q.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("enum");let c=this.parseName(),d=this.parseConstDirectives(),e=this.parseEnumValuesDefinition();return this.node(a,{kind:n.ENUM_TYPE_DEFINITION,description:b,name:c,directives:d,values:e})}parseEnumValuesDefinition(){return this.optionalMany(q.BRACE_L,this.parseEnumValueDefinition,q.BRACE_R)}parseEnumValueDefinition(){let a=this._lexer.token,b=this.parseDescription(),c=this.parseEnumValueName(),d=this.parseConstDirectives();return this.node(a,{kind:n.ENUM_VALUE_DEFINITION,description:b,name:c,directives:d})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw dQ(this._lexer.source,this._lexer.token.start,`${d2(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("input");let c=this.parseName(),d=this.parseConstDirectives(),e=this.parseInputFieldsDefinition();return this.node(a,{kind:n.INPUT_OBJECT_TYPE_DEFINITION,description:b,name:c,directives:d,fields:e})}parseInputFieldsDefinition(){return this.optionalMany(q.BRACE_L,this.parseInputValueDef,q.BRACE_R)}parseTypeSystemExtension(){let a=this._lexer.lookahead();if(a.kind===q.NAME)switch(a.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(a)}parseSchemaExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let b=this.parseConstDirectives(),c=this.optionalMany(q.BRACE_L,this.parseOperationTypeDefinition,q.BRACE_R);if(0===b.length&&0===c.length)throw this.unexpected();return this.node(a,{kind:n.SCHEMA_EXTENSION,directives:b,operationTypes:c})}parseScalarTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let b=this.parseName(),c=this.parseConstDirectives();if(0===c.length)throw this.unexpected();return this.node(a,{kind:n.SCALAR_TYPE_EXTENSION,name:b,directives:c})}parseObjectTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let b=this.parseName(),c=this.parseImplementsInterfaces(),d=this.parseConstDirectives(),e=this.parseFieldsDefinition();if(0===c.length&&0===d.length&&0===e.length)throw this.unexpected();return this.node(a,{kind:n.OBJECT_TYPE_EXTENSION,name:b,interfaces:c,directives:d,fields:e})}parseInterfaceTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let b=this.parseName(),c=this.parseImplementsInterfaces(),d=this.parseConstDirectives(),e=this.parseFieldsDefinition();if(0===c.length&&0===d.length&&0===e.length)throw this.unexpected();return this.node(a,{kind:n.INTERFACE_TYPE_EXTENSION,name:b,interfaces:c,directives:d,fields:e})}parseUnionTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let b=this.parseName(),c=this.parseConstDirectives(),d=this.parseUnionMemberTypes();if(0===c.length&&0===d.length)throw this.unexpected();return this.node(a,{kind:n.UNION_TYPE_EXTENSION,name:b,directives:c,types:d})}parseEnumTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let b=this.parseName(),c=this.parseConstDirectives(),d=this.parseEnumValuesDefinition();if(0===c.length&&0===d.length)throw this.unexpected();return this.node(a,{kind:n.ENUM_TYPE_EXTENSION,name:b,directives:c,values:d})}parseInputObjectTypeExtension(){let a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let b=this.parseName(),c=this.parseConstDirectives(),d=this.parseInputFieldsDefinition();if(0===c.length&&0===d.length)throw this.unexpected();return this.node(a,{kind:n.INPUT_OBJECT_TYPE_EXTENSION,name:b,directives:c,fields:d})}parseDirectiveDefinition(){let a=this._lexer.token,b=this.parseDescription();this.expectKeyword("directive"),this.expectToken(q.AT);let c=this.parseName(),d=this.parseArgumentDefs(),e=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let f=this.parseDirectiveLocations();return this.node(a,{kind:n.DIRECTIVE_DEFINITION,description:b,name:c,arguments:d,repeatable:e,locations:f})}parseDirectiveLocations(){return this.delimitedMany(q.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let a=this._lexer.token,b=this.parseName();if(Object.prototype.hasOwnProperty.call(p,b.value))return b;throw this.unexpected(a)}parseSchemaCoordinate(){let a,b,c=this._lexer.token,d=this.expectOptionalToken(q.AT),e=this.parseName();return(!d&&this.expectOptionalToken(q.DOT)&&(a=this.parseName()),(d||a)&&this.expectOptionalToken(q.PAREN_L)&&(b=this.parseName(),this.expectToken(q.COLON),this.expectToken(q.PAREN_R)),d)?b?this.node(c,{kind:n.DIRECTIVE_ARGUMENT_COORDINATE,name:e,argumentName:b}):this.node(c,{kind:n.DIRECTIVE_COORDINATE,name:e}):a?b?this.node(c,{kind:n.ARGUMENT_COORDINATE,name:e,fieldName:a,argumentName:b}):this.node(c,{kind:n.MEMBER_COORDINATE,name:e,memberName:a}):this.node(c,{kind:n.TYPE_COORDINATE,name:e})}node(a,b){return!0!==this._options.noLocation&&(b.loc=new v(a,this._lexer.lastToken,this._lexer.source)),b}peek(a){return this._lexer.token.kind===a}expectToken(a){let b=this._lexer.token;if(b.kind===a)return this.advanceLexer(),b;throw dQ(this._lexer.source,b.start,`Expected ${d3(a)}, found ${d2(b)}.`)}expectOptionalToken(a){return this._lexer.token.kind===a&&(this.advanceLexer(),!0)}expectKeyword(a){let b=this._lexer.token;if(b.kind===q.NAME&&b.value===a)this.advanceLexer();else throw dQ(this._lexer.source,b.start,`Expected "${a}", found ${d2(b)}.`)}expectOptionalKeyword(a){let b=this._lexer.token;return b.kind===q.NAME&&b.value===a&&(this.advanceLexer(),!0)}unexpected(a){let b=null!=a?a:this._lexer.token;return dQ(this._lexer.source,b.start,`Unexpected ${d2(b)}.`)}any(a,b,c){this.expectToken(a);let d=[];for(;!this.expectOptionalToken(c);)d.push(b.call(this));return d}optionalMany(a,b,c){if(this.expectOptionalToken(a)){let a=[];do a.push(b.call(this));while(!this.expectOptionalToken(c))return a}return[]}many(a,b,c){this.expectToken(a);let d=[];do d.push(b.call(this));while(!this.expectOptionalToken(c))return d}delimitedMany(a,b){this.expectOptionalToken(a);let c=[];do c.push(b.call(this));while(this.expectOptionalToken(a))return c}advanceLexer(){let{maxTokens:a}=this._options,b=this._lexer.advance();if(b.kind!==q.EOF&&(++this._tokenCounter,void 0!==a&&this._tokenCounter>a))throw dQ(this._lexer.source,b.start,`Document contains more that ${a} tokens. Parsing aborted.`)}}function d2(a){let b=a.value;return d3(a.kind)+(null!=b?` "${b}"`:"")}function d3(a){return a===q.BANG||a===q.DOLLAR||a===q.AMP||a===q.PAREN_L||a===q.PAREN_R||a===q.DOT||a===q.SPREAD||a===q.COLON||a===q.EQUALS||a===q.AT||a===q.BRACKET_L||a===q.BRACKET_R||a===q.BRACE_L||a===q.PIPE||a===q.BRACE_R?`"${a}"`:a}var d4=new Map,d5=new Map,d6=!0,d7=!1;function d8(a){return a.replace(/[\s,]+/g," ").trim()}function d9(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];"string"==typeof a&&(a=[a]);var d=a[0];return b.forEach(function(b,c){b&&"Document"===b.kind?d+=b.loc.source.body:d+=b,d+=a[c+1]}),function(a){var b=d8(a);if(!d4.has(b)){let i,j;var c,d,e,f,g,h=(Object.defineProperty(j=(i=new d1(a,{experimentalFragmentVariables:d7,allowLegacyFragmentVariables:d7})).parseDocument(),"tokenCount",{enumerable:!1,value:i.tokenCount}),j);if(!h||"Document"!==h.kind)throw Error("Not a valid GraphQL document.");d4.set(b,((f=new Set((c=new Set,d=[],h.definitions.forEach(function(a){if("FragmentDefinition"===a.kind){var b,e=a.name.value,f=d8((b=a.loc).source.body.substring(b.start,b.end)),g=d5.get(e);g&&!g.has(f)?d6&&console.warn("Warning: fragment with name "+e+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):g||d5.set(e,g=new Set),g.add(f),c.has(f)||(c.add(f),d.push(a))}else d.push(a)}),e=dJ(dJ({},h),{definitions:d})).definitions)).forEach(function(a){a.loc&&delete a.loc,Object.keys(a).forEach(function(b){var c=a[b];c&&"object"==typeof c&&f.add(c)})}),(g=e.loc)&&(delete g.startToken,delete g.endToken),e))}return d4.get(b)}(d)}var ea=d9;(l=d9||(d9={})).gql=ea,l.resetCaches=function(){d4.clear(),d5.clear()},l.disableFragmentWarnings=function(){d6=!1},l.enableExperimentalFragmentVariables=function(){d7=!0},l.disableExperimentalFragmentVariables=function(){d7=!1},d9.default=d9;var eb=a.i(96438),ec=a.i(94988),ed=a.i(62067);let ee=d9`
  mutation ShareDocument(
    $documentId: String!
    $userId: String!
    $permission: PermissionType!
  ) {
    shareDocument(
      documentId: $documentId
      userId: $userId
      permission: $permission
    ) {
      id
      user {
        id
        name
        email
      }
      permission
    }
  }
`,ef=d9`
  query GetDocumentAccess($documentId: String!) {
    document(id: $documentId) {
      id
      access {
        id
        permission
        user {
          id
          name
          email
        }
      }
    }
  }
`,eg=d9`
  mutation RemoveAccess($documentId: String!, $userId: String!) {
    revokeAccess(documentId: $documentId, userId: $userId)
  }
`;function eh({documentId:a,documentTitle:b,isOpen:c,onClose:d,onShareComplete:e}){let{data:f}=(0,t.useSession)(),[g,h]=(0,s.useState)(""),[i,j]=(0,s.useState)("EDITOR"),[k,l]=(0,s.useState)([]),[m,n]=(0,s.useState)(!1),[o,p]=(0,s.useState)(!1),[q,u]=(0,s.useState)("");s.default.useEffect(()=>{c&&(h(""),j("EDITOR"),p(!1),u(""))},[a,c]);let v=s.default.useMemo(()=>new b9({link:new dn({uri:"/api/graphql",credentials:"include",headers:{...f&&{"x-user-id":f.user?.id||""}}}),cache:new c9}),[f?.user?.id]),{data:w,loading:x}=dD(ef,{variables:{documentId:a},skip:!c||!a,fetchPolicy:"network-only",client:v});s.default.useEffect(()=>{w?.document?.access&&l(w.document.access)},[w]);let[y]=dH(ee,{client:v}),[z]=dH(eg,{client:v}),A=async()=>{if(!g.trim())return;let b=k.find(a=>a.user.email.toLowerCase()===g.trim().toLowerCase());if(b){if(b.permission===i){u(`${g} already has ${i} access.`),p(!0),setTimeout(()=>p(!1),3e3);return}u(`Failed: ${g} already has ${b.permission} access. Use the list below to manage permissions.`),p(!0),setTimeout(()=>p(!1),5e3);return}n(!0);try{let b=await y({variables:{documentId:a,userId:g,permission:i}});b.data&&(l([...k,b.data.shareDocument]),u(`Successfully shared with ${g}`),p(!0),h(""),e&&e(),setTimeout(()=>p(!1),3e3))}catch(a){console.error("Error sharing document:",a),u(`Failed to share with ${g}`),p(!0),setTimeout(()=>p(!1),3e3)}finally{n(!1)}},B=async b=>{console.log(b);try{await z({variables:{documentId:a,userId:b}}),l(k.filter(a=>a.user.id!==b)),u("Access removed successfully"),p(!0),e&&e(),setTimeout(()=>p(!1),3e3)}catch(a){console.error("Error removing access:",a),a.graphQLErrors&&a.graphQLErrors.length>0?(console.error("GraphQL Errors:",a.graphQLErrors),u(a.graphQLErrors[0].message||"Failed to remove access (Permission Denied)")):a.networkError?(console.error("Network Error:",a.networkError),u("Failed to remove access (Network Error)")):u("Failed to remove access"),p(!0),setTimeout(()=>p(!1),3e3)}};return c?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)(ed.Card,{className:"w-full max-w-lg max-h-[85vh] overflow-y-auto shadow-2xl",children:[(0,r.jsxs)(ed.CardHeader,{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-b",children:[(0,r.jsxs)(ed.CardTitle,{className:"flex items-center gap-2 text-xl",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold",children:""}),'Share "',b,'"']}),(0,r.jsx)(ed.CardDescription,{className:"text-slate-600 dark:text-slate-300",children:"Invite collaborators to work on this document"})]}),(0,r.jsxs)(ed.CardContent,{className:"space-y-6 p-6",children:[o&&(0,r.jsx)("div",{className:`p-3 rounded-lg border ${q.includes("Failed")?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-lg",children:q.includes("Failed")?"":""}),(0,r.jsx)("span",{className:"text-sm font-medium",children:q})]})}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2 block",children:"Email Address"}),(0,r.jsx)(ec.Input,{id:"email",type:"email",placeholder:"colleague@example.com",value:g,onChange:a=>h(a.target.value),className:"w-full h-11 text-base border-2 border-slate-200 dark:border-slate-600 focus:border-blue-500 dark:focus:border-blue-400 rounded-lg",onKeyPress:a=>"Enter"===a.key&&A()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"permission",className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2 block",children:"Permission Level"}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{value:"VIEWER",icon:"",label:"Viewer",desc:"View only"},{value:"EDITOR",icon:"",label:"Editor",desc:"Can edit"},{value:"ADMIN",icon:"",label:"Admin",desc:"Full access"}].map(a=>(0,r.jsxs)("button",{onClick:()=>j(a.value),className:`p-3 rounded-lg border-2 transition-all duration-200 text-center ${i===a.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500 text-slate-600 dark:text-slate-300"}`,children:[(0,r.jsx)("div",{className:"text-2xl mb-1",children:a.icon}),(0,r.jsx)("div",{className:"text-xs font-medium",children:a.label}),(0,r.jsx)("div",{className:"text-xs opacity-75",children:a.desc})]},a.value))}),(0,r.jsx)("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:(a=>{switch(a){case"ADMIN":return"Full control - can manage permissions and delete";case"EDITOR":return"Can edit and share the document";case"VIEWER":return"Can only view the document";default:return"Unknown permission"}})(i)})]}),(0,r.jsx)(eb.Button,{onClick:A,disabled:!g.trim()||m,className:"w-full h-11 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-200",children:m?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Sharing..."]}):(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Share"]})})]}),x?(0,r.jsxs)("div",{className:"flex justify-center items-center p-8 text-blue-500",children:[(0,r.jsx)("svg",{className:"w-6 h-6 animate-spin mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Loading collaborators..."]}):k.length>0&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:["Current Collaborators (",k.length,")"]}),(0,r.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Click  to remove access"})]}),(0,r.jsx)("div",{className:"space-y-3",children:k.map((a,b)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all duration-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-lg",children:a.user.name?.[0]||a.user.email?.[0]||"U"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:a.user.name||a.user.email}),(0,r.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:a.user.email})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("span",{className:`text-xs px-3 py-1.5 rounded-full font-medium border ${(a=>{switch(a){case"ADMIN":return"bg-red-100 text-red-800 border-red-200";case"EDITOR":return"bg-blue-100 text-blue-800 border-blue-200";case"VIEWER":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.permission)}`,children:[(0,r.jsx)("span",{className:"mr-1",children:(a=>{switch(a){case"ADMIN":return"";case"EDITOR":return"";case"VIEWER":return"";default:return""}})(a.permission)}),a.permission]}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>B(a.user.id),className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg p-2 transition-all duration-200",title:"Remove access",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]},b))})]}),(0,r.jsx)("div",{className:"flex justify-end pt-4 border-t border-slate-200 dark:border-slate-700",children:(0,r.jsx)(eb.Button,{variant:"outline",onClick:d,className:"px-6 py-2 border-2 border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg font-medium",children:"Done"})})]})]})}):null}let ei=d9`
  query GetMyDocuments {
    myDocuments {
      id
      title
      type
      createdAt
      updatedAt
      owner {
        id
        name
        email
      }
      access {
        id
        user {
          id
          name
          email
        }
        permission
      }
    }
  }
`,ej=d9`
  query GetSharedDocuments {
    sharedDocuments {
      id
      title
      type
      createdAt
      updatedAt
      owner {
        id
        name
        email
      }
      access {
        id
        user {
          id
          name
          email
        }
        permission
      }
    }
  }
`,ek=d9`
  query GetDocumentAccess($documentId: String!) {
    document(id: $documentId) {
      id
      access {
        id
        user {
          id
          name
          email
        }
        permission
      }
    }
  }
`,el=d9`
  mutation CreateDocument($title: String!, $type: String!) {
    createDocument(title: $title, type: $type) {
      id
      title
      type
      content
      createdAt
      updatedAt
      owner {
        id
        name
        email
      }
    }
  }
`,em=d9`
  mutation DeleteDocument($id: String!) {
    deleteDocument(id: $id)
  }
`;function en({onDocumentSelect:a}){let{data:b}=(0,t.useSession)(),[c,d]=(0,s.useState)("my"),[e,f]=(0,s.useState)(!1),[g,h]=(0,s.useState)({isOpen:!1,documentId:"",title:""}),[i,j]=(0,s.useState)({isOpen:!1,documentId:"",documentTitle:""}),[k,l]=(0,s.useState)(""),[m,n]=(0,s.useState)("writing"),o=(0,s.useMemo)(()=>new b9({link:new dn({uri:"/api/graphql",credentials:"include",headers:{...b&&{"x-user-id":b.user?.id||""}}}),cache:new c9}),[b?.user?.id]),{data:p,refetch:q}=dD(ei,{skip:!b,client:o}),{data:u,refetch:v}=dD(ej,{skip:!b,client:o}),{data:w,refetch:x}=dD(ek,{variables:{documentId:g.documentId},skip:!g.documentId||!b,client:o}),[y]=dH(el,{client:o}),[z]=dH(em,{client:o}),A=async()=>{if(k.trim())try{let a=await y({variables:{title:k,type:m},context:{headers:{"x-user-id":b?.user?.id||""}}});console.log("Document created successfully:",a),l(""),f(!1),setTimeout(async()=>{console.log("Refreshing document list..."),await q(),await v(),console.log("Document list refreshed")},500)}catch(a){console.error("Error creating document:",a),setTimeout(async()=>{await q(),await v()},500)}},B=async(a,b)=>{j({isOpen:!0,documentId:a,documentTitle:b})},C=async()=>{let{documentId:a,documentTitle:c}=i;try{console.log("Attempting to delete document:",a);let d=await z({variables:{id:a},context:{headers:{"x-user-id":b?.user?.id||""}}});console.log("Document deleted successfully:",d);let e=document.createElement("div");e.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #10b981;
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 9999;
        font-weight: 500;
        animation: slideIn 0.3s ease-out;
      `,e.textContent=` "${c}" deleted successfully`,document.body.appendChild(e),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},3e3),j({isOpen:!1,documentId:"",documentTitle:""}),setTimeout(async()=>{console.log("Refreshing document list after deletion..."),await q(),await v(),console.log("Document list refreshed after deletion")},500)}catch(b){console.error("Error deleting document:",b);let a=document.createElement("div");a.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #ef4444;
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 9999;
        font-weight: 500;
        animation: slideIn 0.3s ease-out;
      `,a.textContent=` Failed to delete "${c}"`,document.body.appendChild(a),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a)},3e3),j({isOpen:!1,documentId:"",documentTitle:""})}},D="my"===c?p?.myDocuments:u?.sharedDocuments;return(0,r.jsxs)("div",{className:"flex flex-col h-full bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[(0,r.jsxs)("div",{className:"p-6 border-b bg-white/80 backdrop-blur-sm dark:bg-slate-800/80 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-slate-300 bg-clip-text text-transparent",children:"Workspace"}),(0,r.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Manage your collaborative documents"})]}),(0,r.jsxs)(eb.Button,{size:"sm",onClick:()=>f(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Document"]})]}),(0,r.jsxs)("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl shadow-inner",children:[(0,r.jsx)(eb.Button,{variant:"my"===c?"default":"ghost",size:"sm",onClick:()=>d("my"),className:`flex-1 rounded-lg transition-all duration-200 text-xs ${"my"===c?"bg-white dark:bg-slate-600 shadow-md text-slate-900 dark:text-white":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-slate-600/50"}`,children:(0,r.jsxs)("span",{className:"flex items-center justify-center gap-1 text-xs",children:["",(0,r.jsx)("span",{className:"hidden sm:inline",children:"My Documents"}),p?.myDocuments?.length>0&&(0,r.jsx)("span",{className:"bg-blue-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:p.myDocuments.length})]})}),(0,r.jsx)(eb.Button,{variant:"shared"===c?"default":"ghost",size:"sm",onClick:()=>d("shared"),className:`flex-1 rounded-lg transition-all duration-200 text-xs ${"shared"===c?"bg-white dark:bg-slate-600 shadow-md text-slate-900 dark:text-white":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-slate-600/50"}`,children:(0,r.jsxs)("span",{className:"flex items-center justify-center gap-1 text-xs",children:["",(0,r.jsx)("span",{className:"hidden sm:inline",children:"Shared"}),u?.sharedDocuments?.length>0&&(0,r.jsx)("span",{className:"bg-purple-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:u.sharedDocuments.length})]})})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:D?.length===0?(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,r.jsx)("svg",{className:"w-12 h-12 text-slate-400 dark:text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"my"===c?"No documents yet":"No shared documents"}),(0,r.jsx)("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto",children:"my"===c?"Create your first document to start collaborating with your team":"Documents shared with you will appear here for easy access"}),"my"===c&&(0,r.jsxs)(eb.Button,{onClick:()=>f(!0),className:"mt-6 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Your First Document"]})]}):(0,r.jsx)("div",{className:"grid gap-4",children:D?.map(b=>(0,r.jsx)(ed.Card,{className:"group cursor-pointer hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] border-0 bg-white dark:bg-slate-800 shadow-lg",onClick:()=>a(b.id,b.type),children:(0,r.jsxs)(ed.CardContent,{className:"p-3",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,r.jsx)("div",{className:"text-3xl p-3 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 shadow-inner",children:(a=>{switch(a){case"planning":return"";case"drawing":return"";case"writing":return"";default:return""}})(b.type)}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg text-slate-900 dark:text-white truncate group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:b.title}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,r.jsx)("span",{className:`text-xs px-3 py-1 rounded-full font-medium shadow-sm ${(a=>{switch(a){case"planning":return"bg-blue-100 text-blue-800";case"drawing":return"bg-purple-100 text-purple-800";case"writing":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(b.type)}`,children:b.type}),"shared"===c&&(0,r.jsxs)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["by ",b.owner.name||b.owner.email]})]})]})]})}),(0,r.jsx)("div",{className:"flex items-center space-x-2 ml-4",children:"my"===c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),h({isOpen:!0,documentId:b.id,title:b.title})},className:"opacity-75 hover:opacity-100 transition-all duration-200 text-slate-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg p-2",title:"Share document",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.5 9 12c0-.5-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m9.032 4.026a3 3 0 10-4.732 2.684 3 3 0 004.732-2.684zm0 0a3 3 0 00-4.732-2.684 3 3 0 004.732 2.684z"})})}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),B(b.id,b.title)},className:"opacity-75 hover:opacity-100 transition-all duration-200 text-slate-600 dark:text-slate-300 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg p-2",title:"Delete document",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-slate-500 dark:text-slate-400",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(b.updatedAt).toLocaleDateString()]}),b.access?.length>0&&(0,r.jsxs)("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),b.access.length," collaborators"]})]})})]})},b.id))})}),e&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)(ed.Card,{className:"w-full max-w-md",children:[(0,r.jsxs)(ed.CardHeader,{children:[(0,r.jsx)(ed.CardTitle,{children:"Create New Document"}),(0,r.jsx)(ed.CardDescription,{children:"Start a new collaborative document"})]}),(0,r.jsxs)(ed.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"title",className:"text-sm font-medium",children:"Title"}),(0,r.jsx)(ec.Input,{id:"title",placeholder:"Enter document title",value:k,onChange:a=>l(a.target.value),autoFocus:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"type",className:"text-sm font-medium",children:"Document Type"}),(0,r.jsxs)("select",{id:"type",value:m,onChange:a=>n(a.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[(0,r.jsx)("option",{value:"writing",children:" Writing Document"}),(0,r.jsx)("option",{value:"drawing",children:" Drawing Canvas"}),(0,r.jsx)("option",{value:"planning",children:" Planning Board"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,r.jsx)(eb.Button,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),(0,r.jsx)(eb.Button,{onClick:A,disabled:!k.trim(),children:"Create Document"})]})]})]})}),(0,r.jsx)(eh,{documentId:g.documentId,documentTitle:g.title,isOpen:g.isOpen,onClose:()=>h({isOpen:!1,documentId:"",title:""}),onShareComplete:()=>{console.log("Document ID being shared:",w),console.log("=== REFETCHING DOCUMENTS ==="),console.log("Document ID being shared:",g.documentId),console.log("Current myDocuments count:",p?.myDocuments?.length||0),console.log("Current sharedDocuments count:",u?.sharedDocuments?.length||0),setTimeout(async()=>{console.log("Refreshing document list after sharing..."),await q(),await v(),await x(),console.log("=== REFETCH COMPLETE ==="),console.log("New myDocuments count:",p?.myDocuments?.length||0),console.log("New sharedDocuments count:",u?.sharedDocuments?.length||0),console.log("Document list refreshed after sharing")},500)}}),i.isOpen&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)(ed.Card,{className:"w-full max-w-md",children:[(0,r.jsxs)(ed.CardHeader,{children:[(0,r.jsxs)(ed.CardTitle,{className:"text-destructive flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"Delete Document"]}),(0,r.jsxs)(ed.CardDescription,{children:['Are you sure you want to delete "',i.documentTitle,'"?']})]}),(0,r.jsxs)(ed.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:[(0,r.jsx)("p",{className:"text-sm text-destructive font-medium",children:" This action cannot be undone"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"All shared access will be removed and the document will be permanently deleted."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,r.jsx)(eb.Button,{variant:"outline",onClick:()=>j({isOpen:!1,documentId:"",documentTitle:""}),children:"Cancel"}),(0,r.jsx)(eb.Button,{variant:"destructive",onClick:C,className:"min-w-[100px]",children:"Delete"})]})]})]})})]})}let eo=()=>new Map,ep=a=>{let b=eo();return a.forEach((a,c)=>{b.set(c,a)}),b},eq=(a,b,c)=>{let d=a.get(b);return void 0===d&&a.set(b,d=c()),d},er=()=>new Set,es=a=>a[a.length-1],et=(a,b)=>{for(let c=0;c<b.length;c++)a.push(b[c])},eu=Array.from,ev=Array.isArray;class ew{constructor(){this._observers=eo()}on(a,b){return eq(this._observers,a,er).add(b),b}once(a,b){let c=(...d)=>{this.off(a,c),b(...d)};this.on(a,c)}off(a,b){let c=this._observers.get(a);void 0!==c&&(c.delete(b),0===c.size&&this._observers.delete(a))}emit(a,b){return eu((this._observers.get(a)||eo()).values()).forEach(a=>a(...b))}destroy(){this._observers=eo()}}class ex{constructor(){this._observers=eo()}on(a,b){eq(this._observers,a,er).add(b)}once(a,b){let c=(...d)=>{this.off(a,c),b(...d)};this.on(a,c)}off(a,b){let c=this._observers.get(a);void 0!==c&&(c.delete(b),0===c.size&&this._observers.delete(a))}emit(a,b){return eu((this._observers.get(a)||eo()).values()).forEach(a=>a(...b))}destroy(){this._observers=eo()}}let ey=Math.floor,ez=Math.abs,eA=(a,b)=>a<b?a:b,eB=(a,b)=>a>b?a:b,eC=Math.pow,eD=a=>0!==a?a<0:1/a<0,eE=Number.MAX_SAFE_INTEGER,eF=Number.isInteger||(a=>"number"==typeof a&&isFinite(a)&&ey(a)===a);(0,String.fromCharCode)(65535);let eG=/^\s*/g,eH=/([A-Z])/g,eI=(a,b)=>a.replace(eH,a=>`${b}${a.toLowerCase()}`).replace(eG,""),eJ="undefined"!=typeof TextEncoder?new TextEncoder:null,eK=eJ?a=>eJ.encode(a):a=>{let b=unescape(encodeURIComponent(a)),c=b.length,d=new Uint8Array(c);for(let a=0;a<c;a++)d[a]=b.codePointAt(a);return d},eL="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});eL&&1===eL.decode(new Uint8Array).length&&(eL=null);class eM{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}let eN=()=>new eM,eO=a=>{let b=a.cpos;for(let c=0;c<a.bufs.length;c++)b+=a.bufs[c].length;return b},eP=a=>{let b=new Uint8Array(eO(a)),c=0;for(let d=0;d<a.bufs.length;d++){let e=a.bufs[d];b.set(e,c),c+=e.length}return b.set(new Uint8Array(a.cbuf.buffer,0,a.cpos),c),b},eQ=(a,b)=>{let c=a.cbuf.length;a.cpos===c&&(a.bufs.push(a.cbuf),a.cbuf=new Uint8Array(2*c),a.cpos=0),a.cbuf[a.cpos++]=b},eR=(a,b)=>{for(;b>127;)eQ(a,128|127&b),b=ey(b/128);eQ(a,127&b)},eS=(a,b)=>{let c=eD(b);for(c&&(b=-b),eQ(a,128*(b>63)|64*!!c|63&b),b=ey(b/64);b>0;)eQ(a,128*(b>127)|127&b),b=ey(b/128)},eT=new Uint8Array(3e4),eU=eT.length/3,eV=eJ&&eJ.encodeInto?(a,b)=>{if(b.length<eU){let c=eJ.encodeInto(b,eT).written||0;eR(a,c);for(let b=0;b<c;b++)eQ(a,eT[b])}else eX(a,eK(b))}:(a,b)=>{let c=unescape(encodeURIComponent(b)),d=c.length;eR(a,d);for(let b=0;b<d;b++)eQ(a,c.codePointAt(b))},eW=(a,b)=>{let c=a.cbuf.length,d=a.cpos,e=eA(c-d,b.length),f=b.length-e;a.cbuf.set(b.subarray(0,e),d),a.cpos+=e,f>0&&(a.bufs.push(a.cbuf),a.cbuf=new Uint8Array(eB(2*c,f)),a.cbuf.set(b.subarray(e)),a.cpos=f)},eX=(a,b)=>{eR(a,b.byteLength),eW(a,b)},eY=(a,b)=>{let c;(c=a.cbuf.length)-a.cpos<b&&(a.bufs.push(new Uint8Array(a.cbuf.buffer,0,a.cpos)),a.cbuf=new Uint8Array(2*eB(c,b)),a.cpos=0);let d=new DataView(a.cbuf.buffer,a.cpos,b);return a.cpos+=b,d},eZ=new DataView(new ArrayBuffer(4)),e$=(a,b)=>{switch(typeof b){case"string":eQ(a,119),eV(a,b);break;case"number":if(eF(b)&&0x7fffffff>=ez(b))eQ(a,125),eS(a,b);else if(eZ.setFloat32(0,b),eZ.getFloat32(0)===b)eQ(a,124),eY(a,4).setFloat32(0,b,!1);else eQ(a,123),eY(a,8).setFloat64(0,b,!1);break;case"bigint":eQ(a,122),eY(a,8).setBigInt64(0,b,!1);break;case"object":if(null===b)eQ(a,126);else if(ev(b)){eQ(a,117),eR(a,b.length);for(let c=0;c<b.length;c++)e$(a,b[c])}else if(b instanceof Uint8Array)eQ(a,116),eX(a,b);else{eQ(a,118);let c=Object.keys(b);eR(a,c.length);for(let d=0;d<c.length;d++){let e=c[d];eV(a,e),e$(a,b[e])}}break;case"boolean":eQ(a,b?120:121);break;default:eQ(a,127)}};class e_ extends eM{constructor(a){super(),this.w=a,this.s=null,this.count=0}write(a){this.s===a?this.count++:(this.count>0&&eR(this,this.count-1),this.count=1,this.w(this,a),this.s=a)}}let e0=a=>{a.count>0&&(eS(a.encoder,1===a.count?a.s:-a.s),a.count>1&&eR(a.encoder,a.count-2))};class e1{constructor(){this.encoder=new eM,this.s=0,this.count=0}write(a){this.s===a?this.count++:(e0(this),this.count=1,this.s=a)}toUint8Array(){return e0(this),eP(this.encoder)}}let e2=a=>{if(a.count>0){let b=2*a.diff+ +(1!==a.count);eS(a.encoder,b),a.count>1&&eR(a.encoder,a.count-2)}};class e3{constructor(){this.encoder=new eM,this.s=0,this.count=0,this.diff=0}write(a){this.diff===a-this.s?(this.s=a,this.count++):(e2(this),this.count=1,this.diff=a-this.s,this.s=a)}toUint8Array(){return e2(this),eP(this.encoder)}}class e4{constructor(){this.sarr=[],this.s="",this.lensE=new e1}write(a){this.s+=a,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(a.length)}toUint8Array(){let a=new eM;return this.sarr.push(this.s),this.s="",eV(a,this.sarr.join("")),eW(a,this.lensE.toUint8Array()),eP(a)}}let e5=()=>{throw Error("Method unimplemented")},e6=()=>{throw Error("Unexpected case")},e7=Error("Unexpected end of array"),e8=Error("Integer out of Range");class e9{constructor(a){this.arr=a,this.pos=0}}let fa=a=>new e9(a),fb=a=>{var b;let c;return b=fd(a),c=new Uint8Array(a.arr.buffer,a.pos+a.arr.byteOffset,b),a.pos+=b,c},fc=a=>a.arr[a.pos++],fd=a=>{let b=0,c=1,d=a.arr.length;for(;a.pos<d;){let d=a.arr[a.pos++];if(b+=(127&d)*c,c*=128,d<128)return b;if(b>eE)throw e8}throw e7},fe=a=>{let b=a.arr[a.pos++],c=63&b,d=64,e=(64&b)>0?-1:1;if((128&b)==0)return e*c;let f=a.arr.length;for(;a.pos<f;){if(c+=(127&(b=a.arr[a.pos++]))*d,d*=128,b<128)return e*c;if(c>eE)throw e8}throw e7},ff=eL?a=>eL.decode(fb(a)):a=>{let b=fd(a);if(0===b)return"";{let c=String.fromCodePoint(fc(a));if(--b<100)for(;b--;)c+=String.fromCodePoint(fc(a));else for(;b>0;){let d=b<1e4?b:1e4,e=a.arr.subarray(a.pos,a.pos+d);a.pos+=d,c+=String.fromCodePoint.apply(null,e),b-=d}return decodeURIComponent(escape(c))}},fg=(a,b)=>{let c=new DataView(a.arr.buffer,a.arr.byteOffset+a.pos,b);return a.pos+=b,c},fh=[a=>void 0,a=>null,fe,a=>fg(a,4).getFloat32(0,!1),a=>fg(a,8).getFloat64(0,!1),a=>fg(a,8).getBigInt64(0,!1),a=>!1,a=>!0,ff,a=>{let b=fd(a),c={};for(let d=0;d<b;d++)c[ff(a)]=fi(a);return c},a=>{let b=fd(a),c=[];for(let d=0;d<b;d++)c.push(fi(a));return c},fb],fi=a=>fh[127-fc(a)](a);class fj extends e9{constructor(a,b){super(a),this.reader=b,this.s=null,this.count=0}read(){0===this.count&&(this.s=this.reader(this),this.pos!==this.arr.length?this.count=fd(this)+1:this.count=-1);return this.count--,this.s}}class fk extends e9{constructor(a){super(a),this.s=0,this.count=0}read(){if(0===this.count){this.s=fe(this);let a=eD(this.s);this.count=1,a&&(this.s=-this.s,this.count=fd(this)+2)}return this.count--,this.s}}class fl extends e9{constructor(a){super(a),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){let a=fe(this);this.diff=ey(a/2),this.count=1,1&a&&(this.count=fd(this)+2)}return this.s+=this.diff,this.count--,this.s}}class fm{constructor(a){this.decoder=new fk(a),this.str=ff(this.decoder),this.spos=0}read(){let a=this.spos+this.decoder.read(),b=this.str.slice(this.spos,a);return this.spos=a,b}}var fn=a.i(66680);fn.webcrypto.subtle;let fo=fn.webcrypto.getRandomValues.bind(fn.webcrypto),fp=()=>fo(new Uint32Array(1))[0],fq=Date.now,fr=a=>new Promise(a);Promise.all.bind(Promise);let fs=a=>void 0===a?null:a,ft=new class{constructor(){this.map=new Map}setItem(a,b){this.map.set(a,b)}getItem(a){return this.map.get(a)}},fu=!0;try{"undefined"!=typeof localStorage&&localStorage&&(ft=localStorage,fu=!1)}catch(a){}let fv=ft,fw=Symbol("Equality"),fx=Object.assign,fy=Object.keys,fz=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),fA=Object.freeze,fB=a=>{for(let b in a){let c=a[b];("object"==typeof c||"function"==typeof c)&&fB(a[b])}return fA(a)},fC=(a,b,c=0)=>{try{for(;c<a.length;c++)a[c](...b)}finally{c<a.length&&fC(a,b,c+1)}},fD=a=>a,fE=(a,b)=>{if(a===b)return!0;if(null==a||null==b||a.constructor!==b.constructor&&(a.constructor||Object)!==(b.constructor||Object))return!1;if(null!=a[fw])return a[fw](b);switch(a.constructor){case ArrayBuffer:a=new Uint8Array(a),b=new Uint8Array(b);case Uint8Array:if(a.byteLength!==b.byteLength)return!1;for(let c=0;c<a.length;c++)if(a[c]!==b[c])return!1;break;case Set:if(a.size!==b.size)return!1;for(let c of a)if(!b.has(c))return!1;break;case Map:if(a.size!==b.size)return!1;for(let c of a.keys())if(!b.has(c)||!fE(a.get(c),b.get(c)))return!1;break;case void 0:case Object:if(fy(a).length!==fy(b).length)return!1;for(let c in a)if(!fz(a,c)||!fE(a[c],b[c]))return!1;break;case Array:if(a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(!fE(a[c],b[c]))return!1;break;default:return!1}return!0},fF="undefined"!=typeof process&&process.release&&/node|io\.js/.test(process.release.name)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let fG=[],fH=a=>(()=>{if(void 0===e)if(fF){e=eo();let a=process.argv,b=null;for(let c=0;c<a.length;c++){let d=a[c];"-"===d[0]?(null!==b&&e.set(b,""),b=d):null!==b?(e.set(b,d),b=null):fG.push(d)}null!==b&&e.set(b,"")}else"object"==typeof location?(e=eo(),(location.search||"?").slice(1).split("&").forEach(a=>{if(0!==a.length){let[b,c]=a.split("=");e.set(`--${eI(b,"-")}`,c),e.set(`-${eI(b,"-")}`,c)}})):e=eo();return e})().has(a),fI=a=>fF?fs(process.env[a.toUpperCase().replaceAll("-","_")]):fs(fv.getItem(a)),fJ=a=>fH("--"+a)||null!==fI(a);fJ("production");let fK=fF&&["true","1","2"].includes(process.env.FORCE_COLOR)||!fH("--no-colors")&&!fJ("no-color")&&(!fF||process.stdout.isTTY)&&(!fF||fH("--color")||null!==fI("COLORTERM")||(fI("TERM")||"").includes("color")),fL=Symbol,fM=fL(),fN=fL(),fO=fL(),fP=fL(),fQ=fL(),fR=fL(),fS=fL(),fT=fL(),fU=fL();fq();let fV={[fM]:"\x1b[1m",[fN]:"\x1b[2m",[fO]:"\x1b[34m",[fQ]:"\x1b[32m",[fP]:"\x1b[37m",[fR]:"\x1b[31m",[fS]:"\x1b[35m",[fT]:"\x1b[38;5;208m",[fU]:"\x1b[0m"},fW=fK?a=>{1===a.length&&a[0]?.constructor===Function&&(a=a[0]());let b=[],c=[],d=0;for(;d<a.length;d++){let c=a[d],e=fV[c];if(void 0!==e)b.push(e);else if(void 0===c)break;else if(c.constructor===String||c.constructor===Number)b.push(c);else break}for(d>0&&(b.push("\x1b[0m"),c.push(b.join("")));d<a.length;d++){let b=a[d];b instanceof Symbol||c.push(b)}return c}:a=>{1===a.length&&a[0]?.constructor===Function&&(a=a[0]());let b=[],c=[],d=0;for(;d<a.length;d++){let c=a[d];if(void 0===c)break;if(c.constructor===String||c.constructor===Number)b.push(c);else if(c.constructor===Object)break}for(d>0&&c.push(b.join(""));d<a.length;d++){let b=a[d];b instanceof Symbol||c.push(b)}return c},fX=a=>({[Symbol.iterator](){return this},next:a}),fY=(a,b)=>fX(()=>{let{done:c,value:d}=a.next();return{done:c,value:c?void 0:b(d)}});class fZ{constructor(a,b){this.clock=a,this.len=b}}class f${constructor(){this.clients=new Map}}let f_=(a,b,c)=>b.clients.forEach((b,d)=>{let e=a.doc.store.clients.get(d);if(null!=e){let d=e[e.length-1],f=d.id.clock+d.length;for(let d=0,g=b[d];d<b.length&&g.clock<f;g=b[++d])gD(a,e,g.clock,g.len,c)}}),f0=(a,b)=>{let c=a.clients.get(b.client);return void 0!==c&&null!==((a,b)=>{let c=0,d=a.length-1;for(;c<=d;){let e=ey((c+d)/2),f=a[e],g=f.clock;if(g<=b){if(b<g+f.len)return e;c=e+1}else d=e-1}return null})(c,b.clock)},f1=a=>{a.clients.forEach(a=>{let b,c;for(a.sort((a,b)=>a.clock-b.clock),b=1,c=1;b<a.length;b++){let d=a[c-1],e=a[b];d.clock+d.len>=e.clock?d.len=eB(d.len,e.clock+e.len-d.clock):(c<b&&(a[c]=e),c++)}a.length=c})},f2=(a,b,c,d)=>{eq(a.clients,b,()=>[]).push(new fZ(c,d))},f3=()=>new f$,f4=(a,b)=>{eR(a.restEncoder,b.clients.size),eu(b.clients.entries()).sort((a,b)=>b[0]-a[0]).forEach(([b,c])=>{a.resetDsCurVal(),eR(a.restEncoder,b);let d=c.length;eR(a.restEncoder,d);for(let b=0;b<d;b++){let d=c[b];a.writeDsClock(d.clock),a.writeDsLen(d.len)}})},f5=a=>{let b=new f$,c=fd(a.restDecoder);for(let d=0;d<c;d++){a.resetDsCurVal();let c=fd(a.restDecoder),d=fd(a.restDecoder);if(d>0){let e=eq(b.clients,c,()=>[]);for(let b=0;b<d;b++)e.push(new fZ(a.readDsClock(),a.readDsLen()))}}return b},f6=(a,b,c)=>{let d=new f$,e=fd(a.restDecoder);for(let f=0;f<e;f++){a.resetDsCurVal();let e=fd(a.restDecoder),f=fd(a.restDecoder),g=c.clients.get(e)||[],h=gw(c,e);for(let c=0;c<f;c++){let c=a.readDsClock(),f=c+a.readDsLen();if(c<h){h<f&&f2(d,e,h,f-h);let a=gy(g,c),i=g[a];for(!i.deleted&&i.id.clock<c&&(g.splice(a+1,0,h0(b,i,c-i.id.clock)),a++);a<g.length;)if((i=g[a++]).id.clock<f)i.deleted||(f<i.id.clock+i.length&&g.splice(a,0,h0(b,i,f-i.id.clock)),i.delete(b));else break}else f2(d,e,c,f-c)}}if(d.clients.size>0){let a=new gf;return eR(a.restEncoder,0),f4(a,d),a.toUint8Array()}return null};class f7 extends ew{constructor({guid:a="10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(a^fp()&15>>a/4).toString(16)),collectionid:b=null,gc:c=!0,gcFilter:d=()=>!0,meta:e=null,autoLoad:f=!1,shouldLoad:g=!0}={}){super(),this.gc=c,this.gcFilter=d,this.clientID=fp(),this.guid=a,this.collectionid=b,this.share=new Map,this.store=new gu,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=g,this.autoLoad=f,this.meta=e,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=fr(a=>{this.on("load",()=>{this.isLoaded=!0,a(this)})});const h=()=>fr(a=>{let b=c=>{(void 0===c||!0===c)&&(this.off("sync",b),a())};this.on("sync",b)});this.on("sync",a=>{!1===a&&this.isSynced&&(this.whenSynced=h()),this.isSynced=void 0===a||!0===a,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=h()}load(){let a=this._item;null===a||this.shouldLoad||gJ(a.parent.doc,a=>{a.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(eu(this.subdocs).map(a=>a.guid))}transact(a,b=null){return gJ(this,a,b)}get(a,b=g2){let c=eq(this.share,a,()=>{let a=new b;return a._integrate(this,null),a}),d=c.constructor;if(b!==g2&&d!==b)if(d===g2){let d=new b;d._map=c._map,c._map.forEach(a=>{for(;null!==a;a=a.left)a.parent=d}),d._start=c._start;for(let a=d._start;null!==a;a=a.right)a.parent=d;return d._length=c._length,this.share.set(a,d),d._integrate(this,null),d}else throw Error(`Type with the name ${a} has already been defined with a different constructor`);return c}getArray(a=""){return this.get(a,hi)}getText(a=""){return this.get(a,hA)}getMap(a=""){return this.get(a,hk)}getXmlElement(a=""){return this.get(a,hD)}getXmlFragment(a=""){return this.get(a,hC)}toJSON(){let a={};return this.share.forEach((b,c)=>{a[c]=b.toJSON()}),a}destroy(){this.isDestroyed=!0,eu(this.subdocs).forEach(a=>a.destroy());let a=this._item;if(null!==a){this._item=null;let b=a.content;b.doc=new f7({guid:this.guid,...b.opts,shouldLoad:!1}),b.doc._item=a,gJ(a.parent.doc,c=>{let d=b.doc;a.deleted||c.subdocsAdded.add(d),c.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class f8{constructor(a){this.restDecoder=a}resetDsCurVal(){}readDsClock(){return fd(this.restDecoder)}readDsLen(){return fd(this.restDecoder)}}class f9 extends f8{readLeftID(){return gr(fd(this.restDecoder),fd(this.restDecoder))}readRightID(){return gr(fd(this.restDecoder),fd(this.restDecoder))}readClient(){return fd(this.restDecoder)}readInfo(){return fc(this.restDecoder)}readString(){return ff(this.restDecoder)}readParentInfo(){return 1===fd(this.restDecoder)}readTypeRef(){return fd(this.restDecoder)}readLen(){return fd(this.restDecoder)}readAny(){return fi(this.restDecoder)}readBuf(){var a;let b;return(b=new Uint8Array((a=fb(this.restDecoder)).byteLength)).set(a),b}readJSON(){return JSON.parse(ff(this.restDecoder))}readKey(){return ff(this.restDecoder)}}class ga{constructor(a){this.dsCurrVal=0,this.restDecoder=a}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=fd(this.restDecoder),this.dsCurrVal}readDsLen(){let a=fd(this.restDecoder)+1;return this.dsCurrVal+=a,a}}class gb extends ga{constructor(a){super(a),this.keys=[],fd(a),this.keyClockDecoder=new fl(fb(a)),this.clientDecoder=new fk(fb(a)),this.leftClockDecoder=new fl(fb(a)),this.rightClockDecoder=new fl(fb(a)),this.infoDecoder=new fj(fb(a),fc),this.stringDecoder=new fm(fb(a)),this.parentInfoDecoder=new fj(fb(a),fc),this.typeRefDecoder=new fk(fb(a)),this.lenDecoder=new fk(fb(a))}readLeftID(){return new gp(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new gp(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return fi(this.restDecoder)}readBuf(){return fb(this.restDecoder)}readJSON(){return fi(this.restDecoder)}readKey(){let a=this.keyClockDecoder.read();if(a<this.keys.length)return this.keys[a];{let a=this.stringDecoder.read();return this.keys.push(a),a}}}class gc{constructor(){this.restEncoder=eN()}toUint8Array(){return eP(this.restEncoder)}resetDsCurVal(){}writeDsClock(a){eR(this.restEncoder,a)}writeDsLen(a){eR(this.restEncoder,a)}}class gd extends gc{writeLeftID(a){eR(this.restEncoder,a.client),eR(this.restEncoder,a.clock)}writeRightID(a){eR(this.restEncoder,a.client),eR(this.restEncoder,a.clock)}writeClient(a){eR(this.restEncoder,a)}writeInfo(a){eQ(this.restEncoder,a)}writeString(a){eV(this.restEncoder,a)}writeParentInfo(a){eR(this.restEncoder,+!!a)}writeTypeRef(a){eR(this.restEncoder,a)}writeLen(a){eR(this.restEncoder,a)}writeAny(a){e$(this.restEncoder,a)}writeBuf(a){eX(this.restEncoder,a)}writeJSON(a){eV(this.restEncoder,JSON.stringify(a))}writeKey(a){eV(this.restEncoder,a)}}class ge{constructor(){this.restEncoder=eN(),this.dsCurrVal=0}toUint8Array(){return eP(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(a){let b=a-this.dsCurrVal;this.dsCurrVal=a,eR(this.restEncoder,b)}writeDsLen(a){0===a&&e6(),eR(this.restEncoder,a-1),this.dsCurrVal+=a}}class gf extends ge{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new e3,this.clientEncoder=new e1,this.leftClockEncoder=new e3,this.rightClockEncoder=new e3,this.infoEncoder=new e_(eQ),this.stringEncoder=new e4,this.parentInfoEncoder=new e_(eQ),this.typeRefEncoder=new e1,this.lenEncoder=new e1}toUint8Array(){let a=eN();return eR(a,0),eX(a,this.keyClockEncoder.toUint8Array()),eX(a,this.clientEncoder.toUint8Array()),eX(a,this.leftClockEncoder.toUint8Array()),eX(a,this.rightClockEncoder.toUint8Array()),eX(a,eP(this.infoEncoder)),eX(a,this.stringEncoder.toUint8Array()),eX(a,eP(this.parentInfoEncoder)),eX(a,this.typeRefEncoder.toUint8Array()),eX(a,this.lenEncoder.toUint8Array()),eW(a,eP(this.restEncoder)),eP(a)}writeLeftID(a){this.clientEncoder.write(a.client),this.leftClockEncoder.write(a.clock)}writeRightID(a){this.clientEncoder.write(a.client),this.rightClockEncoder.write(a.clock)}writeClient(a){this.clientEncoder.write(a)}writeInfo(a){this.infoEncoder.write(a)}writeString(a){this.stringEncoder.write(a)}writeParentInfo(a){this.parentInfoEncoder.write(+!!a)}writeTypeRef(a){this.typeRefEncoder.write(a)}writeLen(a){this.lenEncoder.write(a)}writeAny(a){e$(this.restEncoder,a)}writeBuf(a){eX(this.restEncoder,a)}writeJSON(a){e$(this.restEncoder,a)}writeKey(a){let b=this.keyMap.get(a);void 0===b?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(a)):this.keyClockEncoder.write(b)}}let gg=(a,b,c)=>{let d=new Map;c.forEach((a,c)=>{gw(b,c)>a&&d.set(c,a)}),gv(b).forEach((a,b)=>{c.has(b)||d.set(b,0)}),eR(a.restEncoder,d.size),eu(d.entries()).sort((a,b)=>b[0]-a[0]).forEach(([c,d])=>{((a,b,c,d)=>{d=eB(d,b[0].id.clock);let e=gy(b,d);eR(a.restEncoder,b.length-e),a.writeClient(c),eR(a.restEncoder,d);let f=b[e];f.write(a,d-f.id.clock);for(let c=e+1;c<b.length;c++)b[c].write(a,0)})(a,b.clients.get(c),c,d)})},gh=(a,b,c,d=gb)=>{let e=fa(b);((a,b,c,d=new gb(a))=>gJ(b,a=>{a.local=!1;let b=!1,c=a.doc,e=c.store,f=((a,b,c)=>{let d=[],e=eu(c.keys()).sort((a,b)=>a-b);if(0===e.length)return null;let f=()=>{if(0===e.length)return null;let a=c.get(e[e.length-1]);for(;a.refs.length===a.i;){if(e.pop(),!(e.length>0))return null;a=c.get(e[e.length-1])}return a},g=f();if(null===g)return null;let h=new gu,i=new Map,j=(a,b)=>{let c=i.get(a);(null==c||c>b)&&i.set(a,b)},k=g.refs[g.i++],l=new Map,m=()=>{for(let a of d){let b=a.id.client,d=c.get(b);d?(d.i--,h.clients.set(b,d.refs.slice(d.i)),c.delete(b),d.i=0,d.refs=[]):h.clients.set(b,[a]),e=e.filter(a=>a!==b)}d.length=0};for(;;){if(k.constructor!==h4){let e=eq(l,k.id.client,()=>gw(b,k.id.client))-k.id.clock;if(e<0)d.push(k),j(k.id.client,k.id.clock-1),m();else{let f=k.getMissing(a,b);if(null!==f){d.push(k);let a=c.get(f)||{refs:[],i:0};if(a.refs.length===a.i)j(f,gw(b,f)),m();else{k=a.refs[a.i++];continue}}else(0===e||e<k.length)&&(k.integrate(a,e),l.set(k.id.client,k.id.clock+k.length))}}if(d.length>0)k=d.pop();else if(null!==g&&g.i<g.refs.length)k=g.refs[g.i++];else{if(null===(g=f()))break;k=g.refs[g.i++]}}if(h.clients.size>0){let a=new gf;return gg(a,h,new Map),eR(a.restEncoder,0),{missing:i,update:a.toUint8Array()}}return null})(a,e,((a,b)=>{let c=eo(),d=fd(a.restDecoder);for(let e=0;e<d;e++){let d=fd(a.restDecoder),e=Array(d),f=a.readClient(),g=fd(a.restDecoder);c.set(f,{i:0,refs:e});for(let c=0;c<d;c++){let d=a.readInfo();switch(31&d){case 0:{let b=a.readLen();e[c]=new hI(gr(f,g),b),g+=b;break}case 10:{let b=fd(a.restDecoder);e[c]=new h4(gr(f,g),b),g+=b;break}default:{let h=(192&d)==0,i=new h1(gr(f,g),null,(128&d)==128?a.readLeftID():null,null,(64&d)==64?a.readRightID():null,h?a.readParentInfo()?b.get(a.readString()):a.readLeftID():null,h&&(32&d)==32?a.readString():null,h2(a,d));e[c]=i,g+=i.length}}}}return c})(d,c)),g=e.pendingStructs;if(g){for(let[a,c]of g.missing)if(c<gw(e,a)){b=!0;break}if(f){for(let[a,b]of f.missing){let c=g.missing.get(a);(null==c||c>b)&&g.missing.set(a,b)}g.update=gO([g.update,f.update])}}else e.pendingStructs=f;let h=f6(d,a,e);if(e.pendingDs){let b=new gb(fa(e.pendingDs));fd(b.restDecoder);let c=f6(b,a,e);h&&c?e.pendingDs=gO([h,c]):e.pendingDs=h||c}else e.pendingDs=h;if(b){let b=e.pendingStructs.update;e.pendingStructs=null,gh(a.doc,b)}},c,!1))(e,a,c,new d(e))},gi=(a,b)=>((a,b=new Uint8Array([0]),c=new gf)=>{((a,b,c=new Map)=>{var d;let e;gg(a,b.store,c),f4(a,(d=b.store,e=f3(),d.clients.forEach((a,b)=>{let c=[];for(let b=0;b<a.length;b++){let d=a[b];if(d.deleted){let e=d.id.clock,f=d.length;if(b+1<a.length)for(let c=a[b+1];b+1<a.length&&c.deleted;c=a[++b+1])f+=c.length;c.push(new fZ(e,f))}}c.length>0&&e.clients.set(b,c)}),e))})(c,a,gj(b));let d=[c.toUint8Array()];if(a.store.pendingDs&&d.push(a.store.pendingDs),a.store.pendingStructs&&d.push(gP(a.store.pendingStructs.update,b)),d.length>1){if(c.constructor===gd)return gM(d.map((a,b)=>0===b?a:gT(a)));else if(c.constructor===gf)return gO(d)}return d[0]})(a,b,new gd),gj=a=>(a=>{let b=new Map,c=fd(a.restDecoder);for(let d=0;d<c;d++){let c=fd(a.restDecoder),d=fd(a.restDecoder);b.set(c,d)}return b})(new f8(fa(a))),gk=(a,b)=>(eR(a.restEncoder,b.size),eu(b.entries()).sort((a,b)=>b[0]-a[0]).forEach(([b,c])=>{eR(a.restEncoder,b),eR(a.restEncoder,c)}),a);class gl{constructor(){this.l=[]}}let gm=()=>new gl,gn=(a,b)=>{let c=a.l,d=c.length;a.l=c.filter(a=>b!==a),d===a.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},go=(a,b,c)=>fC(a.l,[b,c]);class gp{constructor(a,b){this.client=a,this.clock=b}}let gq=(a,b)=>a===b||null!==a&&null!==b&&a.client===b.client&&a.clock===b.clock,gr=(a,b)=>new gp(a,b);f=f3(),new class a{constructor(a,b){this.ds=a,this.sv=b}}(f,new Map);let gs=(a,b)=>void 0===b?!a.deleted:b.sv.has(a.id.client)&&(b.sv.get(a.id.client)||0)>a.id.clock&&!f0(b.ds,a.id),gt=(a,b)=>{let c=eq(a.meta,gt,er),d=a.doc.store;c.has(b)||(b.sv.forEach((b,c)=>{b<gw(d,c)&&gB(a,gr(c,b))}),f_(a,b.ds,a=>{}),c.add(b))};class gu{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}let gv=a=>{let b=new Map;return a.clients.forEach((a,c)=>{let d=a[a.length-1];b.set(c,d.id.clock+d.length)}),b},gw=(a,b)=>{let c=a.clients.get(b);if(void 0===c)return 0;let d=c[c.length-1];return d.id.clock+d.length},gx=(a,b)=>{let c=a.clients.get(b.id.client);if(void 0===c)c=[],a.clients.set(b.id.client,c);else{let a=c[c.length-1];if(a.id.clock+a.length!==b.id.clock)throw e6()}c.push(b)},gy=(a,b)=>{let c=0,d=a.length-1,e=a[d],f=e.id.clock;if(f===b)return d;let g=ey(b/(f+e.length-1)*d);for(;c<=d;){if((f=(e=a[g]).id.clock)<=b){if(b<f+e.length)return g;c=g+1}else d=g-1;g=ey((c+d)/2)}throw e6()},gz=(a,b)=>{let c=a.clients.get(b.client);return c[gy(c,b.clock)]},gA=(a,b,c)=>{let d=gy(b,c),e=b[d];return e.id.clock<c&&e instanceof h1?(b.splice(d+1,0,h0(a,e,c-e.id.clock)),d+1):d},gB=(a,b)=>{let c=a.doc.store.clients.get(b.client);return c[gA(a,c,b.clock)]},gC=(a,b,c)=>{let d=b.clients.get(c.client),e=gy(d,c.clock),f=d[e];return c.clock!==f.id.clock+f.length-1&&f.constructor!==hI&&d.splice(e+1,0,h0(a,f,c.clock-f.id.clock+1)),f},gD=(a,b,c,d,e)=>{let f;if(0===d)return;let g=c+d,h=gA(a,b,c);do g<(f=b[h++]).id.clock+f.length&&gA(a,b,g),e(f);while(h<b.length&&b[h].id.clock<g)};class gE{constructor(a,b,c){this.doc=a,this.deleteSet=new f$,this.beforeState=gv(a.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=b,this.meta=new Map,this.local=c,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}let gF=(a,b)=>(0!==b.deleteSet.clients.size||!!((a,b)=>{for(let[c,d]of a)if(b(d,c))return!0;return!1})(b.afterState,(a,c)=>b.beforeState.get(c)!==a))&&(f1(b.deleteSet),gg(a,b.doc.store,b.beforeState),f4(a,b.deleteSet),!0),gG=(a,b,c)=>{let d=b._item;(null===d||d.id.clock<(a.beforeState.get(d.id.client)||0)&&!d.deleted)&&eq(a.changed,b,er).add(c)},gH=(a,b)=>{let c=a[b],d=a[b-1],e=b;for(;e>0;c=d,d=a[--e-1]){if(d.deleted===c.deleted&&d.constructor===c.constructor&&d.mergeWith(c)){c instanceof h1&&null!==c.parentSub&&c.parent._map.get(c.parentSub)===c&&c.parent._map.set(c.parentSub,d);continue}break}let f=b-e;return f&&a.splice(b+1-f,f),f},gI=(a,b)=>{if(b<a.length){let c=a[b],d=c.doc,e=d.store,f=c.deleteSet,g=c._mergeStructs;try{f1(f),c.afterState=gv(c.doc.store),d.emit("beforeObserverCalls",[c,d]);let a=[];c.changed.forEach((b,d)=>a.push(()=>{null!==d._item&&d._item.deleted||d._callObserver(c,b)})),a.push(()=>{c.changedParentTypes.forEach((b,d)=>{d._dEH.l.length>0&&(null===d._item||!d._item.deleted)&&((b=b.filter(a=>null===a.target._item||!a.target._item.deleted)).forEach(a=>{a.currentTarget=d,a._path=null}),b.sort((a,b)=>a.path.length-b.path.length),a.push(()=>{go(d._dEH,b,c)}))}),a.push(()=>d.emit("afterTransaction",[c,d])),a.push(()=>{c._needFormattingCleanup&&hx(c)})}),fC(a,[])}finally{d.gc&&((a,b,c)=>{for(let[d,e]of a.clients.entries()){let a=b.clients.get(d);for(let d=e.length-1;d>=0;d--){let f=e[d],g=f.clock+f.len;for(let d=gy(a,f.clock),e=a[d];d<a.length&&e.id.clock<g;e=a[++d]){let e=a[d];if(f.clock+f.len<=e.id.clock)break;e instanceof h1&&e.deleted&&!e.keep&&c(e)&&e.gc(b,!1)}}}})(f,e,d.gcFilter),f.clients.forEach((a,b)=>{let c=e.clients.get(b);for(let b=a.length-1;b>=0;b--){let d=a[b],e=eA(c.length-1,1+gy(c,d.clock+d.len-1));for(let a=e,b=c[a];a>0&&b.id.clock>=d.clock;b=c[a])a-=1+gH(c,a)}}),c.afterState.forEach((a,b)=>{let d=c.beforeState.get(b)||0;if(d!==a){let a=e.clients.get(b),c=eB(gy(a,d),1);for(let b=a.length-1;b>=c;)b-=1+gH(a,b)}});for(let a=g.length-1;a>=0;a--){let{client:b,clock:c}=g[a].id,d=e.clients.get(b),f=gy(d,c);!(f+1<d.length&&gH(d,f+1)>1)&&f>0&&gH(d,f)}if(c.local||c.afterState.get(d.clientID)===c.beforeState.get(d.clientID)||(((...a)=>{console.log(...fW(a))})(fT,fM,"[yjs] ",fN,fR,"Changed the client-id because another client seems to be using it."),d.clientID=fp()),d.emit("afterTransactionCleanup",[c,d]),d._observers.has("update")){let a=new gd;gF(a,c)&&d.emit("update",[a.toUint8Array(),c.origin,d,c])}if(d._observers.has("updateV2")){let a=new gf;gF(a,c)&&d.emit("updateV2",[a.toUint8Array(),c.origin,d,c])}let{subdocsAdded:h,subdocsLoaded:i,subdocsRemoved:j}=c;(h.size>0||j.size>0||i.size>0)&&(h.forEach(a=>{a.clientID=d.clientID,null==a.collectionid&&(a.collectionid=d.collectionid),d.subdocs.add(a)}),j.forEach(a=>d.subdocs.delete(a)),d.emit("subdocs",[{loaded:i,added:h,removed:j},d,c]),j.forEach(a=>a.destroy())),a.length<=b+1?(d._transactionCleanups=[],d.emit("afterAllTransactions",[d,a])):gI(a,b+1)}}},gJ=(a,b,c=null,d=!0)=>{let e=a._transactionCleanups,f=!1,g=null;null===a._transaction&&(f=!0,a._transaction=new gE(a,c,d),e.push(a._transaction),1===e.length&&a.emit("beforeAllTransactions",[a]),a.emit("beforeTransaction",[a._transaction,a]));try{g=b(a._transaction)}finally{if(f){let b=a._transaction===e[0];a._transaction=null,b&&gI(e,0)}}return g};class gK{constructor(a,b){this.gen=function*(a){let b=fd(a.restDecoder);for(let c=0;c<b;c++){let b=fd(a.restDecoder),c=a.readClient(),d=fd(a.restDecoder);for(let e=0;e<b;e++){let b=a.readInfo();if(10===b){let b=fd(a.restDecoder);yield new h4(gr(c,d),b),d+=b}else if((31&b)!=0){let e=(192&b)==0,f=new h1(gr(c,d),null,(128&b)==128?a.readLeftID():null,null,(64&b)==64?a.readRightID():null,e?a.readParentInfo()?a.readString():a.readLeftID():null,e&&(32&b)==32?a.readString():null,h2(a,b));yield f,d+=f.length}else{let b=a.readLen();yield new hI(gr(c,d),b),d+=b}}}}(a),this.curr=null,this.done=!1,this.filterSkips=b,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&null!==this.curr&&this.curr.constructor===h4)return this.curr}}class gL{constructor(a){this.currClient=0,this.startClock=0,this.written=0,this.encoder=a,this.clientStructs=[]}}let gM=a=>gO(a,f9,gd),gN=(a,b)=>{if(a.constructor===hI){let{client:c,clock:d}=a.id;return new hI(gr(c,d+b),a.length-b)}if(a.constructor===h4){let{client:c,clock:d}=a.id;return new h4(gr(c,d+b),a.length-b)}{let{client:c,clock:d}=a.id;return new h1(gr(c,d+b),null,gr(c,d+b-1),null,a.rightOrigin,a.parent,a.parentSub,a.content.splice(b))}},gO=(a,b=gb,c=gf)=>{if(1===a.length)return a[0];let d=a.map(a=>new b(fa(a))),e=d.map(a=>new gK(a,!0)),f=null,g=new c,h=new gL(g);for(;(e=e.filter(a=>null!==a.curr)).sort((a,b)=>{if(a.curr.id.client!==b.curr.id.client)return b.curr.id.client-a.curr.id.client;{let c=a.curr.id.clock-b.curr.id.clock;return 0===c?a.curr.constructor===b.curr.constructor?0:a.curr.constructor===h4?1:-1:c}}),0!==e.length;){let a=e[0],b=a.curr.id.client;if(null!==f){let c=a.curr,d=!1;for(;null!==c&&c.id.clock+c.length<=f.struct.id.clock+f.struct.length&&c.id.client>=f.struct.id.client;)c=a.next(),d=!0;if(null===c||c.id.client!==b||d&&c.id.clock>f.struct.id.clock+f.struct.length)continue;if(b!==f.struct.id.client)gR(h,f.struct,f.offset),f={struct:c,offset:0},a.next();else if(f.struct.id.clock+f.struct.length<c.id.clock)if(f.struct.constructor===h4)f.struct.length=c.id.clock+c.length-f.struct.id.clock;else{gR(h,f.struct,f.offset);let a=c.id.clock-f.struct.id.clock-f.struct.length;f={struct:new h4(gr(b,f.struct.id.clock+f.struct.length),a),offset:0}}else{let b=f.struct.id.clock+f.struct.length-c.id.clock;b>0&&(f.struct.constructor===h4?f.struct.length-=b:c=gN(c,b)),f.struct.mergeWith(c)||(gR(h,f.struct,f.offset),f={struct:c,offset:0},a.next())}}else f={struct:a.curr,offset:0},a.next();for(let c=a.curr;null!==c&&c.id.client===b&&c.id.clock===f.struct.id.clock+f.struct.length&&c.constructor!==h4;c=a.next())gR(h,f.struct,f.offset),f={struct:c,offset:0}}return null!==f&&(gR(h,f.struct,f.offset),f=null),gS(h),f4(g,(a=>{let b=new f$;for(let c=0;c<a.length;c++)a[c].clients.forEach((d,e)=>{if(!b.clients.has(e)){let f=d.slice();for(let b=c+1;b<a.length;b++)et(f,a[b].clients.get(e)||[]);b.clients.set(e,f)}});return f1(b),b})(d.map(a=>f5(a)))),g.toUint8Array()},gP=(a,b,c=gb,d=gf)=>{let e=gj(b),f=new d,g=new gL(f),h=new c(fa(a)),i=new gK(h,!1);for(;i.curr;){let a=i.curr,b=a.id.client,c=e.get(b)||0;if(i.curr.constructor===h4){i.next();continue}if(a.id.clock+a.length>c)for(gR(g,a,eB(c-a.id.clock,0)),i.next();i.curr&&i.curr.id.client===b;)gR(g,i.curr,0),i.next();else for(;i.curr&&i.curr.id.client===b&&i.curr.id.clock+i.curr.length<=c;)i.next()}return gS(g),f4(f,f5(h)),f.toUint8Array()},gQ=a=>{a.written>0&&(a.clientStructs.push({written:a.written,restEncoder:eP(a.encoder.restEncoder)}),a.encoder.restEncoder=eN(),a.written=0)},gR=(a,b,c)=>{a.written>0&&a.currClient!==b.id.client&&gQ(a),0===a.written&&(a.currClient=b.id.client,a.encoder.writeClient(b.id.client),eR(a.encoder.restEncoder,b.id.clock+c)),b.write(a.encoder,c),a.written++},gS=a=>{gQ(a);let b=a.encoder.restEncoder;eR(b,a.clientStructs.length);for(let c=0;c<a.clientStructs.length;c++){let d=a.clientStructs[c];eR(b,d.written),eW(b,d.restEncoder)}},gT=a=>((a,b,c,d)=>{let e=new c(fa(a)),f=new gK(e,!1),g=new d,h=new gL(g);for(let a=f.curr;null!==a;a=f.next())gR(h,b(a),0);return gS(h),f4(g,f5(e)),g.toUint8Array()})(a,fD,gb,gd),gU="You must not compute changes after the event-handler fired.";class gV{constructor(a,b){this.target=a,this.currentTarget=a,this.transaction=b,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=gW(this.currentTarget,this.target))}deletes(a){return f0(this.transaction.deleteSet,a.id)}get keys(){if(null===this._keys){if(0===this.transaction.doc._transactionCleanups.length)throw Error(gU);let a=new Map,b=this.target;this.transaction.changed.get(b).forEach(c=>{if(null!==c){let d,e,f=b._map.get(c);if(this.adds(f)){let a=f.left;for(;null!==a&&this.adds(a);)a=a.left;if(this.deletes(f))if(!(null!==a&&this.deletes(a)))return;else d="delete",e=es(a.content.getContent());else null!==a&&this.deletes(a)?(d="update",e=es(a.content.getContent())):(d="add",e=void 0)}else{if(!this.deletes(f))return;d="delete",e=es(f.content.getContent())}a.set(c,{action:d,oldValue:e})}}),this._keys=a}return this._keys}get delta(){return this.changes.delta}adds(a){return a.id.clock>=(this.transaction.beforeState.get(a.id.client)||0)}get changes(){let a=this._changes;if(null===a){if(0===this.transaction.doc._transactionCleanups.length)throw Error(gU);let b=this.target,c=er(),d=er(),e=[];if(a={added:c,deleted:d,delta:e,keys:this.keys},this.transaction.changed.get(b).has(null)){let a=null,f=()=>{a&&e.push(a)};for(let e=b._start;null!==e;e=e.right)e.deleted?this.deletes(e)&&!this.adds(e)&&((null===a||void 0===a.delete)&&(f(),a={delete:0}),a.delete+=e.length,d.add(e)):this.adds(e)?((null===a||void 0===a.insert)&&(f(),a={insert:[]}),a.insert=a.insert.concat(e.content.getContent()),c.add(e)):((null===a||void 0===a.retain)&&(f(),a={retain:0}),a.retain+=e.length);null!==a&&void 0===a.retain&&f()}this._changes=a}return a}}let gW=(a,b)=>{let c=[];for(;null!==b._item&&b!==a;){if(null!==b._item.parentSub)c.unshift(b._item.parentSub);else{let a=0,d=b._item.parent._start;for(;d!==b._item&&null!==d;)!d.deleted&&d.countable&&(a+=d.length),d=d.right;c.unshift(a)}b=b._item.parent}return c},gX=()=>{((...a)=>{console.warn(...fW(a))})("Invalid access: Add Yjs type to a document before reading data.")},gY=0;class gZ{constructor(a,b){a.marker=!0,this.p=a,this.index=b,this.timestamp=gY++}}let g$=(a,b,c)=>{a.p.marker=!1,a.p=b,b.marker=!0,a.index=c,a.timestamp=gY++},g_=(a,b)=>{if(null===a._start||0===b||null===a._searchMarker)return null;let c=0===a._searchMarker.length?null:a._searchMarker.reduce((a,c)=>ez(b-a.index)<ez(b-c.index)?a:c),d=a._start,e=0;for(null!==c&&(d=c.p,e=c.index,c.timestamp=gY++);null!==d.right&&e<b;){if(!d.deleted&&d.countable){if(b<e+d.length)break;e+=d.length}d=d.right}for(;null!==d.left&&e>b;)!(d=d.left).deleted&&d.countable&&(e-=d.length);for(;null!==d.left&&d.left.id.client===d.id.client&&d.left.id.clock+d.left.length===d.id.clock;)!(d=d.left).deleted&&d.countable&&(e-=d.length);if(null!==c&&ez(c.index-e)<d.parent.length/80)return g$(c,d,e),c;var f=a._searchMarker,g=d,h=e;if(f.length>=80){let a=f.reduce((a,b)=>a.timestamp<b.timestamp?a:b);return g$(a,g,h),a}{let a=new gZ(g,h);return f.push(a),a}},g0=(a,b,c)=>{for(let d=a.length-1;d>=0;d--){let e=a[d];if(c>0){let b=e.p;for(b.marker=!1;b&&(b.deleted||!b.countable);)(b=b.left)&&!b.deleted&&b.countable&&(e.index-=b.length);if(null===b||!0===b.marker){a.splice(d,1);continue}e.p=b,b.marker=!0}(b<e.index||c>0&&b===e.index)&&(e.index=eB(b,e.index+c))}},g1=(a,b,c)=>{let d=a,e=b.changedParentTypes;for(;eq(e,a,()=>[]).push(c),null!==a._item;)a=a._item.parent;go(d._eH,c,b)};class g2{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=gm(),this._dEH=gm(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(a,b){this.doc=a,this._item=b}_copy(){throw e5()}clone(){throw e5()}_write(a){}get _first(){let a=this._start;for(;null!==a&&a.deleted;)a=a.right;return a}_callObserver(a,b){!a.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(a){let b;b=this._eH,b.l.push(a)}observeDeep(a){let b;b=this._dEH,b.l.push(a)}unobserve(a){gn(this._eH,a)}unobserveDeep(a){gn(this._dEH,a)}toJSON(){}}let g3=(a,b,c)=>{a.doc??gX(),b<0&&(b=a._length+b),c<0&&(c=a._length+c);let d=c-b,e=[],f=a._start;for(;null!==f&&d>0;){if(f.countable&&!f.deleted){let a=f.content.getContent();if(a.length<=b)b-=a.length;else{for(let c=b;c<a.length&&d>0;c++)e.push(a[c]),d--;b=0}}f=f.right}return e},g4=a=>{a.doc??gX();let b=[],c=a._start;for(;null!==c;){if(c.countable&&!c.deleted){let a=c.content.getContent();for(let c=0;c<a.length;c++)b.push(a[c])}c=c.right}return b},g5=(a,b)=>{let c=0,d=a._start;for(a.doc??gX();null!==d;){if(d.countable&&!d.deleted){let e=d.content.getContent();for(let d=0;d<e.length;d++)b(e[d],c++,a)}d=d.right}},g6=(a,b)=>{let c=[];return g5(a,(d,e)=>{c.push(b(d,e,a))}),c},g7=(a,b)=>{a.doc??gX();let c=g_(a,b),d=a._start;for(null!==c&&(d=c.p,b-=c.index);null!==d;d=d.right)if(!d.deleted&&d.countable){if(b<d.length)return d.content.getContent()[b];b-=d.length}},g8=(a,b,c,d)=>{let e=c,f=a.doc,g=f.clientID,h=f.store,i=null===c?b._start:c.right,j=[],k=()=>{j.length>0&&((e=new h1(gr(g,gw(h,g)),e,e&&e.lastId,i,i&&i.id,b,null,new hR(j))).integrate(a,0),j=[])};d.forEach(c=>{if(null===c)j.push(c);else switch(c.constructor){case Number:case Object:case Boolean:case Array:case String:j.push(c);break;default:switch(k(),c.constructor){case Uint8Array:case ArrayBuffer:(e=new h1(gr(g,gw(h,g)),e,e&&e.lastId,i,i&&i.id,b,null,new hJ(new Uint8Array(c)))).integrate(a,0);break;case f7:(e=new h1(gr(g,gw(h,g)),e,e&&e.lastId,i,i&&i.id,b,null,new hM(c))).integrate(a,0);break;default:if(c instanceof g2)(e=new h1(gr(g,gw(h,g)),e,e&&e.lastId,i,i&&i.id,b,null,new h_(c))).integrate(a,0);else throw Error("Unexpected content type in insert operation")}}}),k()},g9=(a,b,c,d)=>{if(c>b._length)throw Error("Length exceeded!");if(0===c)return b._searchMarker&&g0(b._searchMarker,c,d.length),g8(a,b,null,d);let e=c,f=g_(b,c),g=b._start;for(null!==f&&(g=f.p,0==(c-=f.index)&&(c+=(g=g.prev)&&g.countable&&!g.deleted?g.length:0));null!==g;g=g.right)if(!g.deleted&&g.countable){if(c<=g.length){c<g.length&&gB(a,gr(g.id.client,g.id.clock+c));break}c-=g.length}return b._searchMarker&&g0(b._searchMarker,e,d.length),g8(a,b,g,d)},ha=(a,b,c,d)=>{if(0===d)return;let e=c,f=d,g=g_(b,c),h=b._start;for(null!==g&&(h=g.p,c-=g.index);null!==h&&c>0;h=h.right)!h.deleted&&h.countable&&(c<h.length&&gB(a,gr(h.id.client,h.id.clock+c)),c-=h.length);for(;d>0&&null!==h;)h.deleted||(d<h.length&&gB(a,gr(h.id.client,h.id.clock+d)),h.delete(a),d-=h.length),h=h.right;if(d>0)throw Error("Length exceeded!");b._searchMarker&&g0(b._searchMarker,e,-f+d)},hb=(a,b,c)=>{let d=b._map.get(c);void 0!==d&&d.delete(a)},hc=(a,b,c,d)=>{let e,f=b._map.get(c)||null,g=a.doc,h=g.clientID;if(null==d)e=new hR([d]);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:e=new hR([d]);break;case Uint8Array:e=new hJ(d);break;case f7:e=new hM(d);break;default:if(d instanceof g2)e=new h_(d);else throw Error("Unexpected content type")}new h1(gr(h,gw(g.store,h)),f,f&&f.lastId,null,null,b,c,e).integrate(a,0)},hd=(a,b)=>{a.doc??gX();let c=a._map.get(b);return void 0===c||c.deleted?void 0:c.content.getContent()[c.length-1]},he=a=>{let b={};return a.doc??gX(),a._map.forEach((a,c)=>{a.deleted||(b[c]=a.content.getContent()[a.length-1])}),b},hf=(a,b)=>{a.doc??gX();let c=a._map.get(b);return void 0!==c&&!c.deleted},hg=a=>{let b,c;return a.doc??gX(),b=a._map.entries(),c=a=>!a[1].deleted,fX(()=>{let a;do a=b.next();while(!a.done&&!c(a.value))return a})};class hh extends gV{}class hi extends g2{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(a){let b=new hi;return b.push(a),b}_integrate(a,b){super._integrate(a,b),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new hi}clone(){let a=new hi;return a.insert(0,this.toArray().map(a=>a instanceof g2?a.clone():a)),a}get length(){return this.doc??gX(),this._length}_callObserver(a,b){super._callObserver(a,b),g1(this,a,new hh(this,a))}insert(a,b){null!==this.doc?gJ(this.doc,c=>{g9(c,this,a,b)}):this._prelimContent.splice(a,0,...b)}push(a){null!==this.doc?gJ(this.doc,b=>{((a,b,c)=>{let d=(b._searchMarker||[]).reduce((a,b)=>b.index>a.index?b:a,{index:0,p:b._start}).p;if(d)for(;d.right;)d=d.right;return g8(a,b,d,c)})(b,this,a)}):this._prelimContent.push(...a)}unshift(a){this.insert(0,a)}delete(a,b=1){null!==this.doc?gJ(this.doc,c=>{ha(c,this,a,b)}):this._prelimContent.splice(a,b)}get(a){return g7(this,a)}toArray(){return g4(this)}slice(a=0,b=this.length){return g3(this,a,b)}toJSON(){return this.map(a=>a instanceof g2?a.toJSON():a)}map(a){return g6(this,a)}forEach(a){g5(this,a)}[Symbol.iterator](){let a,b,c;return a=this._start,b=null,c=0,{[Symbol.iterator](){return this},next:()=>{if(null===b){for(;null!==a&&a.deleted;)a=a.right;if(null===a)return{done:!0,value:void 0};b=a.content.getContent(),c=0,a=a.right}let d=b[c++];return b.length<=c&&(b=null),{done:!1,value:d}}}}_write(a){a.writeTypeRef(hU)}}class hj extends gV{constructor(a,b,c){super(a,b),this.keysChanged=c}}class hk extends g2{constructor(a){super(),this._prelimContent=null,void 0===a?this._prelimContent=new Map:this._prelimContent=new Map(a)}_integrate(a,b){super._integrate(a,b),this._prelimContent.forEach((a,b)=>{this.set(b,a)}),this._prelimContent=null}_copy(){return new hk}clone(){let a=new hk;return this.forEach((b,c)=>{a.set(c,b instanceof g2?b.clone():b)}),a}_callObserver(a,b){g1(this,a,new hj(this,a,b))}toJSON(){this.doc??gX();let a={};return this._map.forEach((b,c)=>{if(!b.deleted){let d=b.content.getContent()[b.length-1];a[c]=d instanceof g2?d.toJSON():d}}),a}get size(){return[...hg(this)].length}keys(){return fY(hg(this),a=>a[0])}values(){return fY(hg(this),a=>a[1].content.getContent()[a[1].length-1])}entries(){return fY(hg(this),a=>[a[0],a[1].content.getContent()[a[1].length-1]])}forEach(a){this.doc??gX(),this._map.forEach((b,c)=>{b.deleted||a(b.content.getContent()[b.length-1],c,this)})}[Symbol.iterator](){return this.entries()}delete(a){null!==this.doc?gJ(this.doc,b=>{hb(b,this,a)}):this._prelimContent.delete(a)}set(a,b){return null!==this.doc?gJ(this.doc,c=>{hc(c,this,a,b)}):this._prelimContent.set(a,b),b}get(a){return hd(this,a)}has(a){return hf(this,a)}clear(){null!==this.doc?gJ(this.doc,a=>{this.forEach(function(b,c,d){hb(a,d,c)})}):this._prelimContent.clear()}_write(a){a.writeTypeRef(hV)}}let hl=(a,b)=>{let c,d;return a===b||"object"==typeof a&&"object"==typeof b&&a&&b&&((c=a)===(d=b)||fy(c).length===fy(d).length&&((a,b)=>{for(let c in a)if(!b(a[c],c))return!1;return!0})(c,(a,b)=>{let c;return(void 0!==a||fz(d,b))&&((c=d[b])===a||!!c?.[fw]?.(a))}))};class hm{constructor(a,b,c,d){this.left=a,this.right=b,this.index=c,this.currentAttributes=d}forward(){null===this.right&&e6(),this.right.content.constructor===hO?this.right.deleted||hq(this.currentAttributes,this.right.content):this.right.deleted||(this.index+=this.right.length),this.left=this.right,this.right=this.right.right}}let hn=(a,b,c)=>{for(;null!==b.right&&c>0;)b.right.content.constructor===hO?b.right.deleted||hq(b.currentAttributes,b.right.content):b.right.deleted||(c<b.right.length&&gB(a,gr(b.right.id.client,b.right.id.clock+c)),b.index+=b.right.length,c-=b.right.length),b.left=b.right,b.right=b.right.right;return b},ho=(a,b,c,d)=>{let e=new Map,f=d?g_(b,c):null;return f?hn(a,new hm(f.p.left,f.p,f.index,e),c-f.index):hn(a,new hm(null,b._start,0,e),c)},hp=(a,b,c,d)=>{for(;null!==c.right&&(!0===c.right.deleted||c.right.content.constructor===hO&&hl(d.get(c.right.content.key),c.right.content.value));)c.right.deleted||d.delete(c.right.content.key),c.forward();let e=a.doc,f=e.clientID;d.forEach((d,g)=>{let h=c.left,i=c.right,j=new h1(gr(f,gw(e.store,f)),h,h&&h.lastId,i,i&&i.id,b,null,new hO(g,d));j.integrate(a,0),c.right=j,c.forward()})},hq=(a,b)=>{let{key:c,value:d}=b;null===d?a.delete(c):a.set(c,d)},hr=(a,b)=>{for(;null!==a.right&&(a.right.deleted||a.right.content.constructor===hO&&hl(b[a.right.content.key]??null,a.right.content.value));){;a.forward()}},hs=(a,b,c,d)=>{let e=a.doc,f=e.clientID,g=new Map;for(let h in d){let i=d[h],j=c.currentAttributes.get(h)??null;if(!hl(j,i)){g.set(h,j);let{left:d,right:k}=c;c.right=new h1(gr(f,gw(e.store,f)),d,d&&d.lastId,k,k&&k.id,b,null,new hO(h,i)),c.right.integrate(a,0),c.forward()}}return g},ht=(a,b,c,d,e)=>{c.currentAttributes.forEach((a,b)=>{void 0===e[b]&&(e[b]=null)});let f=a.doc,g=f.clientID;hr(c,e);let h=hs(a,b,c,e),i=d.constructor===String?new hS(d):d instanceof g2?new h_(d):new hN(d),{left:j,right:k,index:l}=c;b._searchMarker&&g0(b._searchMarker,c.index,i.getLength()),(k=new h1(gr(g,gw(f.store,g)),j,j&&j.lastId,k,k&&k.id,b,null,i)).integrate(a,0),c.right=k,c.index=l,c.forward(),hp(a,b,c,h)},hu=(a,b,c,d,e)=>{let f=a.doc,g=f.clientID;hr(c,e);let h=hs(a,b,c,e);for(;null!==c.right&&(d>0||h.size>0&&(c.right.deleted||c.right.content.constructor===hO));){if(!c.right.deleted)if(c.right.content.constructor===hO){let{key:b,value:f}=c.right.content,g=e[b];if(void 0!==g){if(hl(g,f))h.delete(b);else{if(0===d)break;h.set(b,f)}c.right.delete(a)}else c.currentAttributes.set(b,f)}else d<c.right.length&&gB(a,gr(c.right.id.client,c.right.id.clock+d)),d-=c.right.length;c.forward()}if(d>0){let e="";for(;d>0;d--)e+="\n";c.right=new h1(gr(g,gw(f.store,g)),c.left,c.left&&c.left.lastId,c.right,c.right&&c.right.id,b,null,new hS(e)),c.right.integrate(a,0),c.forward()}hp(a,b,c,h)},hv=(a,b,c,d,e)=>{let f=b,g=eo();for(;f&&(!f.countable||f.deleted);){if(!f.deleted&&f.content.constructor===hO){let a=f.content;g.set(a.key,a)}f=f.right}let h=0,i=!1;for(;b!==f;){if(c===b&&(i=!0),!b.deleted){let c=b.content;if(c.constructor===hO){let{key:f,value:j}=c,k=d.get(f)??null;(g.get(f)!==c||k===j)&&(b.delete(a),h++,i||(e.get(f)??null)!==j||k===j||(null===k?e.delete(f):e.set(f,k))),i||b.deleted||hq(e,c)}}b=b.right}return h},hw=a=>{let b=0;return gJ(a.doc,c=>{let d=a._start,e=a._start,f=eo(),g=ep(f);for(;e;)!1===e.deleted&&(e.content.constructor===hO?hq(g,e.content):(b+=hv(c,d,e,f,g),f=ep(g),d=e)),e=e.right}),b},hx=a=>{let b=new Set,c=a.doc;for(let[d,e]of a.afterState.entries()){let f=a.beforeState.get(d)||0;e!==f&&gD(a,c.store.clients.get(d),f,e,a=>{a.deleted||a.content.constructor!==hO||a.constructor===hI||b.add(a.parent)})}gJ(c,c=>{for(let d of(f_(a,a.deleteSet,a=>{if(a instanceof hI||!a.parent._hasFormatting||b.has(a.parent))return;let d=a.parent;if(a.content.constructor===hO)b.add(d);else{for(var e=a;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;let b=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===hO){let a=e.content.key;b.has(a)?e.delete(c):b.add(a)}e=e.left}}}),b))hw(d)})},hy=(a,b,c)=>{let d=c,e=ep(b.currentAttributes),f=b.right;for(;c>0&&null!==b.right;){if(!1===b.right.deleted)switch(b.right.content.constructor){case h_:case hN:case hS:c<b.right.length&&gB(a,gr(b.right.id.client,b.right.id.clock+c)),c-=b.right.length,b.right.delete(a)}b.forward()}f&&hv(a,f,b.right,e,b.currentAttributes);let g=(b.left||b.right).parent;return g._searchMarker&&g0(g._searchMarker,b.index,-d+c),b};class hz extends gV{constructor(a,b,c){super(a,b),this.childListChanged=!1,this.keysChanged=new Set,c.forEach(a=>{null===a?this.childListChanged=!0:this.keysChanged.add(a)})}get changes(){if(null===this._changes){let a={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=a}return this._changes}get delta(){if(null===this._delta){let a=this.target.doc,b=[];gJ(a,a=>{let c=new Map,d=new Map,e=this.target._start,f=null,g={},h="",i=0,j=0,k=()=>{if(null!==f){let a=null;switch(f){case"delete":j>0&&(a={delete:j}),j=0;break;case"insert":("object"==typeof h||h.length>0)&&(a={insert:h},c.size>0&&(a.attributes={},c.forEach((b,c)=>{null!==b&&(a.attributes[c]=b)}))),h="";break;case"retain":i>0&&(a={retain:i},(a=>{for(let b in a)return!1;return!0})(g)||(a.attributes=fx({},g))),i=0}a&&b.push(a),f=null}};for(;null!==e;){switch(e.content.constructor){case h_:case hN:this.adds(e)?this.deletes(e)||(k(),f="insert",h=e.content.getContent()[0],k()):this.deletes(e)?("delete"!==f&&(k(),f="delete"),j+=1):e.deleted||("retain"!==f&&(k(),f="retain"),i+=1);break;case hS:this.adds(e)?this.deletes(e)||("insert"!==f&&(k(),f="insert"),h+=e.content.str):this.deletes(e)?("delete"!==f&&(k(),f="delete"),j+=e.length):e.deleted||("retain"!==f&&(k(),f="retain"),i+=e.length);break;case hO:{let{key:b,value:h}=e.content;if(this.adds(e))this.deletes(e)||(hl(c.get(b)??null,h)?null!==h&&e.delete(a):("retain"===f&&k(),hl(h,d.get(b)??null)?delete g[b]:g[b]=h));else if(this.deletes(e)){d.set(b,h);let a=c.get(b)??null;hl(a,h)||("retain"===f&&k(),g[b]=a)}else if(!e.deleted){d.set(b,h);let c=g[b];void 0!==c&&(hl(c,h)?null!==c&&e.delete(a):("retain"===f&&k(),null===h?delete g[b]:g[b]=h))}e.deleted||("insert"===f&&k(),hq(c,e.content))}}e=e.right}for(k();b.length>0;){let a=b[b.length-1];if(void 0!==a.retain&&void 0===a.attributes)b.pop();else break}}),this._delta=b}return this._delta}}class hA extends g2{constructor(a){super(),this._pending=void 0!==a?[()=>this.insert(0,a)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??gX(),this._length}_integrate(a,b){super._integrate(a,b);try{this._pending.forEach(a=>a())}catch(a){console.error(a)}this._pending=null}_copy(){return new hA}clone(){let a=new hA;return a.applyDelta(this.toDelta()),a}_callObserver(a,b){super._callObserver(a,b);let c=new hz(this,a,b);g1(this,a,c),!a.local&&this._hasFormatting&&(a._needFormattingCleanup=!0)}toString(){this.doc??gX();let a="",b=this._start;for(;null!==b;)!b.deleted&&b.countable&&b.content.constructor===hS&&(a+=b.content.str),b=b.right;return a}toJSON(){return this.toString()}applyDelta(a,{sanitize:b=!0}={}){null!==this.doc?gJ(this.doc,c=>{let d=new hm(null,this._start,0,new Map);for(let e=0;e<a.length;e++){let f=a[e];if(void 0!==f.insert){let g=b||"string"!=typeof f.insert||e!==a.length-1||null!==d.right||"\n"!==f.insert.slice(-1)?f.insert:f.insert.slice(0,-1);("string"!=typeof g||g.length>0)&&ht(c,this,d,g,f.attributes||{})}else void 0!==f.retain?hu(c,this,d,f.retain,f.attributes||{}):void 0!==f.delete&&hy(c,d,f.delete)}}):this._pending.push(()=>this.applyDelta(a))}toDelta(a,b,c){this.doc??gX();let d=[],e=new Map,f=this.doc,g="",h=this._start;function i(){if(g.length>0){let a={},b=!1;e.forEach((c,d)=>{b=!0,a[d]=c});let c={insert:g};b&&(c.attributes=a),d.push(c),g=""}}let j=()=>{for(;null!==h;){if(gs(h,a)||void 0!==b&&gs(h,b))switch(h.content.constructor){case hS:{let d=e.get("ychange");void 0===a||gs(h,a)?void 0===b||gs(h,b)?void 0!==d&&(i(),e.delete("ychange")):(void 0===d||d.user!==h.id.client||"added"!==d.type)&&(i(),e.set("ychange",c?c("added",h.id):{type:"added"})):(void 0===d||d.user!==h.id.client||"removed"!==d.type)&&(i(),e.set("ychange",c?c("removed",h.id):{type:"removed"})),g+=h.content.str;break}case h_:case hN:{i();let a={insert:h.content.getContent()[0]};if(e.size>0){let b={};a.attributes=b,e.forEach((a,c)=>{b[c]=a})}d.push(a);break}case hO:gs(h,a)&&(i(),hq(e,h.content))}h=h.right}i()};return a||b?gJ(f,c=>{a&&gt(c,a),b&&gt(c,b),j()},"cleanup"):j(),d}insert(a,b,c){if(b.length<=0)return;let d=this.doc;null!==d?gJ(d,d=>{let e=ho(d,this,a,!c);c||(c={},e.currentAttributes.forEach((a,b)=>{c[b]=a})),ht(d,this,e,b,c)}):this._pending.push(()=>this.insert(a,b,c))}insertEmbed(a,b,c){let d=this.doc;null!==d?gJ(d,d=>{let e=ho(d,this,a,!c);ht(d,this,e,b,c||{})}):this._pending.push(()=>this.insertEmbed(a,b,c||{}))}delete(a,b){if(0===b)return;let c=this.doc;null!==c?gJ(c,c=>{hy(c,ho(c,this,a,!0),b)}):this._pending.push(()=>this.delete(a,b))}format(a,b,c){if(0===b)return;let d=this.doc;null!==d?gJ(d,d=>{let e=ho(d,this,a,!1);null!==e.right&&hu(d,this,e,b,c)}):this._pending.push(()=>this.format(a,b,c))}removeAttribute(a){null!==this.doc?gJ(this.doc,b=>{hb(b,this,a)}):this._pending.push(()=>this.removeAttribute(a))}setAttribute(a,b){null!==this.doc?gJ(this.doc,c=>{hc(c,this,a,b)}):this._pending.push(()=>this.setAttribute(a,b))}getAttribute(a){return hd(this,a)}getAttributes(){return he(this)}_write(a){a.writeTypeRef(hW)}}class hB{constructor(a,b=()=>!0){this._filter=b,this._root=a,this._currentNode=a._start,this._firstCall=!0,a.doc??gX()}[Symbol.iterator](){return this}next(){let a=this._currentNode,b=a&&a.content&&a.content.type;if(null!==a&&(!this._firstCall||a.deleted||!this._filter(b)))do if(b=a.content.type,a.deleted||b.constructor!==hD&&b.constructor!==hC||null===b._start)for(;null!==a;){let b=a.next;if(null!==b){a=b;break}a=a.parent===this._root?null:a.parent._item}else a=b._start;while(null!==a&&(a.deleted||!this._filter(a.content.type)))return(this._firstCall=!1,null===a)?{value:void 0,done:!0}:(this._currentNode=a,{value:a.content.type,done:!1})}}class hC extends g2{constructor(){super(),this._prelimContent=[]}get firstChild(){let a=this._first;return a?a.content.getContent()[0]:null}_integrate(a,b){super._integrate(a,b),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new hC}clone(){let a=new hC;return a.insert(0,this.toArray().map(a=>a instanceof g2?a.clone():a)),a}get length(){return this.doc??gX(),null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(a){return new hB(this,a)}querySelector(a){a=a.toUpperCase();let b=new hB(this,b=>b.nodeName&&b.nodeName.toUpperCase()===a).next();return b.done?null:b.value}querySelectorAll(a){return a=a.toUpperCase(),eu(new hB(this,b=>b.nodeName&&b.nodeName.toUpperCase()===a))}_callObserver(a,b){g1(this,a,new hE(this,b,a))}toString(){return g6(this,a=>a.toString()).join("")}toJSON(){return this.toString()}toDOM(a=document,b={},c){let d=a.createDocumentFragment();return void 0!==c&&c._createAssociation(d,this),g5(this,e=>{d.insertBefore(e.toDOM(a,b,c),null)}),d}insert(a,b){null!==this.doc?gJ(this.doc,c=>{g9(c,this,a,b)}):this._prelimContent.splice(a,0,...b)}insertAfter(a,b){if(null!==this.doc)gJ(this.doc,c=>{g8(c,this,a&&a instanceof g2?a._item:a,b)});else{let c=this._prelimContent,d=null===a?0:c.findIndex(b=>b===a)+1;if(0===d&&null!==a)throw Error("Reference item not found");c.splice(d,0,...b)}}delete(a,b=1){null!==this.doc?gJ(this.doc,c=>{ha(c,this,a,b)}):this._prelimContent.splice(a,b)}toArray(){return g4(this)}push(a){this.insert(this.length,a)}unshift(a){this.insert(0,a)}get(a){return g7(this,a)}slice(a=0,b=this.length){return g3(this,a,b)}forEach(a){g5(this,a)}_write(a){a.writeTypeRef(hY)}}class hD extends hC{constructor(a="UNDEFINED"){super(),this.nodeName=a,this._prelimAttrs=new Map}get nextSibling(){let a=this._item?this._item.next:null;return a?a.content.type:null}get prevSibling(){let a=this._item?this._item.prev:null;return a?a.content.type:null}_integrate(a,b){super._integrate(a,b),this._prelimAttrs.forEach((a,b)=>{this.setAttribute(b,a)}),this._prelimAttrs=null}_copy(){return new hD(this.nodeName)}clone(){let a=new hD(this.nodeName);var b=this.getAttributes(),c=(b,c)=>{a.setAttribute(c,b)};for(let a in b)c(b[a],a);return a.insert(0,this.toArray().map(a=>a instanceof g2?a.clone():a)),a}toString(){let a=this.getAttributes(),b=[],c=[];for(let b in a)c.push(b);c.sort();let d=c.length;for(let e=0;e<d;e++){let d=c[e];b.push(d+'="'+a[d]+'"')}let e=this.nodeName.toLocaleLowerCase(),f=b.length>0?" "+b.join(" "):"";return`<${e}${f}>${super.toString()}</${e}>`}removeAttribute(a){null!==this.doc?gJ(this.doc,b=>{hb(b,this,a)}):this._prelimAttrs.delete(a)}setAttribute(a,b){null!==this.doc?gJ(this.doc,c=>{hc(c,this,a,b)}):this._prelimAttrs.set(a,b)}getAttribute(a){return hd(this,a)}hasAttribute(a){return hf(this,a)}getAttributes(a){let b;return a?(b={},this._map.forEach((c,d)=>{let e=c;for(;null!==e&&(!a.sv.has(e.id.client)||e.id.clock>=(a.sv.get(e.id.client)||0));)e=e.left;null!==e&&gs(e,a)&&(b[d]=e.content.getContent()[e.length-1])}),b):he(this)}toDOM(a=document,b={},c){let d=a.createElement(this.nodeName),e=this.getAttributes();for(let a in e){let b=e[a];"string"==typeof b&&d.setAttribute(a,b)}return g5(this,e=>{d.appendChild(e.toDOM(a,b,c))}),void 0!==c&&c._createAssociation(d,this),d}_write(a){a.writeTypeRef(hX),a.writeKey(this.nodeName)}}class hE extends gV{constructor(a,b,c){super(a,c),this.childListChanged=!1,this.attributesChanged=new Set,b.forEach(a=>{null===a?this.childListChanged=!0:this.attributesChanged.add(a)})}}class hF extends hk{constructor(a){super(),this.hookName=a}_copy(){return new hF(this.hookName)}clone(){let a=new hF(this.hookName);return this.forEach((b,c)=>{a.set(c,b)}),a}toDOM(a=document,b={},c){let d,e=b[this.hookName];return(d=void 0!==e?e.createDom(this):document.createElement(this.hookName)).setAttribute("data-yjs-hook",this.hookName),void 0!==c&&c._createAssociation(d,this),d}_write(a){a.writeTypeRef(hZ),a.writeKey(this.hookName)}}class hG extends hA{get nextSibling(){let a=this._item?this._item.next:null;return a?a.content.type:null}get prevSibling(){let a=this._item?this._item.prev:null;return a?a.content.type:null}_copy(){return new hG}clone(){let a=new hG;return a.applyDelta(this.toDelta()),a}toDOM(a=document,b,c){let d=a.createTextNode(this.toString());return void 0!==c&&c._createAssociation(d,this),d}toString(){return this.toDelta().map(a=>{let b=[];for(let c in a.attributes){let d=[];for(let b in a.attributes[c])d.push({key:b,value:a.attributes[c][b]});d.sort((a,b)=>a.key<b.key?-1:1),b.push({nodeName:c,attrs:d})}b.sort((a,b)=>a.nodeName<b.nodeName?-1:1);let c="";for(let a=0;a<b.length;a++){let d=b[a];c+=`<${d.nodeName}`;for(let a=0;a<d.attrs.length;a++){let b=d.attrs[a];c+=` ${b.key}="${b.value}"`}c+=">"}c+=a.insert;for(let a=b.length-1;a>=0;a--)c+=`</${b[a].nodeName}>`;return c}).join("")}toJSON(){return this.toString()}_write(a){a.writeTypeRef(h$)}}class hH{constructor(a,b){this.id=a,this.length=b}get deleted(){throw e5()}mergeWith(a){return!1}write(a,b,c){throw e5()}integrate(a,b){throw e5()}}class hI extends hH{get deleted(){return!0}delete(){}mergeWith(a){return this.constructor===a.constructor&&(this.length+=a.length,!0)}integrate(a,b){b>0&&(this.id.clock+=b,this.length-=b),gx(a.doc.store,this)}write(a,b){a.writeInfo(0),a.writeLen(this.length-b)}getMissing(a,b){return null}}class hJ{constructor(a){this.content=a}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new hJ(this.content)}splice(a){throw e5()}mergeWith(a){return!1}integrate(a,b){}delete(a){}gc(a){}write(a,b){a.writeBuf(this.content)}getRef(){return 3}}class hK{constructor(a){this.len=a}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new hK(this.len)}splice(a){let b=new hK(this.len-a);return this.len=a,b}mergeWith(a){return this.len+=a.len,!0}integrate(a,b){f2(a.deleteSet,b.id.client,b.id.clock,this.len),b.markDeleted()}delete(a){}gc(a){}write(a,b){a.writeLen(this.len-b)}getRef(){return 1}}let hL=(a,b)=>new f7({guid:a,...b,shouldLoad:b.shouldLoad||b.autoLoad||!1});class hM{constructor(a){a._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=a;const b={};this.opts=b,a.gc||(b.gc=!1),a.autoLoad&&(b.autoLoad=!0),null!==a.meta&&(b.meta=a.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new hM(hL(this.doc.guid,this.opts))}splice(a){throw e5()}mergeWith(a){return!1}integrate(a,b){this.doc._item=b,a.subdocsAdded.add(this.doc),this.doc.shouldLoad&&a.subdocsLoaded.add(this.doc)}delete(a){a.subdocsAdded.has(this.doc)?a.subdocsAdded.delete(this.doc):a.subdocsRemoved.add(this.doc)}gc(a){}write(a,b){a.writeString(this.doc.guid),a.writeAny(this.opts)}getRef(){return 9}}class hN{constructor(a){this.embed=a}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new hN(this.embed)}splice(a){throw e5()}mergeWith(a){return!1}integrate(a,b){}delete(a){}gc(a){}write(a,b){a.writeJSON(this.embed)}getRef(){return 5}}class hO{constructor(a,b){this.key=a,this.value=b}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new hO(this.key,this.value)}splice(a){throw e5()}mergeWith(a){return!1}integrate(a,b){let c=b.parent;c._searchMarker=null,c._hasFormatting=!0}delete(a){}gc(a){}write(a,b){a.writeKey(this.key),a.writeJSON(this.value)}getRef(){return 6}}class hP{constructor(a){this.arr=a}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new hP(this.arr)}splice(a){let b=new hP(this.arr.slice(a));return this.arr=this.arr.slice(0,a),b}mergeWith(a){return this.arr=this.arr.concat(a.arr),!0}integrate(a,b){}delete(a){}gc(a){}write(a,b){let c=this.arr.length;a.writeLen(c-b);for(let d=b;d<c;d++){let b=this.arr[d];a.writeString(void 0===b?"undefined":JSON.stringify(b))}}getRef(){return 2}}let hQ="development"===fI("node_env");class hR{constructor(a){this.arr=a,hQ&&fB(a)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new hR(this.arr)}splice(a){let b=new hR(this.arr.slice(a));return this.arr=this.arr.slice(0,a),b}mergeWith(a){return this.arr=this.arr.concat(a.arr),!0}integrate(a,b){}delete(a){}gc(a){}write(a,b){let c=this.arr.length;a.writeLen(c-b);for(let d=b;d<c;d++){let b=this.arr[d];a.writeAny(b)}}getRef(){return 8}}class hS{constructor(a){this.str=a}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new hS(this.str)}splice(a){let b=new hS(this.str.slice(a));this.str=this.str.slice(0,a);let c=this.str.charCodeAt(a-1);return c>=55296&&c<=56319&&(this.str=this.str.slice(0,a-1)+"",b.str=""+b.str.slice(1)),b}mergeWith(a){return this.str+=a.str,!0}integrate(a,b){}delete(a){}gc(a){}write(a,b){a.writeString(0===b?this.str:this.str.slice(b))}getRef(){return 4}}let hT=[a=>new hi,a=>new hk,a=>new hA,a=>new hD(a.readKey()),a=>new hC,a=>new hF(a.readKey()),a=>new hG],hU=0,hV=1,hW=2,hX=3,hY=4,hZ=5,h$=6;class h_{constructor(a){this.type=a}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new h_(this.type._copy())}splice(a){throw e5()}mergeWith(a){return!1}integrate(a,b){this.type._integrate(a.doc,b)}delete(a){let b=this.type._start;for(;null!==b;)b.deleted?b.id.clock<(a.beforeState.get(b.id.client)||0)&&a._mergeStructs.push(b):b.delete(a),b=b.right;this.type._map.forEach(b=>{b.deleted?b.id.clock<(a.beforeState.get(b.id.client)||0)&&a._mergeStructs.push(b):b.delete(a)}),a.changed.delete(this.type)}gc(a){let b=this.type._start;for(;null!==b;)b.gc(a,!0),b=b.right;this.type._start=null,this.type._map.forEach(b=>{for(;null!==b;)b.gc(a,!0),b=b.left}),this.type._map=new Map}write(a,b){this.type._write(a)}getRef(){return 7}}let h0=(a,b,c)=>{let{client:d,clock:e}=b.id,f=new h1(gr(d,e+c),b,gr(d,e+c-1),b.right,b.rightOrigin,b.parent,b.parentSub,b.content.splice(c));return b.deleted&&f.markDeleted(),b.keep&&(f.keep=!0),null!==b.redone&&(f.redone=gr(b.redone.client,b.redone.clock+c)),b.right=f,null!==f.right&&(f.right.left=f),a._mergeStructs.push(f),null!==f.parentSub&&null===f.right&&f.parent._map.set(f.parentSub,f),b.length=c,f};class h1 extends hH{constructor(a,b,c,d,e,f,g,h){super(a,h.getLength()),this.origin=c,this.left=b,this.right=d,this.rightOrigin=e,this.parent=f,this.parentSub=g,this.redone=null,this.content=h,this.info=2*!!this.content.isCountable()}set marker(a){(8&this.info)>0!==a&&(this.info^=8)}get marker(){return(8&this.info)>0}get keep(){return(1&this.info)>0}set keep(a){this.keep!==a&&(this.info^=1)}get countable(){return(2&this.info)>0}get deleted(){return(4&this.info)>0}set deleted(a){this.deleted!==a&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(a,b){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=gw(b,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=gw(b,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===gp&&this.id.client!==this.parent.client&&this.parent.clock>=gw(b,this.parent.client))return this.parent.client;if(this.origin&&(this.left=gC(a,b,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=gB(a,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===hI||this.right&&this.right.constructor===hI)this.parent=null;else if(this.parent){if(this.parent.constructor===gp){let a=gz(b,this.parent);a.constructor===hI?this.parent=null:this.parent=a.content.type}}else this.left&&this.left.constructor===h1?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===h1&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(a,b){if(b>0&&(this.id.clock+=b,this.left=gC(a,a.doc.store,gr(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(b),this.length-=b),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let b,c=this.left;if(null!==c)b=c.right;else if(null!==this.parentSub)for(b=this.parent._map.get(this.parentSub)||null;null!==b&&null!==b.left;)b=b.left;else b=this.parent._start;let d=new Set,e=new Set;for(;null!==b&&b!==this.right;){if(e.add(b),d.add(b),gq(this.origin,b.origin)){if(b.id.client<this.id.client)c=b,d.clear();else if(gq(this.rightOrigin,b.rightOrigin))break}else if(null!==b.origin&&e.has(gz(a.doc.store,b.origin)))d.has(gz(a.doc.store,b.origin))||(c=b,d.clear());else break;b=b.right}this.left=c}if(null!==this.left){let a=this.left.right;this.right=a,this.left.right=this}else{let a;if(null!==this.parentSub)for(a=this.parent._map.get(this.parentSub)||null;null!==a&&null!==a.left;)a=a.left;else a=this.parent._start,this.parent._start=this;this.right=a}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(a)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),gx(a.doc.store,this),this.content.integrate(a,this),gG(a,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(a)}else new hI(this.id,this.length).integrate(a,0)}get next(){let a=this.right;for(;null!==a&&a.deleted;)a=a.right;return a}get prev(){let a=this.left;for(;null!==a&&a.deleted;)a=a.left;return a}get lastId(){return 1===this.length?this.id:gr(this.id.client,this.id.clock+this.length-1)}mergeWith(a){if(this.constructor===a.constructor&&gq(a.origin,this.lastId)&&this.right===a&&gq(this.rightOrigin,a.rightOrigin)&&this.id.client===a.id.client&&this.id.clock+this.length===a.id.clock&&this.deleted===a.deleted&&null===this.redone&&null===a.redone&&this.content.constructor===a.content.constructor&&this.content.mergeWith(a.content)){let b=this.parent._searchMarker;return b&&b.forEach(b=>{b.p===a&&(b.p=this,!this.deleted&&this.countable&&(b.index-=this.length))}),a.keep&&(this.keep=!0),this.right=a.right,null!==this.right&&(this.right.left=this),this.length+=a.length,!0}return!1}delete(a){if(!this.deleted){let b=this.parent;this.countable&&null===this.parentSub&&(b._length-=this.length),this.markDeleted(),f2(a.deleteSet,this.id.client,this.id.clock,this.length),gG(a,b,this.parentSub),this.content.delete(a)}}gc(a,b){if(!this.deleted)throw e6();if(this.content.gc(a),b){var c;let b;c=new hI(this.id,this.length),(b=a.clients.get(this.id.client))[gy(b,this.id.clock)]=c}else this.content=new hK(this.length)}write(a,b){let c=b>0?gr(this.id.client,this.id.clock+b-1):this.origin,d=this.rightOrigin,e=this.parentSub,f=31&this.content.getRef()|128*(null!==c)|64*(null!==d)|32*(null!==e);if(a.writeInfo(f),null!==c&&a.writeLeftID(c),null!==d&&a.writeRightID(d),null===c&&null===d){let b=this.parent;if(void 0!==b._item){let c=b._item;if(null===c){let c=(a=>{for(let[b,c]of a.doc.share.entries())if(c===a)return b;throw e6()})(b);a.writeParentInfo(!0),a.writeString(c)}else a.writeParentInfo(!1),a.writeLeftID(c.id)}else b.constructor===String?(a.writeParentInfo(!0),a.writeString(b)):b.constructor===gp?(a.writeParentInfo(!1),a.writeLeftID(b)):e6();null!==e&&a.writeString(e)}this.content.write(a,b)}}let h2=(a,b)=>h3[31&b](a),h3=[()=>{e6()},a=>new hK(a.readLen()),a=>{let b=a.readLen(),c=[];for(let d=0;d<b;d++){let b=a.readString();"undefined"===b?c.push(void 0):c.push(JSON.parse(b))}return new hP(c)},a=>new hJ(a.readBuf()),a=>new hS(a.readString()),a=>new hN(a.readJSON()),a=>new hO(a.readKey(),a.readJSON()),a=>new h_(hT[a.readTypeRef()](a)),a=>{let b=a.readLen(),c=[];for(let d=0;d<b;d++)c.push(a.readAny());return new hR(c)},a=>new hM(hL(a.readString(),a.readAny())),()=>{e6()}];class h4 extends hH{get deleted(){return!0}delete(){}mergeWith(a){return this.constructor===a.constructor&&(this.length+=a.length,!0)}integrate(a,b){e6()}write(a,b){a.writeInfo(10),eR(a.restEncoder,this.length-b)}getMissing(a,b){return null}}let h5="undefined"!=typeof globalThis?globalThis:a.g,h6="__ $YJS$ __";!0===h5[h6]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),h5[h6]=!0;let h7=new Map,h8="undefined"==typeof BroadcastChannel?class{constructor(a){let b;this.room=a,this.onmessage=null,this._onChange=b=>{var c;let d;return b.key===a&&null!==this.onmessage&&this.onmessage({data:(c=b.newValue||"",new Uint8Array((d=Buffer.from(c,"base64")).buffer,d.byteOffset,d.byteLength))})},b=this._onChange,fu||addEventListener("storage",b)}postMessage(a){let b;fv.setItem(this.room,(b=new Uint8Array(a),Buffer.from(b.buffer,b.byteOffset,b.byteLength).toString("base64")))}close(){let a;a=this._onChange,fu||removeEventListener("storage",a)}}:BroadcastChannel,h9=a=>eq(h7,a,()=>{let b=er(),c=new h8(a);return c.onmessage=a=>b.forEach(b=>b(a.data,"broadcastchannel")),{bc:c,subs:b}}),ia=(a,b,c=null)=>{let d=h9(a);d.bc.postMessage(b),d.subs.forEach(a=>a(b,c))},ib=(a,b)=>{eR(a,0),eX(a,((a,b=new ge)=>(a instanceof Map?gk(b,a):gk(b,gv(a.store)),b.toUint8Array()))(b,new gc))},ic=(a,b,c)=>{eR(a,1),eX(a,gi(b,c))};class id extends ex{constructor(a){super(),this.doc=a,this.clientID=a.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{let a=fq();null!==this.getLocalState()&&15e3<=a-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());let b=[];this.meta.forEach((c,d)=>{d!==this.clientID&&3e4<=a-c.lastUpdated&&this.states.has(d)&&b.push(d)}),b.length>0&&ie(this,b,"timeout")},ey(3e3)),a.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(a){let b=this.clientID,c=this.meta.get(b),d=void 0===c?0:c.clock+1,e=this.states.get(b);null===a?this.states.delete(b):this.states.set(b,a),this.meta.set(b,{clock:d,lastUpdated:fq()});let f=[],g=[],h=[],i=[];null===a?i.push(b):null==e?null!=a&&f.push(b):(g.push(b),fE(e,a)||h.push(b)),(f.length>0||h.length>0||i.length>0)&&this.emit("change",[{added:f,updated:h,removed:i},"local"]),this.emit("update",[{added:f,updated:g,removed:i},"local"])}setLocalStateField(a,b){let c=this.getLocalState();null!==c&&this.setLocalState({...c,[a]:b})}getStates(){return this.states}}let ie=(a,b,c)=>{let d=[];for(let c=0;c<b.length;c++){let e=b[c];if(a.states.has(e)){if(a.states.delete(e),e===a.clientID){let b=a.meta.get(e);a.meta.set(e,{clock:b.clock+1,lastUpdated:fq()})}d.push(e)}}d.length>0&&(a.emit("change",[{added:[],updated:[],removed:d},c]),a.emit("update",[{added:[],updated:[],removed:d},c]))},ig=(a,b,c=a.states)=>{let d=b.length,e=eN();eR(e,d);for(let f=0;f<d;f++){let d=b[f],g=c.get(d)||null,h=a.meta.get(d).clock;eR(e,d),eR(e,h),eV(e,JSON.stringify(g))}return eP(e)},ih=[];ih[0]=(a,b,c,d,e)=>{eR(a,0);let f=((a,b,c,d,e)=>{let f=fd(a);switch(f){case 0:ic(b,c,fb(a));break;case 1:case 2:var g=a,h=c,i=d,j=e;try{let a;a=fb(g),gh(h,a,i,f9)}catch(a){null!=j&&j(a),console.error("Caught error while handling a Yjs update",a)}break;default:throw Error("Unknown message type")}return f})(b,a,c.doc,c);d&&1===f&&!c.synced&&(c.synced=!0)},ih[3]=(a,b,c,d,e)=>{eR(a,1),eX(a,ig(c.awareness,Array.from(c.awareness.getStates().keys())))},ih[1]=(a,b,c,d,e)=>{((a,b,c)=>{let d=fa(b),e=fq(),f=[],g=[],h=[],i=[],j=fd(d);for(let b=0;b<j;b++){let b=fd(d),c=fd(d),j=JSON.parse(ff(d)),k=a.meta.get(b),l=a.states.get(b),m=void 0===k?0:k.clock;(m<c||m===c&&null===j&&a.states.has(b))&&(null===j?b===a.clientID&&null!=a.getLocalState()?c++:a.states.delete(b):a.states.set(b,j),a.meta.set(b,{clock:c,lastUpdated:e}),void 0===k&&null!==j?f.push(b):void 0!==k&&null===j?i.push(b):null!==j&&(fE(j,l)||h.push(b),g.push(b)))}(f.length>0||h.length>0||i.length>0)&&a.emit("change",[{added:f,updated:h,removed:i},c]),(f.length>0||g.length>0||i.length>0)&&a.emit("update",[{added:f,updated:g,removed:i},c])})(c.awareness,fb(b),c)},ih[2]=(a,b,c,d,e)=>{var f;f=c.doc,0===fd(b)&&((a,b)=>ii(c,b))(f,ff(b))};let ii=(a,b)=>console.warn(`Permission denied to access ${a.url}.
${b}`),ij=(a,b,c)=>{let d=fa(b),e=eN(),f=fd(d),g=a.messageHandlers[f];return g?g(e,d,a,c,f):console.error("Unable to compute message"),e},ik=(a,b,c)=>{b===a.ws&&(a.emit("connection-close",[c,a]),a.ws=null,b.close(),a.wsconnecting=!1,a.wsconnected?(a.wsconnected=!1,a.synced=!1,ie(a.awareness,Array.from(a.awareness.getStates().keys()).filter(b=>b!==a.doc.clientID),a),a.emit("status",[{status:"disconnected"}])):a.wsUnsuccessfulReconnects++,setTimeout(il,eA(100*eC(2,a.wsUnsuccessfulReconnects),a.maxBackoffTime),a))},il=a=>{if(a.shouldConnect&&null===a.ws){let b=new a._WS(a.url,a.protocols);b.binaryType="arraybuffer",a.ws=b,a.wsconnecting=!0,a.wsconnected=!1,a.synced=!1,b.onmessage=c=>{a.wsLastMessageReceived=fq();let d=ij(a,new Uint8Array(c.data),!0);eO(d)>1&&b.send(eP(d))},b.onerror=b=>{a.emit("connection-error",[b,a])},b.onclose=c=>{ik(a,b,c)},b.onopen=()=>{a.wsLastMessageReceived=fq(),a.wsconnecting=!1,a.wsconnected=!0,a.wsUnsuccessfulReconnects=0,a.emit("status",[{status:"connected"}]);let c=eN();if(eR(c,0),ib(c,a.doc),b.send(eP(c)),null!==a.awareness.getLocalState()){let c=eN();eR(c,1),eX(c,ig(a.awareness,[a.doc.clientID])),b.send(eP(c))}},a.emit("status",[{status:"connecting"}])}},im=(a,b)=>{let c=a.ws;a.wsconnected&&c&&c.readyState===c.OPEN&&c.send(b),a.bcconnected&&ia(a.bcChannel,b,a)};class io extends ew{constructor(a,b,c,{connect:d=!0,awareness:e=new id(c),params:f={},protocols:g=[],WebSocketPolyfill:h=WebSocket,resyncInterval:i=-1,maxBackoffTime:j=2500,disableBc:k=!1}={}){for(super();"/"===a[a.length-1];)a=a.slice(0,a.length-1);this.serverUrl=a,this.bcChannel=a+"/"+b,this.maxBackoffTime=j,this.params=f,this.protocols=g,this.roomname=b,this.doc=c,this._WS=h,this.awareness=e,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=k,this.wsUnsuccessfulReconnects=0,this.messageHandlers=ih.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=d,this._resyncInterval=0,i>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){let a=eN();eR(a,0),ib(a,c),this.ws.send(eP(a))}},i)),this._bcSubscriber=(a,b)=>{if(b!==this){let b=ij(this,new Uint8Array(a),!1);eO(b)>1&&ia(this.bcChannel,eP(b),this)}},this._updateHandler=(a,b)=>{if(b!==this){let b=eN();eR(b,0),eR(b,2),eX(b,a),im(this,eP(b))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:a,updated:b,removed:c},d)=>{let f=a.concat(b).concat(c),g=eN();eR(g,1),eX(g,ig(e,f)),im(this,eP(g))},this._exitHandler=()=>{ie(this.awareness,[c.clientID],"app closed")},fF&&"undefined"!=typeof process&&process.on("exit",this._exitHandler),e.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&3e4<fq()-this.wsLastMessageReceived&&ik(this,this.ws,null)},3e3),d&&this.connect()}get url(){let a=((a,b)=>{let c=[];for(let d in a)c.push(b(a[d],d));return c})(this.params,(a,b)=>`${encodeURIComponent(b)}=${encodeURIComponent(a)}`).join("&");return this.serverUrl+"/"+this.roomname+(0===a.length?"":"?"+a)}get synced(){return this._synced}set synced(a){this._synced!==a&&(this._synced=a,this.emit("synced",[a]),this.emit("sync",[a]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),fF&&"undefined"!=typeof process&&process.off("exit",this._exitHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;if(!this.bcconnected){var a,b;a=this.bcChannel,b=this._bcSubscriber,h9(a).subs.add(b),this.bcconnected=!0}let c=eN();eR(c,0),ib(c,this.doc),ia(this.bcChannel,eP(c),this);let d=eN();eR(d,0),ic(d,this.doc),ia(this.bcChannel,eP(d),this);let e=eN();eR(e,3),ia(this.bcChannel,eP(e),this);let f=eN();eR(f,1),eX(f,ig(this.awareness,[this.doc.clientID])),ia(this.bcChannel,eP(f),this)}disconnectBc(){let a=eN();if(eR(a,1),eX(a,ig(this.awareness,[this.doc.clientID],new Map)),im(this,eP(a)),this.bcconnected){var b,c;let a;b=this.bcChannel,c=this._bcSubscriber,(a=h9(b)).subs.delete(c)&&0===a.subs.size&&(a.bc.close(),h7.delete(b)),this.bcconnected=!1}}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&ik(this,this.ws,null)}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(il(this),this.connectBc())}}class ip{doc;provider;documentId;userId;syncCallbacks=[];awarenessCallbacks=[];constructor(a,b){this.documentId=a,this.userId=b,this.doc=new f7,this.provider=new io(process.env.WEBSOCKET_URL||"ws://localhost:3001",a,this.doc,{connect:!0,params:{userId:b,room:a}}),this.setupUserAwareness(),this.setupEventListeners()}setupUserAwareness(){this.provider.awareness.setLocalStateField("user",{id:this.userId,name:this.getUserName(),email:this.getUserEmail(),color:this.getUserColor(this.userId),cursor:{x:0,y:0},isActive:!0})}setupEventListeners(){this.provider.on("status",a=>{let b="connected"===a.status;this.syncCallbacks.forEach(a=>a(b))}),this.provider.on("sync",a=>{this.syncCallbacks.forEach(b=>b(a))}),this.provider.awareness.on("update",a=>{this.awarenessCallbacks.forEach(b=>b(a))}),this.provider.on("connect",()=>{console.log(`Connected to room: ${this.documentId}`),this.syncCallbacks.forEach(a=>a(!0))}),this.provider.on("disconnect",()=>{console.log(`Disconnected from room: ${this.documentId}`),this.syncCallbacks.forEach(a=>a(!1))})}getText(a="content"){return this.doc.getText(a)}getArray(a="tasks"){return this.doc.getArray(a)}getMap(a="drawing"){return this.doc.getMap(a)}getConnectedUsers(){return this.provider?.awareness?Array.from(this.provider.awareness.getStates().values()).filter(a=>a.user&&a.user.id!==this.userId).map(a=>({id:a.user.id,name:a.user.name||`User ${a.user.id}`,email:a.user.email||"",cursor:a.user.cursor||{x:0,y:0},color:a.user.color||this.getUserColor(a.user.id),isActive:!1!==a.user.isActive,lastSeen:new Date().toISOString()})):[]}updateCursor(a,b){if(!this.provider?.awareness)return;let c={...(this.provider.awareness.getLocalState()||{}).user,cursor:{x:a,y:b}};this.provider.awareness.setLocalStateField("user",c)}getDocument(){return this.doc}async syncWithDatabase(a){if(a)try{let b,c,d=new Uint8Array(a);b=this.doc,gh(b,d,c,f9)}catch(a){console.error("Error applying database update:",a)}try{let a=gi(this.doc);return Buffer.from(a)}catch(a){return console.error("Error encoding state:",a),Buffer.alloc(0)}}onSync(a){this.syncCallbacks.push(a)}onAwarenessUpdate(a){this.awarenessCallbacks.push(a)}getUserColor(a){let b=["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899"],c=a.charCodeAt(0)%b.length;return b[c]}getUserName(){return`User ${this.userId}`}getUserEmail(){return""}destroy(){this.provider&&this.provider.destroy(),this.doc.destroy(),this.syncCallbacks=[],this.awarenessCallbacks=[]}}function iq(a,...[b={}]){let c=du(b.client),{skip:d,fetchPolicy:e,errorPolicy:f,shouldResubscribe:g,context:h,extensions:i,ignoreResults:j}=b,k=dq(()=>b.variables,[b.variables]),l=()=>{var b,d,g,j,l;let m,n;return b=c,d=a,g=k,j=e,l=f,n={...m={query:d,variables:g,fetchPolicy:j,errorPolicy:l,context:h,extensions:i},client:b,completed:!1,result:{loading:!0,data:void 0,error:void 0},setResult(a){n.result=a}},Object.assign(b.subscribe(m),{__:n})},[m,n]=s.useState(b.skip?null:l),o=s.useRef(l);dG(()=>{o.current=l}),d?m&&n(m=null):m&&(c===m.__.client&&a===m.__.query&&e===m.__.fetchPolicy&&f===m.__.errorPolicy&&bg(k,m.__.variables)||("function"==typeof g?!!g(b):g)===!1)||n(m=l());let p=s.useRef(b);s.useEffect(()=>{p.current=b});let q=!d&&!j,r=s.useMemo(()=>({loading:q,error:void 0,data:void 0}),[q]),t=s.useRef(j);dG(()=>{t.current=j});let u=dA(s.useCallback(a=>{if(!m)return()=>{};let b=!1,c=m.__.client,d=m.subscribe({next(d){if(b)return;let e={loading:!1,data:d.data,error:d.error};m.__.setResult(e),t.current||a(),e.error?p.current.onError?.(e.error):p.current.onData&&p.current.onData({client:c,data:e})},complete(){m.__.completed=!0,!b&&p.current.onComplete&&p.current.onComplete()}});return()=>{b=!0,setTimeout(()=>d.unsubscribe())}},[m]),()=>!m||d||j?r:m.__.result,()=>r),v=s.useCallback(()=>{P(!p.current.skip,33),m?.__.completed?n(o.current()):m?.restart()},[p,o,m]);return s.useMemo(()=>({...u,restart:v}),[u,v])}let ir=d9`
  query GetDocument($id: String!) {
    document(id: $id) {
      id
      title
      type
      content
      createdAt
      updatedAt
      owner {
        id
        name
        email
      }
    }
  }
`,is=d9`
  subscription DocumentUpdated($documentId: String!) {
    documentUpdated(documentId: $documentId) {
      id
      title
      content
      updatedAt
    }
  }
`,it=d9`
  mutation UpdateDocument($id: String!, $title: String) {
    updateDocument(id: $id, title: $title) {
      id
      title
      updatedAt
    }
  }
`,iu=d9`
  subscription ActiveUsers($documentId: String!) {
    activeUsers(documentId: $documentId) {
      id
      name
      email
      cursor {
        x
        y
      }
      color
      isActive
      lastSeen
    }
  }
`;function iv({documentId:a,documentType:b}){let{data:c}=(0,t.useSession)(),[d,e]=(0,s.useState)(null),[f,g]=(0,s.useState)(""),[h,i]=(0,s.useState)([]),[j,k]=(0,s.useState)({id:a,type:b}),[l,m]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),[p,q]=(0,s.useState)(!1),[u,v]=(0,s.useState)(null);(0,s.useRef)(null);let w=(0,s.useRef)(null),x=(0,s.useMemo)(()=>new b9({link:new dn({uri:"/api/graphql",credentials:"include",headers:c?.user?.id?{"x-user-id":c.user.id}:{}}),cache:new c9}),[c?.user?.id]),{data:y}=dD(ir,{variables:{id:a},skip:!a,client:x}),{data:z}=iq(is,{variables:{documentId:a},skip:!a}),{data:A}=iq(iu,{variables:{documentId:a},skip:!a}),[B]=dH(it,{client:x,context:{headers:{...c&&{"x-user-id":c.user?.id||""}}}});(0,s.useEffect)(()=>{y?.document?.title&&g(a=>a||y.document.title)},[y?.document?.title]),(0,s.useEffect)(()=>{if(!c?.user?.id||!a)return;let b=new ip(a,c.user.id);return e(b),b.onSync(m),b.onAwarenessUpdate(()=>{i(b.getConnectedUsers())}),()=>b.destroy()},[a,c?.user?.id]),(0,s.useEffect)(()=>{z?.documentUpdated&&d&&console.log("Document updated:",z.documentUpdated)},[z,d]),(0,s.useEffect)(()=>{A?.activeUsers&&i(A.activeUsers)},[A]);let C=a=>{let b=["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899"],c=a.charCodeAt(0)%b.length;return b[c]},D=(0,s.useCallback)(async()=>{if(d&&!p)try{q(!0),console.log("Starting save process for document type:",b);let c=await d.syncWithDatabase();console.log("Content synced, size:",c.length),console.log("Document title being saved:",f);let e=await B({variables:{id:a,title:f}});console.log("GraphQL update result:",e),v(new Date),console.log("Document saved successfully"),e?.data?.updateDocument&&(console.log("Document updated in database"),alert("Document saved successfully!"))}catch(a){console.error("Save failed:",a),alert(`Save failed: ${a instanceof Error?a.message:"Unknown error"}`)}finally{q(!1)}},[d,a,f,B,p]),E=(0,s.useMemo)(()=>{if(!d)return null;switch(b){case"writing":return(0,r.jsx)(iw,{crdtProvider:d,onSave:D});case"drawing":return(0,r.jsx)(ix,{crdtProvider:d,canvasRef:w,onSave:D});case"planning":return(0,r.jsx)(iy,{crdtProvider:d,onSave:D});default:return null}},[b,d,D]);return(0,s.useEffect)(()=>{let a=a=>{(a.ctrlKey||a.metaKey)&&"s"===a.key&&(a.preventDefault(),D())};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[D]),(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:`w-2 h-2 rounded-full ${l?"bg-green-500":"bg-red-500"}`}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:l?"Connected":"Disconnected"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 bg-muted/50 px-3 py-2 rounded-md border",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Room:"}),(0,r.jsx)("span",{className:"font-mono font-bold text-primary text-sm",children:j.id}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(j.id),o(!0),setTimeout(()=>o(!1),2e3)},className:"ml-2",title:"Copy Room ID",children:" Copy"})]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Type:"," ",(0,r.jsx)("span",{className:"font-medium text-foreground capitalize",children:j.type})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex -space-x-2",children:h.map(a=>(0,r.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-background flex items-center justify-center",style:{backgroundColor:C(a.id)},title:a.name||a.email,children:(0,r.jsx)("span",{className:"text-xs text-white font-medium",children:a.name?.[0]||a.email?.[0]||"U"})},a.id))}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[h.length," active"]})]}),(0,r.jsx)(eb.Button,{onClick:D,disabled:p,className:"flex items-center space-x-2",children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V2"})}),"Save"]})})]})]})}),(0,r.jsx)("div",{className:"border-b bg-muted/30 px-4 py-3",children:(0,r.jsx)("input",{type:"text",value:f,onChange:a=>{g(a.target.value)},className:"text-xl font-semibold bg-transparent border-none outline-none w-full",placeholder:"Document title"})}),(0,r.jsxs)("div",{className:"flex-1 relative overflow-hidden",children:[E,"drawing"===b&&h.map(a=>a.cursor&&(0,r.jsx)("div",{className:"absolute w-4 h-4 rounded-full border-2 border-white pointer-events-none",style:{left:a.cursor.x,top:a.cursor.y,backgroundColor:C(a.id),transform:"translate(-50%, -50%)"},title:a.name||a.email},a.id))]}),(0,r.jsx)("div",{className:"border-t bg-muted/30 px-4 py-2",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,r.jsxs)("div",{children:["Last updated: ",u?u.toLocaleTimeString():new Date().toLocaleTimeString()]}),(0,r.jsx)("div",{children:h.map(a=>(0,r.jsxs)("span",{className:"inline-flex items-center mr-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full mr-1",style:{backgroundColor:C(a.id)}}),a.name||a.email]},a.id))})]})}),n&&(0,r.jsx)("div",{className:"fixed bottom-4 right-4 bg-primary text-primary-foreground px-4 py-2 rounded-md shadow-lg z-50",children:(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)("span",{children:" Room ID copied to clipboard!"})})})]})}function iw({crdtProvider:a,onSave:b}){let[c,d]=(0,s.useState)(""),[e,f]=(0,s.useState)(!1),[g,h]=(0,s.useState)(null),[i,j]=(0,s.useState)(0),[k,l]=(0,s.useState)(0),[m,n]=(0,s.useState)(0),[o,p]=(0,s.useState)(!1),[q,t]=(0,s.useState)("16"),[u,v]=(0,s.useState)(!0);(0,s.useEffect)(()=>{if(!a)return;let b=a.getText("content");d(b.toString());let c=()=>{let a=b.toString();d(a),w(a);let c=setTimeout(()=>{x()},1e3);return()=>clearTimeout(c)};return b.observe(c),()=>b.unobserve(c)},[a]);let w=a=>{let b=a.trim().split(/\s+/).filter(a=>a.length>0).length,c=a.length,d=Math.ceil(b/200);j(b),l(c),n(d)},x=async()=>{if(a&&!e){f(!0);try{await a.syncWithDatabase(),console.log("Writing content auto-saved"),h(new Date)}catch(a){console.error("Auto-save failed:",a)}finally{f(!1)}}},y=b=>{if(!a)return;let c=a.getText("content"),e=c.toString(),f=e;switch(b){case"uppercase":f=e.toUpperCase();break;case"lowercase":f=e.toLowerCase();break;case"clear":f=""}c.delete(0,c.length),c.insert(0,f),d(f),w(f)};return(0,r.jsxs)("div",{className:`flex flex-col h-full ${o?"fixed inset-0 z-50 bg-background":""}`,children:[u&&(0,r.jsx)("div",{className:"border-b bg-muted/30 px-4 py-2",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("select",{value:q,onChange:a=>t(a.target.value),className:"px-2 py-1 text-xs border border-input rounded focus:outline-none focus:ring-1 focus:ring-ring",children:[(0,r.jsx)("option",{value:"12",children:"12px"}),(0,r.jsx)("option",{value:"14",children:"14px"}),(0,r.jsx)("option",{value:"16",children:"16px"}),(0,r.jsx)("option",{value:"18",children:"18px"}),(0,r.jsx)("option",{value:"20",children:"20px"}),(0,r.jsx)("option",{value:"24",children:"24px"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>y("uppercase"),title:"Uppercase",children:"Aa"}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>y("lowercase"),title:"Lowercase",children:"aa"}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>y("clear"),title:"Clear",children:"Clear"})]}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>{let a=new Blob([c],{type:"text/plain"}),b=URL.createObjectURL(a),d=document.createElement("a");d.href=b,d.download="document.txt",d.click(),URL.revokeObjectURL(b)},title:"Export",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>v(!u),title:"Toggle Toolbar",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,r.jsxs)(eb.Button,{variant:"default",size:"sm",onClick:b,disabled:!b,title:"Save Document (Ctrl+S)",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V2"})}),"Save"]}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>p(!o),title:"Toggle Fullscreen",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})]})}),(0,r.jsx)("div",{className:"border-b bg-muted/20 px-4 py-1",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{children:["Words: ",i]}),(0,r.jsxs)("span",{children:["Characters: ",k]}),(0,r.jsxs)("span",{children:["Reading time: ",m," min"]})]}),g&&(0,r.jsxs)("span",{children:["Last saved: ",g.toLocaleTimeString()]})]})}),(0,r.jsx)("div",{className:"flex-1 p-4",children:(0,r.jsx)("textarea",{value:c,onChange:b=>{let c=b.target.value;if(d(c),w(c),a){let b=a.getText("content");b.delete(0,b.length),b.insert(0,c)}},className:"w-full h-full p-4 border border-input rounded-md bg-background text-foreground resize-none focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",style:{fontSize:`${q}px`},placeholder:"Start writing your document..."})}),(0,r.jsxs)("div",{className:"border-t bg-muted/30 px-4 py-2 flex items-center justify-between text-xs text-muted-foreground",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2",children:e?(0,r.jsxs)("span",{className:"flex items-center text-blue-600",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Saving..."]}):g?(0,r.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Saved ",g.toLocaleTimeString()]}):(0,r.jsx)("span",{children:"Ready to save"})}),(0,r.jsx)("div",{className:"text-xs",children:"Auto-save enabled"})]})]})}function ix({crdtProvider:a,canvasRef:b,onSave:c}){let[d,e]=(0,s.useState)(!1),[f,g]=(0,s.useState)(null),[h,i]=(0,s.useState)(!1),[j,k]=(0,s.useState)("pen"),[l,m]=(0,s.useState)("#3b82f6"),[n,o]=(0,s.useState)(2),[p,q]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{if(!a||!b.current)return;let c=b.current,f=c.getContext("2d");if(!f)return;c.width=c.offsetWidth,c.height=c.offsetHeight;let k=a.getMap("drawing"),m=0,o=0,p=0,q=0,r=async()=>{if(a&&!d){e(!0);try{await a.syncWithDatabase(),console.log("Drawing auto-saved"),g(new Date)}catch(a){console.error("Drawing auto-save failed:",a)}finally{e(!1)}}},s=()=>{f.clearRect(0,0,c.width,c.height),(k.get("paths")||[]).forEach(a=>{f.strokeStyle=a.color,f.lineWidth=a.lineWidth,f.lineCap="round","line"===a.type?(f.beginPath(),f.moveTo(a.from.x,a.from.y),f.lineTo(a.to.x,a.to.y),f.stroke()):"rectangle"===a.type?(f.beginPath(),f.rect(a.x,a.y,a.width,a.height),f.stroke()):"circle"===a.type&&(f.beginPath(),f.arc(a.x,a.y,a.radius,0,2*Math.PI),f.stroke())})},t=a=>{let b=c.getBoundingClientRect();m=a.clientX-b.left,o=a.clientY-b.top,p=m,q=o,i(!0),"eraser"===j?(f.globalCompositeOperation="destination-out",f.lineWidth=3*n):(f.globalCompositeOperation="source-over",f.strokeStyle=l,f.lineWidth=n)},u=a=>{if(!h)return;let b=c.getBoundingClientRect(),d=a.clientX-b.left,e=a.clientY-b.top;if("pen"===j||"eraser"===j){f.beginPath(),f.moveTo(m,o),f.lineTo(d,e),f.stroke();let a=k.get("paths")||[];a.push({type:"line",from:{x:m,y:o},to:{x:d,y:e},color:l,lineWidth:n,tool:j}),k.set("paths",a),m=d,o=e}else if("rectangle"===j||"circle"===j)if(s(),f.strokeStyle=l,f.lineWidth=n,"rectangle"===j)f.beginPath(),f.rect(p,q,d-p,e-q),f.stroke();else{let a=Math.sqrt(Math.pow(d-p,2)+Math.pow(e-q,2));f.beginPath(),f.arc(p,q,a,0,2*Math.PI),f.stroke()}setTimeout(r,1e3)},v=()=>{if(h){if("rectangle"===j||"circle"===j){let a=c.getBoundingClientRect(),b=event instanceof MouseEvent?event.clientX-a.left:p,d=event instanceof MouseEvent?event.clientY-a.top:q,e=k.get("paths")||[];if("rectangle"===j)e.push({type:"rectangle",x:Math.min(p,b),y:Math.min(q,d),width:Math.abs(b-p),height:Math.abs(d-q),color:l,lineWidth:n});else{let a=Math.sqrt(Math.pow(b-p,2)+Math.pow(d-q,2));e.push({type:"circle",x:p,y:q,radius:a,color:l,lineWidth:n})}k.set("paths",e)}i(!1),r()}};return s(),c.addEventListener("mousedown",t),c.addEventListener("mousemove",u),c.addEventListener("mouseup",v),c.addEventListener("mouseout",v),()=>{c.removeEventListener("mousedown",t),c.removeEventListener("mousemove",u),c.removeEventListener("mouseup",v),c.removeEventListener("mouseout",v)}},[a,j,l,n,d]),(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[p&&(0,r.jsx)("div",{className:"border-b bg-muted/30 px-4 py-2",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(eb.Button,{variant:"pen"===j?"default":"ghost",size:"sm",onClick:()=>k("pen"),title:"Pen",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,r.jsx)(eb.Button,{variant:"eraser"===j?"default":"ghost",size:"sm",onClick:()=>k("eraser"),title:"Eraser",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,r.jsx)(eb.Button,{variant:"rectangle"===j?"default":"ghost",size:"sm",onClick:()=>k("rectangle"),title:"Rectangle",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("rect",{x:"4",y:"6",width:"16",height:"12",strokeWidth:2})})}),(0,r.jsx)(eb.Button,{variant:"circle"===j?"default":"ghost",size:"sm",onClick:()=>k("circle"),title:"Circle",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("circle",{cx:"12",cy:"12",r:"8",strokeWidth:2})})})]}),(0,r.jsx)("div",{className:"flex items-center space-x-1",children:["#000000","#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#6b7280"].map(a=>(0,r.jsx)("button",{onClick:()=>m(a),className:`w-6 h-6 rounded border-2 ${l===a?"border-ring":"border-border"}`,style:{backgroundColor:a},title:a},a))}),(0,r.jsxs)("select",{value:n,onChange:a=>o(Number(a.target.value)),className:"px-2 py-1 text-xs border border-input rounded focus:outline-none focus:ring-1 focus:ring-ring",children:[(0,r.jsx)("option",{value:"1",children:"Thin"}),(0,r.jsx)("option",{value:"2",children:"Normal"}),(0,r.jsx)("option",{value:"4",children:"Medium"}),(0,r.jsx)("option",{value:"8",children:"Thick"})]}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>{if(!a||!b.current)return;a.getMap("drawing").set("paths",[]);let c=b.current,d=c.getContext("2d");d&&d.clearRect(0,0,c.width,c.height)},title:"Clear Canvas",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>{if(!b.current)return;let a=b.current.toDataURL("image/png"),c=document.createElement("a");c.href=a,c.download="drawing.png",c.click()},title:"Export",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>q(!p),title:"Toggle Toolbar",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,r.jsxs)(eb.Button,{variant:"default",size:"sm",onClick:c,disabled:!c,title:"Save Document (Ctrl+S)",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V2"})}),"Save"]})]})}),(0,r.jsx)("div",{className:"flex-1 p-4",children:(0,r.jsx)("canvas",{ref:b,className:"w-full h-full border border-input rounded-md bg-white cursor-crosshair",style:{touchAction:"none"}})}),(0,r.jsxs)("div",{className:"border-t bg-muted/30 px-4 py-2 flex items-center justify-between text-xs text-muted-foreground",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2",children:d?(0,r.jsxs)("span",{className:"flex items-center text-blue-600",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Saving drawing..."]}):f?(0,r.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Saved ",f.toLocaleTimeString()]}):(0,r.jsx)("span",{children:"Ready to draw"})}),(0,r.jsx)("div",{className:"text-xs",children:"Auto-save enabled"})]})]})}function iy({crdtProvider:a,onSave:b}){let[c,d]=(0,s.useState)([]),[e,f]=(0,s.useState)(!1),[g,h]=(0,s.useState)(null),[i,j]=(0,s.useState)(""),[k,l]=(0,s.useState)("all"),[m,n]=(0,s.useState)("date");(0,s.useEffect)(()=>{if(!a)return;let b=a.getArray("tasks");d(b.toJSON());let c=()=>{d(b.toJSON()),setTimeout(o,1e3)};return b.observe(c),()=>b.unobserve(c)},[a]);let o=async()=>{if(a&&!e){f(!0);try{await a.syncWithDatabase(),console.log("Planning tasks auto-saved"),h(new Date)}catch(a){console.error("Planning auto-save failed:",a)}finally{f(!1)}}},p=()=>{a&&i.trim()&&(a.getArray("tasks").push([{id:Date.now(),text:i.trim(),completed:!1,priority:"medium",createdAt:new Date().toISOString(),dueDate:null,tags:[]}]),j(""))},q=(b,c)=>{if(!a)return;let d=a.getArray("tasks"),e=d.get(b);d.delete(b),d.insert(b,[{...e,...c}])},t=[...c.filter(a=>"active"===k?!a.completed:"completed"!==k||a.completed)].sort((a,b)=>{if("date"===m)return new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime();if("priority"===m){let c={high:3,medium:2,low:1};return c[b.priority]-c[a.priority]}return"name"===m?a.text.localeCompare(b.text):0}),u={total:c.length,completed:c.filter(a=>a.completed).length,active:c.filter(a=>!a.completed).length};return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex-1 p-4",children:[(0,r.jsx)("div",{className:"mb-4 p-3 bg-muted/50 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("span",{className:"font-medium",children:["Total: ",u.total]}),(0,r.jsxs)("span",{className:"text-blue-600",children:["Active: ",u.active]}),(0,r.jsxs)("span",{className:"text-green-600",children:["Completed: ",u.completed]})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[u.total>0?Math.round(u.completed/u.total*100):0,"% complete"]})]})}),(0,r.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"text",value:i,onChange:a=>j(a.target.value),onKeyPress:a=>"Enter"===a.key&&p(),placeholder:"Add a new task...",className:"px-3 py-2 border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring"}),(0,r.jsx)(eb.Button,{onClick:p,size:"sm",disabled:!i.trim(),children:"Add Task"}),(0,r.jsxs)(eb.Button,{variant:"default",size:"sm",onClick:b,disabled:!b,title:"Save Document (Ctrl+S)",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V2"})}),"Save"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("select",{value:k,onChange:a=>l(a.target.value),className:"px-3 py-2 border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[(0,r.jsx)("option",{value:"all",children:"All Tasks"}),(0,r.jsx)("option",{value:"active",children:"Active"}),(0,r.jsx)("option",{value:"completed",children:"Completed"})]}),(0,r.jsxs)("select",{value:m,onChange:a=>n(a.target.value),className:"px-3 py-2 border border-input rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[(0,r.jsx)("option",{value:"date",children:"Sort by Date"}),(0,r.jsx)("option",{value:"priority",children:"Sort by Priority"}),(0,r.jsx)("option",{value:"name",children:"Sort by Name"})]})]})]}),(0,r.jsx)("div",{className:"space-y-2",children:0===t.length?(0,r.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"completed"===k?"No completed tasks yet":"active"===k?"No active tasks":"No tasks yet. Add one above!"}):t.map((b,d)=>{let e=c.findIndex(a=>a.id===b.id);return(0,r.jsxs)("div",{className:`flex items-center space-x-3 p-3 border border-input rounded-md transition-colors ${b.completed?"bg-muted/30":"bg-background"}`,children:[(0,r.jsx)("input",{type:"checkbox",checked:b.completed,onChange:()=>{let a;return a=c[e],void q(e,{completed:!a.completed})},className:"w-4 h-4"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:`flex items-center space-x-2 ${b.completed?"line-through text-muted-foreground":""}`,children:[(0,r.jsx)("span",{className:"font-medium",children:b.text}),(0,r.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${"high"===b.priority?"bg-red-100 text-red-700":"medium"===b.priority?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:b.priority})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-1 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["Created ",new Date(b.createdAt).toLocaleDateString()]}),b.dueDate&&(0,r.jsxs)("span",{children:[" Due ",new Date(b.dueDate).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsxs)("select",{value:b.priority,onChange:a=>q(e,{priority:a.target.value}),className:"px-2 py-1 text-xs border border-input rounded focus:outline-none focus:ring-1 focus:ring-ring",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>{!a||a.getArray("tasks").delete(e)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},b.id)})})]}),(0,r.jsxs)("div",{className:"border-t bg-muted/30 px-4 py-2 flex items-center justify-between text-xs text-muted-foreground",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2",children:e?(0,r.jsxs)("span",{className:"flex items-center text-blue-600",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Saving tasks..."]}):g?(0,r.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Saved ",g.toLocaleTimeString()]}):(0,r.jsx)("span",{children:"Ready to plan"})}),(0,r.jsx)("div",{className:"text-xs",children:"Auto-save enabled"})]})]})}let iz=({client:a,children:b})=>{let c=dt(),d=s.useContext(c),e=s.useMemo(()=>({...d,client:a||d.client}),[d,a]);return P(e.client,38),s.createElement(c.Provider,{value:e},b)},iA=new b9({link:new dn({uri:"/api/graphql"}),cache:new c9});function iB(){let{data:a,status:b}=(0,t.useSession)(),c=(0,u.useRouter)(),[d,e]=(0,s.useState)(null);return((0,s.useEffect)(()=>{"loading"!==b&&(a||c.push("/auth/signin"))},[a,b,c]),"loading"===b)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):a?(0,r.jsx)(iz,{client:iA,children:(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsxs)("div",{className:"container flex h-16 items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[d&&(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",onClick:()=>{e(null)},children:" Back"}),(0,r.jsx)("h1",{className:"text-xl font-semibold",children:"Collaborative Workspace"})]}),(0,r.jsxs)("div",{className:"ml-auto flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-primary",children:a.user?.name?.[0]||a.user?.email?.[0]||"U"})}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground hidden sm:block",children:a.user?.name||a.user?.email})]}),(0,r.jsx)(eb.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsx)("a",{href:"/api/auth/signout",children:"Sign out"})})]})]})}),(0,r.jsx)("div",{className:"flex h-[calc(100vh-4rem)]",children:d?(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(iv,{documentId:d.id,documentType:d.type})}):(0,r.jsxs)("div",{className:"flex flex-1",children:[(0,r.jsx)("div",{className:"w-80 border-r bg-muted/0",children:(0,r.jsx)(en,{onDocumentSelect:(a,b)=>{e({id:a,type:b})}})}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,r.jsxs)(ed.Card,{className:"w-full max-w-md text-center",children:[(0,r.jsxs)(ed.CardHeader,{children:[(0,r.jsx)("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,r.jsx)(ed.CardTitle,{children:"Welcome to your workspace"}),(0,r.jsx)(ed.CardDescription,{children:"Select a document from the sidebar to start collaborating"})]}),(0,r.jsx)(ed.CardContent,{children:(0,r.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,r.jsx)("p",{children:" Create and edit documents together"}),(0,r.jsx)("p",{children:" Draw and sketch in real-time"}),(0,r.jsx)("p",{children:" Plan and organize collaboratively"})]})})]})})]})})]})}):null}a.s(["default",()=>iB],49846)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__75533b67._.js.map